(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2798],{64317:function(ee,I,e){"use strict";var m=e(28991),L=e(81253),N=e(85893),P=e(96202),s=e(67294),F=e(66758),$=e(53048),V=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],Q=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],g=s.forwardRef(function(r,y){var S=r.fieldProps,B=r.children,D=r.params,f=r.proFieldProps,Z=r.mode,j=r.valueEnum,R=r.request,v=r.showSearch,A=r.options,t=(0,L.Z)(r,V),M=(0,s.useContext)(F.Z);return(0,N.jsx)($.Z,(0,m.Z)((0,m.Z)({valueEnum:(0,P.h)(j),request:R,params:D,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({options:A,mode:Z,showSearch:v,getPopupContainer:M.getPopupContainer},S),ref:y,proFieldProps:f},t),{},{children:B}))}),X=s.forwardRef(function(r,y){var S=r.fieldProps,B=r.children,D=r.params,f=r.proFieldProps,Z=r.mode,j=r.valueEnum,R=r.request,v=r.options,A=(0,L.Z)(r,Q),t=(0,m.Z)({options:v,mode:Z||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},S),M=(0,s.useContext)(F.Z);return(0,N.jsx)($.Z,(0,m.Z)((0,m.Z)({valueEnum:(0,P.h)(j),request:R,params:D,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({getPopupContainer:M.getPopupContainer},t),ref:y,proFieldProps:f},A),{},{children:B}))}),x=g,U=X,p=x;p.SearchSelect=U,p.displayName="ProFormComponent",I.Z=p},94308:function(ee,I,e){"use strict";e.r(I),e.d(I,{default:function(){return te}});var m=e(49111),L=e(19650),N=e(66456),P=e(15885),s=e(39428),F=e(3182),$=e(62350),V=e(24565),Q=e(34792),g=e(48086),X=e(57663),x=e(71577),U=e(11849),p=e(2824),r=e(67294),y=e(8212),S=e(82061),B=e(51042),D=e(66801),f=e(63863),Z=e(37490),j=e(952),R=e(37476),v=e(5966),A=e(64317),t=e(85893),M=function(C){var G=C.modalVisible,O=C.setModalVisible,Y=C.callbackRef,o=C.renderData,H=C.url,W=(0,r.useState)(o.types=="edit"?o.parentProject:""),T=(0,p.Z)(W,2),K=T[0],J=T[1],h=(0,r.useRef)(),w=function(l,a){return a.some(function(z){return z.label.toLowerCase().indexOf(l.toLowerCase())>-1})};function k(n,l){J(n),console.log(n,l)}return o.types=="edit"&&setTimeout(function(){var n;o.type=o.type+"",h==null||(n=h.current)===null||n===void 0||n.setFieldsValue(o)},100),(0,t.jsxs)(R.Y,{title:"\u65B0\u5EFA\u5B57\u6BB5",formRef:h,visible:G,width:800,autoFocusFirstInput:!0,modalProps:{onCancel:function(){return O()},destroyOnClose:!0},onFinish:function(){var n=(0,F.Z)((0,s.Z)().mark(function l(a){return(0,s.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:o.types=="edit"&&(a.id=o.id),f.Z.post(H,a).then(function(i){return i.status=="success"&&(g.default.success("\u64CD\u4F5C\u6210\u529F"),O(),Y()),!0}).catch(function(i){return!0});case 2:case"end":return u.stop()}},l)}));return function(l){return n.apply(this,arguments)}}(),children:[(0,t.jsxs)(j.ZP.Group,{children:[(0,t.jsx)(v.Z,{width:500,label:"\u5B57\u6BB5\u540D",name:"name",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u6536\u8D39\u6807\u51C6"}]}),(0,t.jsx)(A.Z,{label:"\u5B57\u6BB5\u7C7B\u578B",name:"type",width:"sm",request:(0,F.Z)((0,s.Z)().mark(function n(){return(0,s.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Z.Z.getList("SignUpData"));case 1:case"end":return a.stop()}},n)})),rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B57\u6BB5\u7C7B\u578B"}]}),(0,t.jsx)(v.Z,{width:500,label:"\u8BF4\u660E",name:"description",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u8BF4\u660E"}]}),(0,t.jsx)(v.Z,{width:500,label:"\u683C\u5F0F\u9650\u5236",name:"format"})]}),(0,t.jsx)("span",{children:"\u683C\u5F0F\u9650\u5236\u7684\u683C\u5F0F:{size:\u9650\u5236\u4E0A\u4F20\u7684\u5927\u5C0F\u5355\u4F4Dkb,required:\u662F\u5426\u5FC5\u586B,requirement\uFF1A\u540D\u79F0\u540E\u63D0\u793A,Example\uFF1A\u56FE\u7247\u793A\u4F8B\u94FE\u63A5,Download:\u4E0B\u8F7D\u6A21\u677F\u94FE\u63A5,hidden:\u662F\u5426\u9690\u85CF}"})]})},te=function(C){var G=(0,r.useState)(null),O=(0,p.Z)(G,2),Y=O[0],o=O[1],H=(0,r.useState)(!1),W=(0,p.Z)(H,2),T=W[0],K=W[1],J=(0,r.useState)(""),h=(0,p.Z)(J,2),w=h[0],k=h[1],n=(0,r.useRef)(),l="/sms/business/bizField",a=function(){n.current.reload()},z=[{title:"\u5B57\u6BB5\u540D",dataIndex:"name",key:"name"},{title:"\u5B57\u6BB5\u7C7B\u578B",dataIndex:"type",key:"type",render:function(i,d){return(0,t.jsx)("span",{children:Z.Z.getName("SignUpData",d.type)})}},{title:"\u8BF4\u660E",dataIndex:"description",key:"description"},{title:"\u9650\u5236",dataIndex:"format",key:"format"},{title:"\u64CD\u4F5C",valueType:"option",key:"option",render:function(i,d,q,b){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,{type:"primary",size:"small",icon:(0,t.jsx)(y.Z,{}),style:{marginRight:"10px",marginBottom:"8px"},onClick:function(){o((0,U.Z)((0,U.Z)({},d),{},{types:"edit"})),K(!0)},children:"\u7F16\u8F91"},"editable"),(0,t.jsx)(V.Z,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",onConfirm:function(){f.Z.delete(l,{id:d.id}).then(function(_){_.status=="success"&&(g.default.success("\u5220\u9664\u6210\u529F"),a())})},okText:"\u5220\u9664",cancelText:"\u53D6\u6D88",children:(0,t.jsx)(x.Z,{size:"small",type:"primary",danger:!0,icon:(0,t.jsx)(S.Z,{}),children:"\u5220\u9664"},"delete")},d.id)]})}}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.ZP,{columns:z,actionRef:n,cardBordered:!0,request:(0,F.Z)((0,s.Z)().mark(function u(){var i,d,q,b,c=arguments;return(0,s.Z)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return i=c.length>0&&c[0]!==void 0?c[0]:{},d=c.length>1?c[1]:void 0,q=c.length>2?c[2]:void 0,E.next=5,f.Z.get(l,i);case 5:return b=E.sent,E.abrupt("return",{data:b.data.content,success:b.success,total:b.data.totalElements});case 7:case"end":return E.stop()}},u)})),rowKey:"id",search:{labelWidth:"auto"},pagination:{pageSize:10},rowSelection:{selections:[P.Z.SELECTION_ALL,P.Z.SELECTION_INVERT],onChange:function(i,d){k(i.join(","))}},tableAlertOptionRender:function(){return(0,t.jsx)(L.Z,{size:16,children:(0,t.jsx)(V.Z,{title:"\u662F\u5426\u6279\u91CF\u5220\u9664\uFF1F",okText:"\u5220\u9664",onConfirm:function(){f.Z.delete("/sms/business/bizChargeStandard/deleteArray",{ids:w}).then(function(d){d.status=="success"&&(g.default.success("\u5220\u9664\u6210\u529F"),a())})},children:(0,t.jsx)("a",{children:"\u6279\u91CF\u5220\u9664"})})})},dateFormatter:"string",headerTitle:"\u62A5\u540D\u8D44\u6599\u5B57\u6BB5",toolBarRender:function(){return[(0,t.jsx)(x.Z,{icon:(0,t.jsx)(B.Z,{}),type:"primary",onClick:function(){o({type:"order",orderNumber:0}),K(!0)},children:"\u65B0\u5EFA\u5B57\u6BB5"},"button")]}}),T&&(0,t.jsx)(M,{setModalVisible:function(){return K(!1)},modalVisible:T,callbackRef:function(){return a()},renderData:Y,url:l})]})}}}]);
