(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8550,2849],{31199:function(Fe,V,n){"use strict";var te=n(28991),w=n(81253),B=n(85893),W=n(67294),De=n(53048),_=["fieldProps","min","proFieldProps","max"],fe=function(r,E){var g=r.fieldProps,s=r.min,d=r.proFieldProps,a=r.max,o=(0,w.Z)(r,_);return(0,B.jsx)(De.Z,(0,te.Z)({valueType:"digit",fieldProps:(0,te.Z)({min:s,max:a},g),ref:E,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:d},o))};V.Z=W.forwardRef(fe)},22:function(Fe,V,n){"use strict";var te=n(39428),w=n(11849),B=n(3182),W=n(2824),De=n(66801),_=n(63863),fe=n(67294),R=n(85893);V.Z=function(r){var E=r.columns,g=r.actionRef,s=r.formRef,d=r.cardBordered,a=d===void 0?!0:d,o=r.scroll,m=o===void 0?!1:o,h=r.request,C=r.beforeSearchSubmit,ie=r.toolbar,ve=ie===void 0?void 0:ie,oe=r.pagesizes,nt=oe===void 0?10:oe,_e=r.rowKey,be=_e===void 0?"id":_e,Me=r.toolBarRender,O=Me===void 0?[]:Me,e=r.dateFormatter,Le=e===void 0?"string":e,Ne=r.rowSelection,ze=Ne===void 0?!1:Ne,Ie=r.expandable,Ke=Ie===void 0?void 0:Ie,ae=r.tableAlertOptionRender,Ae=ae===void 0?void 0:ae,Ue=r.onRow,Pe=r.params,rt=Pe===void 0?"":Pe,we=r.dataSource,y=we===void 0?void 0:we,Y=r.tableStyle,G=Y===void 0?void 0:Y,le=r.footer,F=le===void 0?void 0:le,he=r.onReset,H=he===void 0?void 0:he,v=r.onSubmit,de=v===void 0?void 0:v,ne=r.onFn,ce=ne===void 0?void 0:ne,j=r.getTotalElements,D=j===void 0?void 0:j,x=r.getData,re=x===void 0?void 0:x,M=r.loding,Z=M===void 0?void 0:M,b=r.search,$=b===void 0?void 0:b,T=r.searchData,X=T===void 0?{}:T,J=r.headerTitle,Ee=r.editable,L=Ee===void 0?void 0:Ee,Ve=r.className,We=Ve===void 0?"tables":Ve,Re=r.rowClassName,Be=Re===void 0?void 0:Re,Oe=!1;h&&(Oe=h.sortList);var U={_orderBy:"",_direction:""},Ye=(0,fe.useState)(nt),xe=(0,W.Z)(Ye,2),$e=xe[0],Ge=xe[1],He=(0,fe.useState)({}),Ze=(0,W.Z)(He,2),xt=Ze[0],Xe=Ze[1];return(0,R.jsx)(De.ZP,{columns:E,className:We,actionRef:g,formRef:s,cardBordered:a,scroll:m,headerTitle:J,tableStyle:G,dataSource:y,rowClassName:Be,request:function(){var je=(0,B.Z)((0,te.Z)().mark(function Se(N,Q,Je){var me,p,z;return(0,te.Z)().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return Object.keys(N).forEach(function(c){(N[c]=="null"||N[c]==null)&&(N["".concat(c,"-isNull")]=!0,delete N[c])}),Object.keys(Q).length>0?Object.keys(Q).forEach(function(c){var Te;U._orderBy=c,((Te=Q[c])===null||Te===void 0?void 0:Te.indexOf("desc"))==0?U._direction="desc":U._direction="asc"}):Oe?Object.keys(h.sortList).forEach(function(c){U._orderBy=c,U._direction=h.sortList[c]}):U={_orderBy:"",_direction:""},me=N,Object.keys(me).forEach(function(c){me[c]===""&&delete me[c]}),p=(0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)({},Je),h.params),me),X),Object.keys(p).forEach(function(c){(p[c]==""||p[c]==[""]||p[c]=="-isNull")&&p[c]!==0&&p[c]!==!1&&(p["".concat(c)+"-isNull"]=!0,delete p[c]),p[c]===null&&delete p[c],p[c]=="All"&&delete p[c]}),U._orderBy!==""&&Object.assign(p,U),Xe(p),ue.next=10,_.Z.get(h.url,(0,w.Z)({},p));case 10:return z=ue.sent,ce&&ce(z.data.content),re&&re(p),Z&&Z(!1),D&&D(z.data.totalElements),ue.abrupt("return",{data:z.data.content,success:z.success,total:z.data.totalElements});case 16:case"end":return ue.stop()}},Se)}));return function(Se,N,Q){return je.apply(this,arguments)}}(),rowKey:be,pagination:{pageSize:$e,showSizeChanger:!0,onChange:function(Se,N){Ge(N)}},toolBarRender:function(){return O},rowSelection:ze,params:rt,expandable:Ke,dateFormatter:Le,tableAlertOptionRender:Ae,toolbar:ve,onRow:Ue,beforeSearchSubmit:C,onReset:H,onSubmit:de,search:$,editable:L,footer:F,columnsState:{persistenceKey:We,persistenceType:"localStorage"}})}},80773:function(Fe,V,n){"use strict";n.d(V,{uE:function(){return w},NC:function(){return W},X$:function(){return De},$C:function(){return _},dP:function(){return fe},HN:function(){return R},fN:function(){return te},p6:function(){return B},ao:function(){return E},NN:function(){return r}});var te=function(s){var d=new Date(s),a=d.getFullYear(),o=d.getMonth(),m=B(new Date(a,o,1))+" 00:00:00",h=B(new Date(a,o+1,0))+" 23:59:59";return{firstDay:m,lastDay:h}},w=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=s?new Date(s):new Date,a=d.getFullYear(),o=d.getMonth(),m=B(new Date(a,o,1))+" 00:00:00",h=B(new Date(a,o+1,0))+" 23:59:59";return{firstDay:m,lastDay:h}},B=function(s){var d=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),o=String(s.getDate()).padStart(2,"0");return"".concat(d,"-").concat(a,"-").concat(o)},W=function(){var s=new Date,d=s.getFullYear(),a=s.getMonth()+1;return new Date(d,a,0).getDate()},De=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,d=new Date,a=new Date(d.getTime()+s*24*60*60*1e3),o=a.getFullYear(),m=a.getMonth()+1,h=a.getDate(),C="".concat(o,"-").concat(m,"-").concat(h);return C},_=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,d=new Date,a=d.getFullYear(),o=String(d.getMonth()+1).padStart(2,"0");return a+"-"+o+"-"+s},fe=function(s,d){for(var a=[],o=new Date(s),m=new Date(d);o<=m;){var h=o.getFullYear(),C=("0"+(o.getMonth()+1)).slice(-2),ie=("0"+o.getDate()).slice(-2),ve="".concat(h,"-").concat(C,"-").concat(ie);a.push(ve),o.setDate(o.getDate()+1)}return a},R=function(){for(var s=new Date,d=s.getFullYear(),a=String(s.getMonth()+1).padStart(2,"0"),o=[],m=1;m<=s.getDate();m++){var h=m<10?"0"+m:m,C=d+"-"+a+"-"+h;o.push(C)}return o},r=function(){for(var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,d=s?new Date(s):new Date,a=d.getFullYear(),o=String(d.getMonth()+1).padStart(2,"0"),m=[],h=new Date(a,o,0).getDate(),C=1;C<=h;C++){var ie=C<10?"0"+C:C,ve=a+"-"+o+"-"+ie+" 00:00:00";m.push(ve)}return m},E=function(){var s=new Date,d=s.toISOString().split("T")[0],a=new Date;a.setDate(a.getDate()+1);var o=a.toISOString().split("T")[0];return{todayFormatted:d,tomorrowFormatted:o}}},80051:function(Fe,V,n){"use strict";n.r(V),n.d(V,{default:function(){return we}});var te=n(20228),w=n(11382),B=n(13062),W=n(71230),De=n(89032),_=n(15746),fe=n(95300),R=n(7277),r=n(39428),E=n(11849),g=n(3182),s=n(2824),d=n(71906),a=n(67294),o=n(63863),m=n(30202),h=n(22),C=n(78677),ie=n(952),ve=n(78844),oe=n(21010),nt=n(34792),_e=n(48086),be=n(31199),Me=n(37476),O=n(80773),e=n(85893),Le=function(y){var Y=y.modalVisible,G=y.setModalVisible,le=y.callbackRef,F=y.renderData,he=y.url,H=y.setSubimtDatas,v=(0,a.useState)({}),de=(0,s.Z)(v,2),ne=de[0],ce=de[1],j=(0,a.useRef)();(0,a.useEffect)(function(){D()},[F]);var D=function(){var M=(0,g.Z)((0,r.Z)().mark(function Z(){var b,$,T,X,J;return(0,r.Z)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return $=F.type,T=(0,O.uE)(),X={startTime:T.firstDay,endTime:T.lastDay,userId:F.userId},X.type=F.typeNumber,L.next=6,o.Z.get("/sms/business/bizTarget",X);case 6:if(J=L.sent.data.content[0],J){L.next=9;break}return L.abrupt("return");case 9:j==null||(b=j.current)===null||b===void 0||b.setFieldValue("count",J.count),ce(J);case 11:case"end":return L.stop()}},Z)}));return function(){return M.apply(this,arguments)}}(),x=function(Z){var b=(0,O.uE)(),$={startTime:b.firstDay,endTime:b.lastDay};return $.type=F.typeNumber,$.count=Z.count,ne.id&&($.id=ne.id),$.userId=F.userId,new Promise(function(T,X){o.Z.post("/sms/business/bizTarget",$).then(function(J){J.status=="success"&&(T(!0),_e.default.success("\u63D0\u4EA4\u6210\u529F"),G())})})},re=function(Z){var b;switch(Z){case"performance":b=(0,e.jsx)(be.Z,{label:"\u6BCF\u6708\u4E1A\u7EE9\u76EE\u6807",name:"count"});break;case"Phone":b=(0,e.jsx)(be.Z,{label:"\u6BCF\u65E5\u901A\u8BDD\u76EE\u6807",name:"count"});break;case"clue":b=(0,e.jsx)(be.Z,{label:"\u6BCF\u6708\u5F55\u5165\u7EBF\u7D22\u91CF\u76EE\u6807",name:"count"});break;case"tigong":b=(0,e.jsx)(be.Z,{label:"\u6BCF\u6708\u4FE1\u606F\u63D0\u4F9B\u6210\u4EA4\u91D1\u989D\u76EE\u6807",name:"count"});break}return b};return(0,e.jsx)(Me.Y,{title:"\u8BBE\u7F6E\u76EE\u6807",visible:Y,formRef:j,width:660,autoFocusFirstInput:!0,modalProps:{onCancel:function(){return G()},destroyOnClose:!0},onFinish:function(){var M=(0,g.Z)((0,r.Z)().mark(function Z(b){return(0,r.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,x(b);case 2:case"end":return T.stop()}},Z)}));return function(Z){return M.apply(this,arguments)}}(),children:re(F.type)})},Ne=n(71194),ze=n(50146),Ie=n(32059),Ke=n(86582),ae=n(37490),Ae=n(54493),Ue=function(y){var Y=y.modalVisible,G=y.setModalVisible,le=y.callbackRef,F=y.renderData,he=y.userId,H=y.setSubimtDatas,v=y.chargeType,de=[{title:"\u7F34\u8D39\u7F16\u53F7",dataIndex:"num",width:130,fixed:"left",sorter:!0},{title:"\u5B66\u5458",dataIndex:"studentName",width:80,fixed:"left",sorter:!0},{title:v=="refundList"?"\u9000\u8D39\u65E5\u671F":"\u6536\u8D39\u65E5\u671F",key:"chargeTime",sorter:!0,width:120,dataIndex:"chargeTime",valueType:"dateRange",render:function(D,x){return(0,e.jsx)("span",{children:x.chargeTime})}},{title:"\u9879\u76EE\u603B\u79F0",dataIndex:"parentProjects",key:"parentProjects",sorter:!0,valueType:"cascader",fieldProps:{options:ae.Z.getList("dict_reg_job"),showSearch:{filter:Ae.Z}},width:150,render:function(D,x){return(0,e.jsx)("span",{children:ae.Z.getCascaderAllName("dict_reg_job",x.project)},"parentProjects")}},{title:v=="refundList"?"\u9000\u8D39\u9879\u76EE":"\u6536\u8D39\u9879\u76EE",dataIndex:"project",width:150,key:"project",sorter:!0,valueType:"cascader",fieldProps:{options:ae.Z.getCascader("dict_reg_job"),showSearch:{filter:Ae.Z}},render:function(D,x){return(0,e.jsx)("span",{children:x.project&&(0,Ke.Z)(new Set(x.project.split(","))).map(function(re,M){return(0,e.jsxs)("span",{children:[ae.Z.getCascaderName("dict_reg_job",re)," ",(0,e.jsx)("br",{})]},"project-".concat(re,"-").concat(M))})})}},{title:"\u9000\u6B3E\u7C7B\u578B",dataIndex:"refundType",width:80,valueType:"select",hideInTable:v!="refundList",valueEnum:ae.Z.getSearch("dict_refundType"),render:function(D,x){return(0,e.jsx)("span",{children:ae.Z.getCascaderName("dict_refundType",x.refundType)})}},{title:"\u5907\u6CE8",dataIndex:"description",width:150},{title:v=="refundList"?"\u9000\u8D39\u4EBA":"\u6536\u8D39\u4EBA",dataIndex:"userName",width:80},{title:"\u7ECF\u529E\u4EBA",dataIndex:"agentName",hideInTable:v!="refundList",width:80},{title:"\u4E1A\u7EE9\u91D1\u989D",dataIndex:"performanceAmount",width:100,order:8},{title:"\u5BA1\u6838\u4EBA",dataIndex:"auditor",width:80},{title:"\u5BA1\u6838\u65F6\u95F4",key:"auditTime",sorter:!0,width:120,dataIndex:"auditTime",valueType:"dateRange",render:function(D,x){return(0,e.jsx)("span",{children:x.auditTime})}}],ne=(0,Ie.Z)({},"num,updateTime","desc,desc"),ce=v=="refundList"?{enable:!0,"type-in":"1,3",auditType:4,confirm:!0}:{enable:!0,confirm:!0,"type-in":"0,2"};return(0,e.jsx)(ze.Z,{width:1200,open:Y,onCancel:function(){return G(!1)},children:(0,e.jsx)(h.Z,{columns:de,request:{url:"/sms/business/bizCharge",sortList:ne,params:(0,E.Z)((0,E.Z)((0,E.Z)({},ce),F),{},{userId:he})}})})},Pe=n(96013),rt=null,we=function(){var y,Y,G,le,F,he=(0,oe.tT)("@@initialState"),H=he.initialState,v=(y=oe.m8.location.query)!==null&&y!==void 0&&y.userId?oe.m8.location.query.userId:H==null||(Y=H.currentUser)===null||Y===void 0?void 0:Y.userid,de=(G=oe.m8.location.query)!==null&&G!==void 0&&G.userId?oe.m8.location.query.name:H==null||(le=H.currentUser)===null||le===void 0?void 0:le.name,ne=(0,a.useRef)(),ce=(0,a.useState)([]),j=(0,s.Z)(ce,2),D=j[0],x=j[1],re=(0,a.useState)([]),M=(0,s.Z)(re,2),Z=M[0],b=M[1],$=(0,a.useState)([]),T=(0,s.Z)($,2),X=T[0],J=T[1],Ee=(0,a.useState)([(0,O.X$)(0),(0,O.X$)(1)]),L=(0,s.Z)(Ee,2),Ve=L[0],We=L[1],Re=(0,a.useState)(!1),Be=(0,s.Z)(Re,2),Oe=Be[0],U=Be[1],Ye=(0,a.useState)(!1),xe=(0,s.Z)(Ye,2),$e=xe[0],Ge=xe[1],He=(0,a.useState)(!1),Ze=(0,s.Z)(He,2),xt=Ze[0],Xe=Ze[1],je=(0,a.useState)(!1),Se=(0,s.Z)(je,2),N=Se[0],Q=Se[1],Je=(0,a.useState)(),me=(0,s.Z)(Je,2),p=me[0],z=me[1],ut=(0,a.useState)(0),ue=(0,s.Z)(ut,2),c=ue[0],Te=ue[1],Zt=(0,a.useState)(0),st=(0,s.Z)(Zt,2),ge=st[0],jt=st[1],Tt=(0,a.useState)(0),it=(0,s.Z)(Tt,2),ye=it[0],Ct=it[1],Ft=(0,a.useState)(0),ot=(0,s.Z)(Ft,2),k=ot[0],_t=ot[1],Mt=(0,a.useState)((0,O.HN)()),lt=(0,s.Z)(Mt,2),q=lt[0],dt=lt[1],It=(0,a.useState)(!1),ct=(0,s.Z)(It,2),mt=ct[0],ft=ct[1],At=(0,a.useState)("chargeList"),vt=(0,s.Z)(At,2),Pt=vt[0],ht=vt[1],wt=(0,a.useState)("yeji"),gt=(0,s.Z)(wt,2),S=gt[0],Rt=gt[1],Bt=(0,a.useState)(!1),yt=(0,s.Z)(Bt,2),Ot=yt[0],Qe=yt[1],Ce=(0,O.NC)();(0,a.useEffect)(function(){$t()},[q]),(0,a.useEffect)(function(){S!="yeji"&&Nt()},[S]);var $t=function(){var l=(0,g.Z)((0,r.Z)().mark(function t(){var u,i,I,A,P,K;return(0,r.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return u=(0,O.uE)(),i={startTime:u.firstDay,endTime:u.lastDay,userId:v},f.next=4,o.Z.get("/sms/business/bizTarget",(0,E.Z)((0,E.Z)({},i),{},{type:0}));case 4:return I=f.sent.data.content[0],f.next=7,o.Z.get("/sms/business/bizTarget",(0,E.Z)((0,E.Z)({},i),{},{type:1}));case 7:return A=f.sent.data.content[0],f.next=10,o.Z.get("/sms/business/bizTarget",(0,E.Z)((0,E.Z)({},i),{},{type:7}));case 10:return P=f.sent.data.content[0],f.next=13,o.Z.get("/sms/business/bizTarget",(0,E.Z)((0,E.Z)({},i),{},{type:8}));case 13:K=f.sent.data.content[0],I&&Te(I.count),P&&jt(P.count),K&&Ct(K.count),A?(_t(A.count),Dt(A.count)):Dt(0);case 18:case"end":return f.stop()}},t)}));return function(){return l.apply(this,arguments)}}(),Lt=function(t){return{userId:v,startTime:t[0]+" 00:00:00",endTime:t[t.length-1]+" 23:59:59"}},Nt=function(){var l=(0,g.Z)((0,r.Z)().mark(function t(){var u,i,I;return(0,r.Z)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(Z.length>0)){P.next=2;break}return P.abrupt("return");case 2:return P.next=4,o.Z.get("/sms/business/bizStudent/statistics/providerOfDay",Lt(q));case 4:u=P.sent.data,i=q.map(function(K,pe){var f;return{time:K,amount:(f=u[K])===null||f===void 0?void 0:f.count}}),I=q.map(function(K,pe){var f;return{time:K,amount:(f=u[K])===null||f===void 0?void 0:f.amount}}),J(I),b(i);case 9:case"end":return P.stop()}},t)}));return function(){return l.apply(this,arguments)}}(),pt=function(){var t="\u5C1A\u672A\u8BBE\u7F6E\u672C\u6708\u76EE\u6807",u=S=="yeji"?k:S=="xiansuo"?ge:ye;return u&&(t=Math.ceil(u/Ce)),t},zt={data:$e,isGroup:!0,xField:"time",yField:"amount",seriesField:"type",label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]}},Kt=function(t){return{userId:v,startTime:t[0]+" 00:00:00",endTime:t[t.length-1]+" 23:59:59",type:"0"}},Ut=function(t){return{userId:v,startTime:t[0]+" 00:00:00",endTime:t[t.length-1]+" 23:59:59",type:"1"}},Dt=function(){var l=(0,g.Z)((0,r.Z)().mark(function t(u){var i,I,A,P,K,pe,f,Et;return(0,r.Z)().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(!(D.length>0&&Ot)){se.next=2;break}return se.abrupt("return");case 2:return U(!0),i=Kt(q),I=Ut(q),se.next=7,o.Z.get("/sms/business/bizStudent/statistics/userOfDay",i);case 7:return A=se.sent,P=A.data,se.next=11,o.Z.get("/sms/business/bizStudent/statistics/userOfDay",I);case 11:K=se.sent.data,pe=q.map(function(ee,et){var tt,at;return{time:ee,amount:(tt=P[ee])===null||tt===void 0?void 0:tt.amount,RefundsAmount:(at=K[ee])===null||at===void 0?void 0:at.amount}}),f=[],Et=[],pe.forEach(function(ee,et){f.push({time:ee.time,type:"\u4ECA\u65E5\u4E1A\u7EE9",amount:ee.amount?ee.amount:0},{time:ee.time,type:"\u65E5\u76EE\u6807",amount:u?(u/Ce).toFixed(2):0},{time:ee.time,type:"\u672C\u6708\u4E1A\u7EE9",amount:ke(et,pe)},{time:ee.time,type:"\u6708\u8F68\u9053\u503C",amount:u?qe(et,u):0})}),Ge(f),Xe(Et),x(pe),U(!1),Qe(!0);case 21:case"end":return se.stop()}},t)}));return function(u){return l.apply(this,arguments)}}(),ke=function(t){var u=S=="yeji"?D:S=="xiansuo"?Z:X,i=0;return u.forEach(function(I,A){A<=t&&(i=i+I.amount)}),i},Vt=function(t){var u="0%",i=S=="yeji"?k:S=="xiansuo"?ge:ye;return i&&(u=(t/(i/Ce)*100).toFixed(2)+"%"),u},qe=function(t){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:k,i=S=="yeji"?k:S=="xiansuo"?ge:ye,I=(i/Ce).toFixed(2);return Math.ceil(I*(t+1))},bt=function(t){var u=new Date(t);z({"chargeTime-start":t,"chargeTime-end":(0,O.$C)(u.getDate()+1)}),ft(!0)},Wt=function(){var t="\u5C1A\u672A\u8BBE\u7F6E\u672C\u6708\u76EE\u6807";switch(S){case"yeji":k&&(t=k);break;case"xiansuo":ge&&(t=ge);break;case"tigong":ye&&(t=ye);break}return t},St=[{title:"\u65E5\u671F",dataIndex:"time",width:180},{title:"\u6708\u76EE\u6807",width:180,dataIndex:"achievementMubiao",render:function(t,u){return(0,e.jsx)(e.Fragment,{children:Wt()})}},{title:"\u6708\u5B8C\u6210\u8FDB\u5EA6",width:180,dataIndex:"achievementMubiaos",render:function(t,u,i){return(0,e.jsx)("span",{className:ke(i)-qe(i)>0?"green":"red",children:ke(i)})}},{title:"\u6708\u8F68\u9053\u503C",width:180,dataIndex:"achievementMubiaoa",render:function(t,u,i){return(0,e.jsx)("span",{children:k?qe(i):"\u5C1A\u672A\u8BBE\u7F6E\u672C\u6708\u76EE\u6807"})}},{title:"\u65E5\u76EE\u6807",width:180,dataIndex:"achievementMubiaoday",render:function(t,u,i){return(0,e.jsx)("span",{children:pt()})}},{title:"\u65E5\u5B8C\u6210\u5EA6(\u70B9\u51FB\u91D1\u989D\u67E5\u770B\u8BE6\u60C5)",dataIndex:"amount",sorter:function(t,u){return u.amount-t.amount},width:180,render:function(t,u){return(0,e.jsx)("a",{className:u.amount-pt()>0?"green":"red",onClick:function(){u.amount!=0&&(bt(u.time),ht("chargeList"))},children:u.amount})}},{title:"\u65E5\u5B8C\u6210\u5EA6\u767E\u5206\u6BD4",dataIndex:"amountb",width:180,render:function(t,u){return(0,e.jsx)("a",{className:u.amount-k/Ce>0?"green":"red",children:Vt(u.amount)})}},{title:"\u9000\u8D39(\u70B9\u51FB\u91D1\u989D\u67E5\u770B\u8BE6\u60C5)",dataIndex:"RefundsAmount",hideInTable:S!="yeji",hideInDescriptions:S!="yeji",render:function(t,u){return(0,e.jsx)("a",{className:"red",onClick:function(){u.amount!=0&&(bt(u.time),ht("refundList"))},children:u.RefundsAmount})}}],Yt=function(){var t=0;return S=="yeji"?t=D.reduce(function(u,i){return u+i.amount},0):S=="xiansuo"?t=Z.reduce(function(u,i){return u+i.amount},0):t=X.reduce(function(u,i){return u+i.amount},0),t},Gt={time:"\u603B\u8BA1",achievementMubiao:S=="yeji"?k:S=="xiansuo"?ge:ye,achievementMubiaos:Yt(),achievementMubiaoa:"",achievementMubiaoday:"",amount:"",amountb:"",RefundsAmount:D.reduce(function(l,t){return l+t.RefundsAmount},0)},Ht={menu:{type:"tab",items:[{key:"yeji",label:(0,e.jsx)("span",{children:"\u4E1A\u7EE9\u7EDF\u8BA1"})},{key:"xiansuo",label:(0,e.jsx)("span",{children:"\u5F55\u5165\u7EBF\u7D22\u7EDF\u8BA1"})},{key:"tigong",label:(0,e.jsx)("span",{children:"\u4FE1\u606F\u63D0\u4F9B\u6210\u4EA4\u91D1\u989D\u7EDF\u8BA1"})}],onChange:function(t){Rt(t)}}},Xt=function(){var t=[];return St.forEach(function(u,i){u.hideInTable||t.push((0,e.jsx)("td",{className:"ant-table-cell",style:{width:"180px"},children:Gt[u.dataIndex]},"Transactionrate"+i))}),t};return(0,e.jsxs)(d.ZP,{children:[(0,e.jsx)(m.ZP,{children:(0,e.jsx)("div",{style:{width:"100%",display:"flex"},children:(0,e.jsxs)(W.Z,{gutter:24,style:{width:"100%"},children:[(0,e.jsx)(_.Z,{span:3,children:(0,e.jsx)(R.Z,{title:"\u59D3\u540D",value:de})}),(0,e.jsx)(_.Z,{span:3,children:(0,e.jsx)(R.Z,{title:"\u4ECA\u65E5\u4E1A\u7EE9",valueStyle:{color:"#3f8600"},value:(F=D[D.length-1])===null||F===void 0?void 0:F.amount,precision:2})}),(0,e.jsx)(_.Z,{span:3,children:(0,e.jsx)(R.Z,{title:"\u672C\u6708\u4E1A\u7EE9",valueStyle:{color:"#3f8600"},value:D.reduce(function(l,t){return l+t.amount},0),precision:2})}),(0,e.jsxs)(_.Z,{span:3,children:[(0,e.jsx)(R.Z,{title:"\u672C\u6708\u76EE\u6807",value:k,precision:2}),(0,e.jsx)("a",{onClick:function(){z({typeNumber:1,type:"performance",userId:v}),Q(!0)},children:"\u8BBE\u7F6E\u76EE\u6807"})]}),(0,e.jsxs)(_.Z,{span:3,children:[(0,e.jsx)(R.Z,{title:"\u901A\u8BDD\u91CF",value:c}),(0,e.jsx)("a",{onClick:function(){z({typeNumber:0,type:"Phone",userId:v}),Q(!0)},children:"\u8BBE\u7F6E\u901A\u8BDD\u91CF"})]}),(0,e.jsxs)(_.Z,{span:3,children:[(0,e.jsx)(R.Z,{title:"\u5F55\u5165\u7EBF\u7D22\u91CF",value:ge}),(0,e.jsx)("a",{onClick:function(){z({typeNumber:7,type:"clue",userId:v}),Q(!0)},children:"\u8BBE\u7F6E\u5F55\u5165\u7EBF\u7D22\u91CF\u76EE\u6807"})]}),(0,e.jsxs)(_.Z,{span:3,children:[(0,e.jsx)(R.Z,{title:"\u4FE1\u606F\u63D0\u4F9B\u6210\u4EA4\u91D1\u989D",value:ye}),(0,e.jsx)("a",{onClick:function(){z({typeNumber:8,type:"tigong",userId:v}),Q(!0)},children:"\u8BBE\u7F6E\u76EE\u6807"})]}),(0,e.jsx)(_.Z,{span:3,children:(0,e.jsx)(R.Z,{title:"\u672C\u6708\u9000\u8D39",valueStyle:{color:"#cf1322"},value:D.reduce(function(l,t){return l+t.RefundsAmount},0),precision:2})})]})})}),(0,e.jsx)(m.ZP,{children:(0,e.jsx)(ie.ZP,{formRef:ne,onFinish:function(){var l=(0,g.Z)((0,r.Z)().mark(function t(u){var i;return(0,r.Z)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:i=u.timeRange,Qe(!1),dt((0,O.dP)(i[0],i[i.length-1]));case 3:case"end":return A.stop()}},t)}));return function(t){return l.apply(this,arguments)}}(),onReset:function(){Qe(!1),dt((0,O.HN)())},children:(0,e.jsx)(ve.Z,{fieldProps:{showTime:!1},name:"timeRange",label:"\u65F6\u95F4\u533A\u95F4"})})}),(0,e.jsx)(m.ZP,{children:(0,e.jsx)(w.Z,{spinning:Oe,children:(0,e.jsx)(h.Z,{search:!1,className:"ECContent",columns:St,dataSource:S=="yeji"?D:S=="xiansuo"?Z:X,pagesizes:31,toolbar:Ht,footer:function(){return(0,e.jsx)("tr",{children:Xt()})}})})}),(0,e.jsxs)(m.ZP,{children:[$e&&(0,e.jsx)(C.Z,(0,E.Z)({},zt)),(0,e.jsx)(Pe.default,{startTime:q[0],endTime:q[q.length-1],id:v})]}),N&&(0,e.jsx)(Le,{modalVisible:N,setModalVisible:function(){return Q(!1)},renderData:p}),mt&&(0,e.jsx)(Ue,{modalVisible:mt,setModalVisible:function(){return ft(!1)},userId:v,renderData:p,chargeType:Pt})]})}},54493:function(Fe,V){"use strict";var n=function(w,B){return B.some(function(W){return W.label.toLowerCase().indexOf(w.toLowerCase())>-1})};V.Z=n}}]);
