(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2399],{22:function(ut,ue,o){"use strict";var C=o(39428),W=o(11849),B=o(3182),ve=o(2824),he=o(66801),_e=o(63863),se=o(67294),Fe=o(85893);ue.Z=function(d){var we=d.columns,M=d.actionRef,i=d.formRef,f=d.cardBordered,r=f===void 0?!0:f,v=d.scroll,l=v===void 0?!1:v,h=d.request,A=d.beforeSearchSubmit,F=d.toolbar,ee=F===void 0?void 0:F,ie=d.pagesizes,Xe=ie===void 0?10:ie,Ie=d.rowKey,Ce=Ie===void 0?"id":Ie,w=d.toolBarRender,st=w===void 0?[]:w,Le=d.dateFormatter,u=Le===void 0?"string":Le,$e=d.rowSelection,it=$e===void 0?!1:$e,Oe=d.expandable,L=Oe===void 0?void 0:Oe,oe=d.tableAlertOptionRender,$=oe===void 0?void 0:oe,T=d.onRow,ge=d.params,de=ge===void 0?"":ge,J=d.dataSource,ye=J===void 0?void 0:J,z=d.tableStyle,pe=z===void 0?void 0:z,te=d.footer,E=te===void 0?void 0:te,K=d.onReset,le=K===void 0?void 0:K,V=d.onSubmit,O=V===void 0?void 0:V,De=d.onFn,N=De===void 0?void 0:De,j=d.getTotalElements,X=j===void 0?void 0:j,He=d.getData,Ne=He===void 0?void 0:He,be=d.loding,g=be===void 0?void 0:be,Se=d.search,Qe=Se===void 0?void 0:Se,Me=d.searchData,ke=Me===void 0?{}:Me,ce=d.headerTitle,Pe=d.editable,Be=Pe===void 0?void 0:Pe,Ae=d.className,ze=Ae===void 0?"tables":Ae,Ke=d.rowClassName,Ve=Ke===void 0?void 0:Ke,Te=!1;h&&(Te=h.sortList);var P={_orderBy:"",_direction:""},qe=(0,se.useState)(Xe),xe=(0,ve.Z)(qe,2),Ue=xe[0],et=xe[1],tt=(0,se.useState)({}),Ze=(0,ve.Z)(tt,2),ot=Ze[0],at=Ze[1];return(0,Fe.jsx)(he.ZP,{columns:we,className:ze,actionRef:M,formRef:i,cardBordered:r,scroll:l,headerTitle:ce,tableStyle:pe,dataSource:ye,rowClassName:Ve,request:function(){var Ee=(0,B.Z)((0,C.Z)().mark(function fe(_,ae,nt){var H,S,Q;return(0,C.Z)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return Object.keys(_).forEach(function(n){(_[n]=="null"||_[n]==null)&&(_["".concat(n,"-isNull")]=!0,delete _[n])}),Object.keys(ae).length>0?Object.keys(ae).forEach(function(n){var je;P._orderBy=n,((je=ae[n])===null||je===void 0?void 0:je.indexOf("desc"))==0?P._direction="desc":P._direction="asc"}):Te?Object.keys(h.sortList).forEach(function(n){P._orderBy=n,P._direction=h.sortList[n]}):P={_orderBy:"",_direction:""},H=_,Object.keys(H).forEach(function(n){H[n]===""&&delete H[n]}),S=(0,W.Z)((0,W.Z)((0,W.Z)((0,W.Z)({},nt),h.params),H),ke),Object.keys(S).forEach(function(n){(S[n]==""||S[n]==[""]||S[n]=="-isNull")&&S[n]!==0&&S[n]!==!1&&(S["".concat(n)+"-isNull"]=!0,delete S[n]),S[n]===null&&delete S[n],S[n]=="All"&&delete S[n]}),P._orderBy!==""&&Object.assign(S,P),at(S),U.next=10,_e.Z.get(h.url,(0,W.Z)({},S));case 10:return Q=U.sent,N&&N(Q.data.content),Ne&&Ne(S),g&&g(!1),X&&X(Q.data.totalElements),U.abrupt("return",{data:Q.data.content,success:Q.success,total:Q.data.totalElements});case 16:case"end":return U.stop()}},fe)}));return function(fe,_,ae){return Ee.apply(this,arguments)}}(),rowKey:Ce,pagination:{pageSize:Ue,showSizeChanger:!0,onChange:function(fe,_){et(_)}},toolBarRender:function(){return st},rowSelection:it,params:de,expandable:L,dateFormatter:u,tableAlertOptionRender:$,toolbar:ee,onRow:T,beforeSearchSubmit:A,onReset:le,onSubmit:O,search:Qe,editable:Be,footer:E,columnsState:{persistenceKey:ze,persistenceType:"localStorage"}})}},80773:function(ut,ue,o){"use strict";o.d(ue,{uE:function(){return W},NC:function(){return ve},X$:function(){return he},$C:function(){return _e},dP:function(){return se},HN:function(){return Fe},fN:function(){return C},p6:function(){return B},ao:function(){return we},NN:function(){return d}});var C=function(i){var f=new Date(i),r=f.getFullYear(),v=f.getMonth(),l=B(new Date(r,v,1))+" 00:00:00",h=B(new Date(r,v+1,0))+" 23:59:59";return{firstDay:l,lastDay:h}},W=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,f=i?new Date(i):new Date,r=f.getFullYear(),v=f.getMonth(),l=B(new Date(r,v,1))+" 00:00:00",h=B(new Date(r,v+1,0))+" 23:59:59";return{firstDay:l,lastDay:h}},B=function(i){var f=i.getFullYear(),r=String(i.getMonth()+1).padStart(2,"0"),v=String(i.getDate()).padStart(2,"0");return"".concat(f,"-").concat(r,"-").concat(v)},ve=function(){var i=new Date,f=i.getFullYear(),r=i.getMonth()+1;return new Date(f,r,0).getDate()},he=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,f=new Date,r=new Date(f.getTime()+i*24*60*60*1e3),v=r.getFullYear(),l=r.getMonth()+1,h=r.getDate(),A="".concat(v,"-").concat(l,"-").concat(h);return A},_e=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,f=new Date,r=f.getFullYear(),v=String(f.getMonth()+1).padStart(2,"0");return r+"-"+v+"-"+i},se=function(i,f){for(var r=[],v=new Date(i),l=new Date(f);v<=l;){var h=v.getFullYear(),A=("0"+(v.getMonth()+1)).slice(-2),F=("0"+v.getDate()).slice(-2),ee="".concat(h,"-").concat(A,"-").concat(F);r.push(ee),v.setDate(v.getDate()+1)}return r},Fe=function(){for(var i=new Date,f=i.getFullYear(),r=String(i.getMonth()+1).padStart(2,"0"),v=[],l=1;l<=i.getDate();l++){var h=l<10?"0"+l:l,A=f+"-"+r+"-"+h;v.push(A)}return v},d=function(){for(var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,f=i?new Date(i):new Date,r=f.getFullYear(),v=String(f.getMonth()+1).padStart(2,"0"),l=[],h=new Date(r,v,0).getDate(),A=1;A<=h;A++){var F=A<10?"0"+A:A,ee=r+"-"+v+"-"+F+" 00:00:00";l.push(ee)}return l},we=function(){var i=new Date,f=i.toISOString().split("T")[0],r=new Date;r.setDate(r.getDate()+1);var v=r.toISOString().split("T")[0];return{todayFormatted:f,tomorrowFormatted:v}}},54215:function(ut,ue,o){"use strict";o.r(ue),o.d(ue,{default:function(){return Oe}});var C=o(11849),W=o(20228),B=o(11382),ve=o(13062),he=o(71230),_e=o(34669),se=o(54458),Fe=o(89032),d=o(15746),we=o(95300),M=o(7277),i=o(39428),f=o(3182),r=o(2824),v=o(71906),l=o(67294),h=o(63863),A=o(37490),F=o(30202),ee=o(22),ie=o(78677),Xe=o(952),Ie=o(78844),Ce=o(21010),w=o(80773),st=o(71194),Le=o(50146),u=o(85893),$e=function(L){var oe=L.renderData,$=L.ModalsVisible,T=L.setModalsVisible,ge=L.callbackRef,de=(0,l.useState)([{}]),J=(0,r.Z)(de,2),ye=J[0],z=J[1];(0,l.useEffect)(function(){te()},[]);var pe={xField:"name",yField:"value",label:{text:function(K){return"".concat((K.frequency*100).toFixed(1),"%")},textBaseline:"bottom"},axis:{y:{labelFormatter:".0%"}},style:{radiusTopLeft:10,radiusTopRight:10}},te=function(){var E=(0,f.Z)((0,i.Z)().mark(function K(){var le,V,O;return(0,i.Z)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,h.Z.get("/sms/business/bizAuthorityLog",(0,C.Z)((0,C.Z)({},oe),{},{_isGetAll:!0}));case 2:le=N.sent.data.content,V=le.reduce(function(j,X){return j[X.creator]=j[X.creator]?j[X.creator]+1:1,j},{}),O=Object.keys(V).map(function(j){return{name:j,value:V[j]}}),z(O);case 6:case"end":return N.stop()}},K)}));return function(){return E.apply(this,arguments)}}();return(0,u.jsx)(Le.Z,{title:"\u83B7\u5BA2\u6765\u6E90",open:$,onCancel:function(){return T(!1)},onOk:function(){return T(!1)},width:800,children:(0,u.jsx)(ie.Z,(0,C.Z)({data:ye},pe))})},it=null,Oe=function(){var L,oe=(0,Ce.tT)("@@initialState"),$=oe.initialState,T=(0,w.NC)(),ge=(0,l.useState)([]),de=(0,r.Z)(ge,2),J=de[0],ye=de[1],z=(0,l.useRef)(),pe=(0,l.useState)([]),te=(0,r.Z)(pe,2),E=te[0],K=te[1],le=(0,l.useState)([]),V=(0,r.Z)(le,2),O=V[0],De=V[1],N=(0,l.useState)(0),j=(0,r.Z)(N,2),X=j[0],He=j[1],Ne=(0,l.useState)([(0,w.X$)(0),(0,w.X$)(1)]),be=(0,r.Z)(Ne,2),g=be[0],Se=be[1],Qe=(0,l.useState)(!1),Me=(0,r.Z)(Qe,2),ke=Me[0],ce=Me[1],Pe=(0,l.useState)(!1),Be=(0,r.Z)(Pe,2),Ae=Be[0],ze=Be[1],Ke=(0,l.useState)(!1),Ve=(0,r.Z)(Ke,2),Te=Ve[0],P=Ve[1],qe=(0,l.useState)([{}]),xe=(0,r.Z)(qe,2),Ue=xe[0],et=xe[1],tt=(0,l.useState)([]),Ze=(0,r.Z)(tt,2),ot=Ze[0],at=Ze[1],Ee=(0,l.useState)(!1),fe=(0,r.Z)(Ee,2),_=fe[0],ae=fe[1],nt=(0,l.useState)({}),H=(0,r.Z)(nt,2),S=H[0],Q=H[1],dt=(0,l.useState)("yeji"),U=(0,r.Z)(dt,2),n=U[0],je=U[1],ht=(0,l.useState)([]),lt=(0,r.Z)(ht,2),ct=lt[0],gt=lt[1],yt=(0,l.useState)([]),ft=(0,r.Z)(yt,2),G=ft[0],pt=ft[1];(0,l.useEffect)(function(){var a;z==null||(a=z.current)===null||a===void 0||a.setFieldValue("timeRange",g)},[]),(0,l.useEffect)(function(){var a,t;At([A.Z.getDepartmentList($==null||(a=$.currentUser)===null||a===void 0?void 0:a.userid)]),console.log([A.Z.getDepartmentList($==null||(t=$.currentUser)===null||t===void 0?void 0:t.userid)],"qnmd")},[g,X]),(0,l.useEffect)(function(){n!="yeji"&&St(J.join(","))},[n]);var Dt={data:Te,isGroup:!0,xField:"name",yField:"amount",seriesField:"type",color:["#FF00FF","#FF0000"],label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]}},bt={data:Ae,isGroup:!0,xField:"name",yField:"amount",seriesField:"type",label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]}},$t=function(){var t=J.map(function(s){return{userId:s,"createTime-start":ne(g[0])+" 00:00:00","createTime-end":g[1]+" 00:00:00"}}),e={array:JSON.stringify(t)};return e},St=function(){var a=(0,f.Z)((0,i.Z)().mark(function t(e){var s,y,b,R,I,k,Y,q,me;return(0,i.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!(G.length>0)){D.next=2;break}return D.abrupt("return");case 2:return s=(0,w.uE)(),ce(!0),D.next=6,h.Z.get("/sms/business/bizTarget",{"userId-in":e,type:7,startTime:s.firstDay,endTime:s.lastDay,_isGetAll:!0});case 6:return y=D.sent.data.content,D.next=9,h.Z.get("/sms/business/bizTarget",{"userId-in":e,type:8,startTime:s.firstDay,endTime:s.lastDay,_isGetAll:!0});case 9:return b=D.sent.data.content,D.next=12,h.Z.get("/sms/business/bizStudent/statistics/provider",Et(e));case 12:return R=D.sent.data,D.next=15,h.Z.get("/sms/business/bizStudent/statistics/provider",jt(e));case 15:I=D.sent.data,k=[],Y=[],q=JSON.parse(JSON.stringify(ct)),me=JSON.parse(JSON.stringify(ct)),me.forEach(function(c,Re){b.forEach(function(p){c.id==p.userId&&(c.achievementMubiao=p.count)}),R.forEach(function(p){c.id==p.id&&(c.MonthAmount=p.amount,c.dealCount=p.dealCount)}),I.forEach(function(p){c.id==p.id&&(c.amount=p.amount)}),(c.amount||c.MonthAmount||c.RefundsAmount||c.RefundsMonthAmount||c.authority)&&Y.push(c)}),q.forEach(function(c,Re){y.forEach(function(p){c.id==p.userId&&(c.achievementMubiao=p.count)}),R.forEach(function(p){c.id==p.id&&(c.MonthAmount=p.count,c.dealCount=p.dealCount,c.amountValue=p.amount)}),I.forEach(function(p){c.id==p.id&&(c.amount=p.count)}),(c.amount||c.MonthAmount||c.RefundsAmount||c.RefundsMonthAmount||c.authority)&&k.push(c)}),ce(!1),pt(k),De(Y);case 25:case"end":return D.stop()}},t)}));return function(e){return a.apply(this,arguments)}}(),Mt=function(){var a=(0,f.Z)((0,i.Z)().mark(function t(e){var s,y;return(0,i.Z)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return s=(0,w.uE)(),R.next=3,h.Z.get("/sms/business/bizTarget",{departmentId:e,startTime:s.firstDay,endTime:s.lastDay});case 3:y=R.sent.data.content,at(y);case 5:case"end":return R.stop()}},t)}));return function(e){return a.apply(this,arguments)}}(),At=function(){var a=(0,f.Z)((0,i.Z)().mark(function t(e){var s,y,b;return(0,i.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return s=[],y=[],b=function(){var k=(0,f.Z)((0,i.Z)().mark(function Y(q){return(0,i.Z)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:q.forEach(function(D){D.userId&&(s.push(D.userId),y.push({name:D.name,id:D.userId})),D.children&&b(D.children)});case 1:case"end":return re.stop()}},Y)}));return function(q){return k.apply(this,arguments)}}(),I.next=5,b(e);case 5:gt(y),et(e),Rt(s.join(","),y),Mt(e[0].id),ye(s);case 10:case"end":return I.stop()}},t)}));return function(e){return a.apply(this,arguments)}}(),ne=function(t){var e=t.split("-"),s=e[0],y=e[1],b="01";return s+"-"+y+"-"+b},Tt=function(t){return{startTime:g[0],endTime:g[1],idList:t,type:1}},xt=function(t){return{startTime:ne(g[0]),endTime:g[1],idList:t,type:1}},Zt=function(t,e){var s=t.map(function(b){return e=="userId"?{userId:Number(b),"createTime-start":ne(g[0]),"createTime-end":g[1],type:3}:{createBy:Number(b),"createTime-start":ne(g[0]),"createTime-end":g[1],type:3}}),y={array:JSON.stringify(s)};return y},Et=function(t){return{startTime:ne(g[0]),endTime:g[1],_isGetAll:!0,enable:!0,idList:t}},jt=function(t){return{startTime:g[0],endTime:g[1],_isGetAll:!0,enable:!0,idList:t}},Ot=function(t,e){var s=t.map(function(b){return e=="userId"?{userId:b,"createTime-start":g[0],"createTime-end":g[1],type:3}:{createBy:b,"createTime-start":g[0],"createTime-end":g[1],type:3}}),y={array:JSON.stringify(s)};return y},Rt=function(){var a=(0,f.Z)((0,i.Z)().mark(function t(e,s){var y,b,R,I,k,Y,q,me,re,D,c,Re,p;return(0,i.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return ce(!0),y=(0,w.uE)(),x.next=4,h.Z.get("/sms/business/bizCharge/getPersonNewOrder",{startTime:g[0],endTime:g[1],userIdList:e});case 4:return b=x.sent,R=b.data,x.next=8,h.Z.get("/sms/business/bizStudent/statistics/user",{startTime:ne(g[0]),endTime:g[1],idList:e,type:0});case 8:return I=x.sent.data,k=Tt(e),x.next=12,h.Z.get("/sms/business/bizStudent/statistics/user",k);case 12:return Y=x.sent.data,q=xt(e),x.next=16,h.Z.get("/sms/business/bizStudent/statistics/user",q);case 16:return me=x.sent.data,x.next=19,h.Z.get("/sms/business/bizTarget",{"userId-in":e.split(","),type:1,startTime:y.firstDay,endTime:y.lastDay,_isGetAll:!0});case 19:return re=x.sent.data.content,x.next=22,h.Z.get("/sms/business/bizAuthorityLog/statistics",Zt(e.split(","),"userId"));case 22:D=x.sent.data,c=[],s.forEach(function(m,rt){R.forEach(function(Z){Z.id==m.id&&(m.amount=Z.amount)}),I.forEach(function(Z){Z.id==m.id&&Z.amount>0&&(m.MonthAmount=Z.amount)}),Y.forEach(function(Z){Z.id==m.id&&(m.RefundsAmount=Z.amount)}),me.forEach(function(Z){Z.id==m.id&&(m.RefundsMonthAmount=Z.amount)}),re.forEach(function(Z){m.id==Z.userId&&(m.achievementMubiao=Z.count)}),m.authority=D[rt],m.MonthAmount||(m.MonthAmount=0),(m.amount||m.MonthAmount||m.RefundsAmount||m.RefundsMonthAmount||m.authority)&&c.push(m)}),c.sort(function(m,rt){return rt.MonthAmount-m.MonthAmount}),console.log("arr",c),Re=[],p=[],c.forEach(function(m){Re.push({name:m.name,type:"\u4ECA\u65E5\u4E1A\u7EE9",amount:m.amount?m.amount:0},{name:m.name,type:"\u672C\u6708\u4E1A\u7EE9",amount:m.MonthAmount}),p.push({name:m.name,type:"\u4ECA\u65E5\u9000\u8D39",amount:m.RefundsAmount?m.RefundsAmount:0},{name:m.name,type:"\u672C\u6708\u9000\u8D39",amount:m.RefundsMonthAmount?m.RefundsMonthAmount:0})}),K(c),ze(Re),P(p),ce(!1);case 34:case"end":return x.stop()}},t)}));return function(e,s){return a.apply(this,arguments)}}(),mt=function(t,e){var s=new Date,y=s.getDate(),b=Math.ceil(e/T);return Math.ceil(b*y)},Ge=function(){var t;return n=="yeji"&&ot.forEach(function(e){e.type==3&&(t=e.count)}),n=="xiansuo"&&G.forEach(function(e){e.achievementMubiao&&(t?t=t+e.achievementMubiao:t=e.achievementMubiao)}),n=="tigong"&&O.forEach(function(e){e.achievementMubiao&&(t?t=t+e.achievementMubiao:t=e.achievementMubiao)}),t},vt=[{title:"\u59D3\u540D",dataIndex:"name",width:160,render:function(t,e){return(0,u.jsx)("a",{className:"green",onClick:function(){Ce.m8.push("/department/user?userId="+e.id+"&name="+e.name)},children:e.name})}},{title:"\u6708\u76EE\u6807",dataIndex:"achievementMubiao",width:160,render:function(t,e){return(0,u.jsx)("span",{children:e.achievementMubiao?e.achievementMubiao:"\u5C1A\u672A\u8BBE\u7F6E\u672C\u6708\u76EE\u6807"})}},{title:"\u6708\u5B8C\u6210\u8FDB\u5EA6",dataIndex:"MonthAmount",width:160,render:function(t,e,s){return(0,u.jsx)("span",{className:e.MonthAmount-mt(s,e.achievementMubiao)>0?"green":"red",children:e.MonthAmount?e.MonthAmount:0})}},{title:"\u6708\u8F68\u9053\u503C",dataIndex:"MonthAmounts",width:160,render:function(t,e,s){return(0,u.jsx)("span",{children:e.achievementMubiao?mt(s,e.achievementMubiao):"\u5C1A\u672A\u8BBE\u7F6E\u672C\u6708\u76EE\u6807"})}},{title:"\u65E5\u76EE\u6807",dataIndex:"amounts",width:160,render:function(t,e,s){return(0,u.jsx)("span",{children:e.achievementMubiao?Math.ceil(e.achievementMubiao/T):"\u5C1A\u672A\u8BBE\u7F6E\u672C\u6708\u76EE\u6807"})}},{title:"\u65E5\u5B8C\u6210\u5EA6",dataIndex:"amount",width:160,sorter:function(t,e){return e.amount-t.amount},render:function(t,e){return(0,u.jsx)("a",{className:e.amount-e.achievementMubiao/T>0?"green":"red",children:e.amount})}},{title:"\u65E5\u5B8C\u6210\u5EA6\u767E\u5206\u6BD4",dataIndex:"amountb",width:160,sorter:function(t,e){return e.amount-t.amount},render:function(t,e){return(0,u.jsx)("a",{className:e.amount-e.achievementMubiao/T>0?"green":"red",children:e.achievementMubiao?(e.amount/Math.ceil(e.achievementMubiao/T)*100).toFixed(2)+"%":"0%"})}},{title:"\u4ECA\u65E5\u9000\u8D39",dataIndex:"RefundsAmount",hideInTable:n!="yeji",width:160,render:function(t,e){return(0,u.jsx)("a",{className:"red",children:e.RefundsAmount})}},{title:"\u672C\u6708\u9000\u8D39",dataIndex:"RefundsMonthAmount",hideInTable:n!="yeji",render:function(t,e){return(0,u.jsx)("a",{className:"red",children:e.RefundsMonthAmount})}},{title:"\u672C\u6708\u83B7\u5BA2\u6570\u91CF",dataIndex:"authority",hideInTable:n!="yeji",render:function(t,e){return(0,u.jsx)("a",{className:"green",onClick:function(){Q({userId:e.id,"createTime-start":ne(g[0]),"createTime-end":g[1],type:3}),ae(!0)},children:e.authority})}},{title:"\u4FE1\u606F\u63D0\u4F9B\u6210\u4EA4\u91CF",key:"dealCount",width:160,dataIndex:"dealCount",hideInTable:n!="xiansuo"},{title:"\u4FE1\u606F\u63D0\u4F9B\u6210\u4EA4\u8F6C\u5316\u7387",key:"Transactionrate",width:160,dataIndex:"Transactionrate",hideInTable:n!="xiansuo",render:function(t,e){return(0,u.jsxs)("span",{children:[e.MonthAmount?(e.dealCount/e.MonthAmount*100).toFixed(2):0,"%"]})}}],Ye=function(){var t=0;return n=="yeji"?t=E.reduce(function(e,s){return e+s.MonthAmount},0):n=="xiansuo"?t=G.reduce(function(e,s){return e+s.MonthAmount},0):t=O.reduce(function(e,s){return e+s.MonthAmount},0),t},We=function(){var t="";return n=="yeji"&&(t=Math.ceil(Ge()/T)),n=="xiansuo"&&G.forEach(function(e){e.achievementMubiao&&(t?t=t+Math.ceil(e.achievementMubiao/T):t=Math.ceil(e.achievementMubiao/T))}),n=="tigong"&&O.forEach(function(e){e.achievementMubiao&&(t?t=t+Math.ceil(e.achievementMubiao/T):t=Math.ceil(e.achievementMubiao/T))}),t},Je=function(){return n=="yeji"?E.reduce(function(t,e){return t+e.amount},0):n=="xiansuo"?G.reduce(function(t,e){return t+e.amount},0):O.reduce(function(t,e){return t+e.amount},0)},_t=function(){var t,e=new Date;return t=We()*e.getDate(),t},Ft=function(){var t=G.reduce(function(s,y){return s+y.dealCount},0),e=Ye();return(t/e*100).toFixed(2)+"%"},wt=function(){var t="0%";return Je()&&We()&&(t=(Je()/We()*100).toFixed(2)+"%"),t},It={name:Ue[0].departmentName,achievementMubiao:Ge(),MonthAmount:Ye(),MonthAmounts:_t(),amounts:We(),amount:Je(),amountb:wt(),RefundsAmount:E.reduce(function(a,t){return a+t.RefundsAmount},0),RefundsMonthAmount:E.reduce(function(a,t){return a+t.RefundsMonthAmount},0),authority:"",dealCount:G.reduce(function(a,t){return a+t.dealCount},0),amountValue:G.reduce(function(a,t){return a+t.amountValue},0),Transactionrate:Ft()},Ct=function(){var t=[];return vt.forEach(function(e,s){e.hideInTable||t.push((0,u.jsx)("td",{className:"ant-table-cell",style:{width:n=="yeji"?"210px":n=="xiansuo"?"200px":"230px"},children:It[e.dataIndex]},"Transactionrate"+s))}),t},Lt={menu:{type:"tab",items:[{key:"yeji",label:(0,u.jsx)("span",{children:"\u4E1A\u7EE9\u7EDF\u8BA1"})},{key:"xiansuo",label:(0,u.jsx)("span",{children:"\u5F55\u5165\u7EBF\u7D22\u7EDF\u8BA1"})},{key:"tigong",label:(0,u.jsx)("span",{children:"\u4FE1\u606F\u63D0\u4F9B\u6210\u4EA4\u91D1\u989D\u7EDF\u8BA1"})}],onChange:function(t){je(t)}}};return(0,u.jsxs)(v.ZP,{children:[(0,u.jsx)(F.ZP,{children:(0,u.jsx)("div",{style:{width:"100%",display:"flex"},children:(0,u.jsxs)(he.Z,{gutter:24,style:{width:"100%"},children:[(0,u.jsx)(d.Z,{span:4,children:(0,u.jsx)(M.Z,{title:"\u90E8\u95E8",value:(L=Ue[0])===null||L===void 0?void 0:L.departmentName})}),(0,u.jsx)(d.Z,{span:4,children:(0,u.jsx)(M.Z,{title:"\u4ECA\u65E5\u4E1A\u7EE9",valueStyle:{color:"#3f8600"},value:Je(),precision:2})}),(0,u.jsx)(d.Z,{span:4,children:(0,u.jsx)(M.Z,{title:"\u672C\u6708\u4E1A\u7EE9",valueStyle:{color:"#3f8600"},value:Ye(),precision:2})}),(0,u.jsxs)(d.Z,{span:4,children:[(0,u.jsx)(M.Z,{title:"\u672C\u6708\u76EE\u6807",value:Ge(),precision:2}),(0,u.jsx)(se.Z,{percent:(Ye()/Ge()*100).toFixed(2)})]}),(0,u.jsx)(d.Z,{span:4,children:(0,u.jsx)(M.Z,{title:"\u672C\u6708\u9000\u8D39",valueStyle:{color:"#cf1322"},value:E.reduce(function(a,t){return a+t.RefundsAmount},0),precision:2})})]})})}),(0,u.jsx)(F.ZP,{children:(0,u.jsx)(Xe.ZP,{formRef:z,onFinish:function(){var a=(0,f.Z)((0,i.Z)().mark(function t(e){return(0,i.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:console.log(e),Se(e.timeRange);case 2:case"end":return y.stop()}},t)}));return function(t){return a.apply(this,arguments)}}(),onReset:function(){Se([(0,w.X$)(0),(0,w.X$)(1)])},children:(0,u.jsx)(Ie.Z,{fieldProps:{showTime:!1},name:"timeRange",label:"\u65F6\u95F4\u533A\u95F4"})})}),(0,u.jsx)(F.ZP,{children:(0,u.jsx)(B.Z,{spinning:ke,children:(0,u.jsx)(ee.Z,{search:!1,className:"ECContent",columns:vt,dataSource:n=="yeji"?E:n=="xiansuo"?G:O,toolbar:Lt,footer:function(){return(0,u.jsx)("tr",{children:Ct()})}})})}),(0,u.jsxs)(F.ZP,{children:[Ae&&(0,u.jsx)(ie.Z,(0,C.Z)({},bt)),Te&&(0,u.jsx)(ie.Z,(0,C.Z)({},Dt))]}),_&&(0,u.jsx)($e,{ModalsVisible:_,setModalsVisible:function(){return ae(!1)},renderData:S})]})}}}]);
