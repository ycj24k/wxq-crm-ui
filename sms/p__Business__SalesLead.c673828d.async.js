(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1359],{34114:function(Te,f,t){"use strict";t.r(f);var Ie=t(57663),p=t(71577),Oe=t(66456),v=t(15885),F=t(32059),be=t(62350),N=t(24565),je=t(34792),z=t(48086),M=t(11849),i=t(2824),r=t(67294),k=t(40110),D=t(51042),G=t(63863),l=t(37490),$=t(15258),H=t(71906),J=t(7903),Q=t(22),x=t(54493),X=t(21010),Y=t(66371),e=t(85893);f.default=function(_){var o,c,P=_.hidden,w=_.isPerson,Ce=_.isGroup,q=_.showMyself;console.log(w,"===>"),console.log(q,"===>");var ee=(0,X.tT)("@@initialState"),m=ee.initialState,te=(0,r.useState)(null),S=(0,i.Z)(te,2),h=S[0],E=S[1],se=(0,r.useState)(!1),T=(0,i.Z)(se,2),I=T[0],O=T[1],ae=(0,r.useState)("/sms/business/bizStudent/addSystemRepository"),b=(0,i.Z)(ae,2),ne=b[0],re=b[1],ie=(0,r.useState)(!1),j=(0,i.Z)(ie,2),C=j[0],g=j[1],le=(0,r.useState)("1"),y=(0,i.Z)(le,2),d=y[0],de=y[1],ue=(0,r.useState)([]),R=(0,i.Z)(ue,2),ge=R[0],_e=R[1],oe=(o=l.Z.getDepartmentList(m==null||(c=m.currentUser)===null||c===void 0?void 0:c.userid))===null||o===void 0?void 0:o.id,ce=(0,r.useState)({departmentId:oe}),Z=(0,i.Z)(ce,2),me=Z[0],Ee=Z[1],fe=(0,r.useState)(!0),L=(0,i.Z)(fe,2),pe=L[0],ye=L[1],ve=(0,r.useState)(-1),U=(0,i.Z)(ve,2),A=U[0],Re=U[1],Me=(0,r.useState)(!1),B=(0,i.Z)(Me,2),K=B[0],W=B[1],De=pe?"/sms/business/bizStudentUser":"/sms/business/bizStudentUser/potentialStudent",V=(0,r.useRef)(),u=function(){V.current.reload()};(0,r.useEffect)(function(){d=="7"&&Ee({})},[d]);var xe=[{title:"\u51FA\u955C\u4EBA",dataIndex:"name"},{width:120,title:"\u5339\u914D\u7EBF\u7D22\u5206\u7EC4",dataIndex:"groupName"},{title:"\u6D41\u8F6C\u65F6\u95F4",dataIndex:"provider"},{title:"\u59D3\u540D",dataIndex:"name",width:100,sorter:!0,fixed:"left",render:function(n,s){return(0,e.jsx)("div",{children:(0,e.jsxs)("a",{onClick:function(){E((0,M.Z)({},s)),g(!0)},children:[s.name,(0,e.jsx)(k.Z,{})]})})}},{title:"\u6027\u522B",dataIndex:"sex",valueType:"select",valueEnum:{false:"\u7537",true:"\u5973"},render:function(n,s){return(0,e.jsx)("span",{children:s.sex==null?"\u672A\u77E5":s.sex?"\u5973":"\u7537"})},sorter:!0},{title:"\u5B66\u5458\u7C7B\u578B",dataIndex:"type",valueType:"select",width:130,sorter:!0,order:9,filters:!0,filterMultiple:!1,valueEnum:l.Z.getSearch("studentType"),render:function(n,s){return(0,e.jsx)("span",{children:l.Z.getName("studentType",s.type)})}},{title:"\u9879\u76EE\u603B\u79F0",dataIndex:"parentProjects",key:"parentProjects",sorter:!0,valueType:"cascader",fieldProps:{options:l.Z.getList("dict_reg_job"),showSearch:{filter:x.Z}},width:150,render:function(n,s){return(0,e.jsx)("span",{children:l.Z.getCascaderAllName("dict_reg_job",s.project)},"parentProjects")}},{title:"\u54A8\u8BE2\u5C97\u4F4D",dataIndex:"project",sorter:!0,key:"project",valueType:"cascader",fieldProps:{showSearch:{filter:x.Z},options:l.Z.getCascader("dict_reg_job")},render:function(n,s){return(0,e.jsx)("span",{children:l.Z.getCascaderName("dict_reg_job",s.project)})}},{title:"\u54A8\u8BE2\u65F6\u95F4",key:"createTime",sorter:!0,dataIndex:"createTime",valueType:"dateRange",render:function(n,s){return(0,e.jsx)("span",{children:s.createTime})}},{title:"\u5BA2\u6237\u6765\u6E90",dataIndex:"studentSource",valueType:"select",sorter:!0,valueEnum:l.Z.getSearch("dict_source"),render:function(n,s){return(0,e.jsx)("span",{children:l.Z.getName("dict_source",s.studentSource)})}},{title:"\u5F53\u524D\u6240\u5728\u90E8\u95E8",width:120,sorter:!0,dataIndex:"departmentId",search:!1,render:function(n,s){return(0,e.jsx)("span",{children:l.Z.getDepartmentName(s.departmentId).join("-")})}},{title:"\u5907\u6CE8",dataIndex:"description",ellipsis:!0,tip:"\u5907\u6CE8\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u6D41\u8F6C\u65F6\u95F4",sorter:!0,key:"circulationTime",dataIndex:"circulationTime",valueType:"dateRange",render:function(n,s){return(0,e.jsx)("span",{children:s.circulationTime})}},{title:"\u64CD\u4F5C",valueType:"option",width:200,key:"options",fixed:"right",render:function(n,s,Se,Ze){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.Z,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",style:{marginRight:"15px",marginBottom:"8px"},onConfirm:function(){G.Z.delete("/sms/business/bizStudentUser",{id:s.id}).then(function(he){he.status=="success"&&(z.default.success("\u5220\u9664\u6210\u529F"),u())})},okText:"\u5220\u9664",cancelText:"\u53D6\u6D88",children:(0,e.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"},"deletes")},"deletePop"),",",(0,e.jsx)("a",{children:"\u9886\u53D6"})]})}}],Pe=(0,F.Z)({},"receiveNum,circulationTime","asc,desc");return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(H.ZP,{onTabChange:function(n){de(n),u()},tabList:[{tab:"\u4E2A\u4EBA",key:"1"},{tab:"\u4F01\u4E1A",key:"4"},{tab:"\u4EE3\u7406\u4EBA",key:"7"}],children:[(0,e.jsx)(Q.Z,{columns:xe,actionRef:V,toolbar:d!="7"?toolbar:void 0,request:{url:"/sms/business/bizStudentUser/circulationStudent",params:(0,M.Z)({source:d,"userId-isNull":!0},me),sortList:Pe},search:P?!1:{defaultCollapsed:!0,defaultColsNumber:10},rowSelection:{selections:[v.Z.SELECTION_ALL,v.Z.SELECTION_INVERT],onChange:function(n,s){_e(n)}},toolBarRender:[(0,e.jsx)(p.Z,{icon:(0,e.jsx)(D.Z,{}),type:"primary",onClick:function(){E(A?{typee:"add",parentId:A,newMedia:!1,teacher:!0}:{typee:"add",newMedia:!1,teacher:!0}),W(!0)},children:"\u6279\u91CF\u5206\u914D"},"add-sales-lead"),(0,e.jsx)(p.Z,{hidden:d=="2"||P,icon:(0,e.jsx)(D.Z,{}),type:"primary",onClick:function(){re("/sms/business/bizStudent/batch/importForOtherOfSpecial"),O(!0)},children:"\u6279\u91CF\u9886\u53D6"},"button-sales-lead")]}),K&&(0,e.jsx)(Y.Z,{setModalVisible:function(){return W(!1)},modalVisible:K,callbackRef:function(){return u()},renderData:h,url:De,type:"\u5B66\u5458",sourceType:1}),I&&(0,e.jsx)($.Z,{setModalVisible:function(){return O(!1)},modalVisible:I,url:ne,type:"student",upType:"post2",uploadtype:"student",propsData:{resourceType:d},callbackRef:function(){return u()}}),C&&(0,e.jsx)(J.Z,{setModalVisible:function(){return g(!1)},modalVisible:C,renderData:h,callbackRef:function(){return u()},mobileHide:!0})]})})}}}]);
