(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9215],{78677:function($,M,a){"use strict";var i=a(67294),m=a(76565),p=a(29640),l=a(79360),o=a(24770),D=a(27681),N=function(d,h){var v={};for(var e in d)Object.prototype.hasOwnProperty.call(d,e)&&h.indexOf(e)<0&&(v[e]=d[e]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(d);r<e.length;r++)h.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(d,e[r])&&(v[e[r]]=d[e[r]]);return v},j=(0,i.forwardRef)(function(d,h){var v=d.chartRef,e=d.style,r=e===void 0?{height:"inherit"}:e,s=d.className,n=d.loading,u=d.loadingTemplate,t=d.errorTemplate,f=N(d,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Z=(0,p.Z)(m.sg,f),P=Z.chart,Y=Z.container;return(0,i.useEffect)(function(){(0,l.J)(v,P.current)},[P.current]),(0,i.useImperativeHandle)(h,function(){return{getChart:function(){return P.current}}}),i.createElement(o.Z,{errorTemplate:t},n&&i.createElement(D.Z,{loadingTemplate:u,theme:d.theme}),i.createElement("div",{className:s,style:r,ref:Y}))});M.Z=j},45510:function($,M,a){"use strict";a.d(M,{Z:function(){return K}});var i=a(28991),m=a(81253),p=a(85893),l=a(67294),o=a(66758),D=a(53048),N=["proFieldProps","fieldProps"],j="date",d=l.forwardRef(function(c,E){var T=c.proFieldProps,y=c.fieldProps,C=(0,m.Z)(c,N),B=(0,l.useContext)(o.Z);return(0,p.jsx)(D.Z,(0,i.Z)({ref:E,valueType:j,fieldProps:(0,i.Z)({getPopupContainer:B.getPopupContainer},y),proFieldProps:T,filedConfig:{valueType:j,customLightMode:!0}},C))}),h=d,v=["proFieldProps","fieldProps"],e="dateMonth",r=l.forwardRef(function(c,E){var T=c.proFieldProps,y=c.fieldProps,C=(0,m.Z)(c,v),B=(0,l.useContext)(o.Z);return(0,p.jsx)(D.Z,(0,i.Z)({ref:E,valueType:e,fieldProps:(0,i.Z)({getPopupContainer:B.getPopupContainer},y),proFieldProps:T,filedConfig:{valueType:e,customLightMode:!0}},C))}),s=r,n=["fieldProps"],u="dateQuarter",t=l.forwardRef(function(c,E){var T=c.fieldProps,y=(0,m.Z)(c,n),C=(0,l.useContext)(o.Z);return(0,p.jsx)(D.Z,(0,i.Z)({ref:E,valueType:u,fieldProps:(0,i.Z)({getPopupContainer:C.getPopupContainer},T),filedConfig:{valueType:u,customLightMode:!0}},y))}),f=t,Z=["proFieldProps","fieldProps"],P="dateWeek",Y=l.forwardRef(function(c,E){var T=c.proFieldProps,y=c.fieldProps,C=(0,m.Z)(c,Z),B=(0,l.useContext)(o.Z);return(0,p.jsx)(D.Z,(0,i.Z)({ref:E,valueType:P,fieldProps:(0,i.Z)({getPopupContainer:B.getPopupContainer},y),proFieldProps:T,filedConfig:{valueType:P,customLightMode:!0}},C))}),w=Y,U=["proFieldProps","fieldProps"],g="dateYear",S=l.forwardRef(function(c,E){var T=c.proFieldProps,y=c.fieldProps,C=(0,m.Z)(c,U),B=(0,l.useContext)(o.Z);return(0,p.jsx)(D.Z,(0,i.Z)({ref:E,valueType:g,fieldProps:(0,i.Z)({getPopupContainer:B.getPopupContainer},y),proFieldProps:T,filedConfig:{valueType:g,customLightMode:!0}},C))}),A=S,F=h;F.Week=w,F.Month=s,F.Quarter=f,F.Year=A,F.displayName="ProFormComponent";var K=F},34540:function($,M,a){"use strict";var i=a(28991),m=a(81253),p=a(85893),l=a(51617),o=a(67294),D=a(66758),N=a(53048),j=["fieldProps","proFieldProps"],d="dateRange",h=o.forwardRef(function(v,e){var r=v.fieldProps,s=v.proFieldProps,n=(0,m.Z)(v,j),u=(0,o.useContext)(D.Z);return(0,p.jsx)(N.Z,(0,i.Z)({ref:e,fieldProps:(0,i.Z)({getPopupContainer:u.getPopupContainer},r),valueType:d,proFieldProps:s,filedConfig:{valueType:d,lightFilterLabelFormatter:function(f){return(0,l.Z)(f,(r==null?void 0:r.format)||"YYYY-MM-DD")}}},n))});M.Z=h},80773:function($,M,a){"use strict";a.d(M,{uE:function(){return m},NC:function(){return l},X$:function(){return o},$C:function(){return D},dP:function(){return N},HN:function(){return j},fN:function(){return i},p6:function(){return p},ao:function(){return h},NN:function(){return d}});var i=function(e){var r=new Date(e),s=r.getFullYear(),n=r.getMonth(),u=p(new Date(s,n,1))+" 00:00:00",t=p(new Date(s,n+1,0))+" 23:59:59";return{firstDay:u,lastDay:t}},m=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e?new Date(e):new Date,s=r.getFullYear(),n=r.getMonth(),u=p(new Date(s,n,1))+" 00:00:00",t=p(new Date(s,n+1,0))+" 23:59:59";return{firstDay:u,lastDay:t}},p=function(e){var r=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return"".concat(r,"-").concat(s,"-").concat(n)},l=function(){var e=new Date,r=e.getFullYear(),s=e.getMonth()+1;return new Date(r,s,0).getDate()},o=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=new Date,s=new Date(r.getTime()+e*24*60*60*1e3),n=s.getFullYear(),u=s.getMonth()+1,t=s.getDate(),f="".concat(n,"-").concat(u,"-").concat(t);return f},D=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=new Date,s=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0");return s+"-"+n+"-"+e},N=function(e,r){for(var s=[],n=new Date(e),u=new Date(r);n<=u;){var t=n.getFullYear(),f=("0"+(n.getMonth()+1)).slice(-2),Z=("0"+n.getDate()).slice(-2),P="".concat(t,"-").concat(f,"-").concat(Z);s.push(P),n.setDate(n.getDate()+1)}return s},j=function(){for(var e=new Date,r=e.getFullYear(),s=String(e.getMonth()+1).padStart(2,"0"),n=[],u=1;u<=e.getDate();u++){var t=u<10?"0"+u:u,f=r+"-"+s+"-"+t;n.push(f)}return n},d=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e?new Date(e):new Date,s=r.getFullYear(),n=String(r.getMonth()+1).padStart(2,"0"),u=[],t=new Date(s,n,0).getDate(),f=1;f<=t;f++){var Z=f<10?"0"+f:f,P=s+"-"+n+"-"+Z+" 00:00:00";u.push(P)}return u},h=function(){var e=new Date,r=e.toISOString().split("T")[0],s=new Date;s.setDate(s.getDate()+1);var n=s.toISOString().split("T")[0];return{todayFormatted:r,tomorrowFormatted:n}}},18358:function($,M,a){"use strict";a.r(M),a.d(M,{default:function(){return f}});var i=a(11849),m=a(39428),p=a(3182),l=a(2824),o=a(30202),D=a(952),N=a(45510),j=a(34540),d=a(71906),h=a(37490),v=a(63863),e=a(67294),r=a(78677),s=function(P,Y,w){var U=P.reduce(function(g,S){var A="";Y?A=h.Z.getName(Y,S[w]):A=S[w];var F=g.find(function(K){return K.type===A});return F?F.value+=1:g.push({type:A,value:1}),g},[]);return U.forEach(function(g){var S=(g.value/P.length*100).toFixed(2);g.sourceValue="".concat(g.type).concat(g.value,"\u4F4D"),g.source="".concat(g.type," ").concat(S,"%")}),U},n=s,u=a(80773),t=a(85893),f=function(){var Z=(0,e.useState)(),P=(0,l.Z)(Z,2),Y=P[0],w=P[1],U=(0,e.useState)(0),g=(0,l.Z)(U,2),S=g[0],A=g[1],F=(0,e.useState)([0,0,0]),K=(0,l.Z)(F,2),c=K[0],E=K[1],T=(0,e.useState)([]),y=(0,l.Z)(T,2),C=y[0],B=y[1],ce=(0,e.useState)([]),X=(0,l.Z)(ce,2),de=X[0],ve=X[1],fe=(0,e.useState)([]),q=(0,l.Z)(fe,2),pe=q[0],me=q[1],Pe=(0,e.useState)([]),ee=(0,l.Z)(Pe,2),ge=ee[0],he=ee[1],De=(0,e.useState)({}),te=(0,l.Z)(De,2),Fe=te[0],Ee=te[1],ye=(0,e.useState)({20:0,17:0,16:0,18:0,19:0}),re=(0,l.Z)(ye,2),z=re[0],xe=re[1],ae=(0,e.useRef)();(0,e.useEffect)(function(){var x;(x=ae.current)===null||x===void 0||x.setFieldValue("times",(0,u.p6)(new Date)),ne({times:(0,u.p6)(new Date)})},[]);var G={xField:"type",yField:"value",label:{text:function(O){return"".concat((O.frequency*100).toFixed(1),"%")},textBaseline:"bottom"},axis:{y:{labelFormatter:".0%"}},style:{radiusTopLeft:10,radiusTopRight:10}},Te={xField:"type",yField:"value",label:{text:function(O){return"".concat((O.frequency*100).toFixed(1),"%")},textBaseline:"bottom"},axis:{y:{labelFormatter:".0%"}},style:{radiusTopLeft:10,radiusTopRight:10}},Ce={appendPadding:10,angleField:"value",colorField:"sourceValue",radius:.8,label:{type:"inner",offset:"-8%",content:"{name}",style:{fontSize:16}},interactions:[{type:"pie-legend-active"},{type:"element-active"}]},Me={appendPadding:10,angleField:"value",colorField:"sourceValue",radius:.8,label:{type:"inner",offset:"-8%",content:"{name}",style:{fontSize:16}},interactions:[{type:"pie-legend-active"},{type:"element-active"}]},ne=function(){var x=(0,p.Z)((0,m.Z)().mark(function O(L){var Q,I,W,V,H,J,b,k,se,ie,oe,Ze,ue;return(0,m.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return Q={},L.times&&(I=(0,u.fN)(L.times),Q={"createTime-start":I.firstDay,"createTime-end":I.lastDay,_isGetAll:!0}),L.time&&(Q={"createTime-start":L.time[0],"createTime-end":L.time[1],_isGetAll:!0}),_.next=5,v.Z.get("/sms/system/sysInterview",Q);case 5:W=_.sent.data.content,V=0,H=[],J=0,b=0,k=JSON.parse(JSON.stringify(z)),W.forEach(function(R){if(R.status==2&&(J=J+1),R.status==4&&(b=b+1),R.status==6&&(V=V+1,b=b+1,H.push(R)),R.departmentId){var le=h.Z.getDepartmentNamesId(R.departmentId);k[le]=k[le]+1}}),se=n(W,"Recruitment_channels","source"),ie=n(W,!1,"presenterName"),oe=n(W,"Recruitment_Positions","post"),Ze=n(H,"Recruitment_Positions","post"),ue=Object.keys(k).map(function(R){return{type:h.Z.getDepartmentUserName(R,"Dep"),value:k[R]}}),ve(oe),me(ue),B(se),he(ie),w(W),A(V),E([W.length,J,b]),xe(k);case 25:case"end":return _.stop()}},O)}));return function(L){return x.apply(this,arguments)}}();return(0,t.jsxs)(d.ZP,{children:[(0,t.jsx)(o.ZP,{children:(0,t.jsx)(D.ZP,{formRef:ae,onFinish:function(){var x=(0,p.Z)((0,m.Z)().mark(function O(L){return(0,m.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",ne(L));case 1:case"end":return I.stop()}},O)}));return function(O){return x.apply(this,arguments)}}(),children:(0,t.jsxs)(D.ZP.Group,{children:[(0,t.jsx)(N.Z,{label:"\u8BF7\u9009\u62E9\u9700\u8981\u67E5\u8BE2\u7684\u6708\u4EFD:",name:"times",fieldProps:{picker:"month",format:"YYYY-MM"}}),(0,t.jsx)(j.Z,{label:"\u8BF7\u9009\u62E9\u9700\u8981\u67E5\u8BE2\u7684\u65F6\u95F4\u533A\u95F4:",name:"time"})]})})}),(0,t.jsxs)("div",{className:"statistics",children:[(0,t.jsxs)(o.ZP,{className:"statistics-card",children:[(0,t.jsx)("div",{className:"statistics-card-title",children:"\u5230\u9762\u767B\u8BB0\u4EBA\u6570(/\u4EBA):"}),(0,t.jsx)("div",{className:"statistics-card-people",children:c[0]})]}),(0,t.jsxs)(o.ZP,{className:"statistics-card",children:[(0,t.jsx)("div",{className:"statistics-card-title",children:"\u50A8\u5907\u4EBA\u6570(/\u4EBA):"}),(0,t.jsx)("div",{className:"statistics-card-people",children:c[1]})]}),(0,t.jsxs)(o.ZP,{className:"statistics-card",children:[(0,t.jsx)("div",{className:"statistics-card-title",children:"\u9762\u8BD5\u901A\u8FC7\u4EBA\u6570(/\u4EBA):"}),(0,t.jsx)("div",{className:"statistics-card-people",children:c[2]})]}),(0,t.jsxs)(o.ZP,{className:"statistics-card",children:[(0,t.jsx)("div",{className:"statistics-card-title",children:"\u9762\u8BD5\u901A\u8FC7\u7387:"}),(0,t.jsxs)("div",{className:"statistics-card-people",children:[c[0]?(c[2]/c[0]*100).toFixed(2):0,"%"]})]}),(0,t.jsxs)(o.ZP,{className:"statistics-card",children:[(0,t.jsx)("div",{className:"statistics-card-title",children:"\u5165\u804C\u4EBA\u6570(/\u4EBA):"}),(0,t.jsx)("div",{className:"statistics-card-people",children:S})]}),(0,t.jsxs)(o.ZP,{className:"statistics-card",children:[(0,t.jsx)("div",{className:"statistics-card-title",children:"\u5165\u804C\u7387:"}),(0,t.jsxs)("div",{className:"statistics-card-people",children:[S?(S/c[0]*100).toFixed(2):0,"%"]})]})]}),(0,t.jsx)("div",{className:"statistics",style:{margin:"20px 0"},children:Object.keys(z).map(function(x){return(0,t.jsxs)(o.ZP,{className:"statistics-card",children:[(0,t.jsxs)("div",{className:"statistics-card-title",children:[h.Z.getDepartmentUserName(x,"Dep"),":"]}),(0,t.jsx)("div",{className:"statistics-card-people",children:z[x]})]})})}),(0,t.jsxs)(o.ZP,{className:"sourceContetn",split:"vertical",children:[(0,t.jsx)(o.ZP,{title:"\u9762\u8BD5\u4EBA\u5458\u6765\u6E90\u5360\u6BD4",children:(0,t.jsx)(r.Z,(0,i.Z)({data:C},G))}),(0,t.jsx)(o.ZP,{title:"\u9762\u8BD5\u4EBA\u5458\u62DB\u8058\u4EBA\u5360\u6BD4",children:(0,t.jsx)(r.Z,(0,i.Z)({data:ge},G))})]}),(0,t.jsxs)(o.ZP,{className:"sourceContetn",split:"vertical",children:[(0,t.jsx)(o.ZP,{title:"\u62DB\u8058\u5C97\u4F4D\u5230\u9762\u5360\u6BD4",children:(0,t.jsx)(r.Z,(0,i.Z)({data:de},G))}),(0,t.jsx)(o.ZP,{title:"\u90E8\u95E8\u9762\u8BD5\u4EBA\u6570",children:(0,t.jsx)(r.Z,(0,i.Z)({data:pe},G))})]})]})}}}]);
