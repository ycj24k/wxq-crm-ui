(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6877],{32779:function(k,y,e){"use strict";e.d(y,{Z:function(){return i}});var a=e(28991),Z=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},c=O,o=e(27029),T=function(f,P){return Z.createElement(o.Z,(0,a.Z)((0,a.Z)({},f),{},{ref:P,icon:c}))},S=Z.forwardRef(T),i=S},64317:function(k,y,e){"use strict";var a=e(28991),Z=e(81253),O=e(85893),c=e(96202),o=e(67294),T=e(66758),S=e(53048),i=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],H=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=o.forwardRef(function(n,L){var B=n.fieldProps,A=n.children,b=n.params,V=n.proFieldProps,E=n.mode,U=n.valueEnum,W=n.request,m=n.showSearch,t=n.options,K=(0,Z.Z)(n,i),z=(0,o.useContext)(T.Z);return(0,O.jsx)(S.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,c.h)(U),request:W,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({options:t,mode:E,showSearch:m,getPopupContainer:z.getPopupContainer},B),ref:L,proFieldProps:V},K),{},{children:A}))}),P=o.forwardRef(function(n,L){var B=n.fieldProps,A=n.children,b=n.params,V=n.proFieldProps,E=n.mode,U=n.valueEnum,W=n.request,m=n.options,t=(0,Z.Z)(n,H),K=(0,a.Z)({options:m,mode:E||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},B),z=(0,o.useContext)(T.Z);return(0,O.jsx)(S.Z,(0,a.Z)((0,a.Z)({valueEnum:(0,c.h)(U),request:W,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,a.Z)({getPopupContainer:z.getPopupContainer},K),ref:L,proFieldProps:V},t),{},{children:A}))}),I=f,C=P,M=I;M.SearchSelect=C,M.displayName="ProFormComponent",y.Z=M},40295:function(k,y,e){"use strict";e.r(y),e.d(y,{default:function(){return z}});var a=e(62350),Z=e(24565),O=e(57663),c=e(71577),o=e(11849),T=e(77576),S=e(12028),i=e(39428),H=e(34792),f=e(48086),P=e(3182),I=e(2824),C=e(67294),M=e(8212),n=e(82061),L=e(32779),B=e(51042),A=e(66801),b=e(71906),V=e(37476),E=e(5966),U=e(64317),W=e(90672),m=e(63863),t=e(85893),K=function(x){var p=(0,C.useRef)(),G=x.modalVisible,Y=x.setModalVisible,w=x.callbackRef,F=x.renderData;setTimeout(function(){var r;if(p==null||(r=p.current)===null||r===void 0||r.resetFields(),F.type=="eidt"){var l;p==null||(l=p.current)===null||l===void 0||l.setFieldsValue(F)}},100);var N={labelCol:{span:4},wrapperCol:{span:14}},J=function(l){return F.type=="eidt"&&(l.id=F.id),new Promise(function(R,Q){m.Z.post("/sms/system/syInterceptionRule",l).then(function(u){u.status=="success"&&(R(!0),f.default.success("\u63D0\u4EA4\u6210\u529F"),Y(),w())}).catch(function(u){R(!0)})})};return(0,t.jsxs)(V.Y,(0,o.Z)((0,o.Z)({title:F.type=="add"?"\u65B0\u5EFA\u8D4B\u6743\u89C4\u5219":"\u4FEE\u6539\u8D4B\u6743\u89C4\u5219",autoFocusFirstInput:!0},N),{},{layout:"LAYOUT_TYPE_HORIZONTAL",modalProps:{onCancel:function(){return Y()}},formRef:p,onFinish:function(){var r=(0,P.Z)((0,i.Z)().mark(function l(R){return(0,i.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,J(R);case 2:case"end":return u.stop()}},l)}));return function(l){return r.apply(this,arguments)}}(),visible:G,children:[(0,t.jsx)(E.Z,{width:"xl",name:"permissionCodes",label:"\u6743\u9650\u4EE3\u7801"}),(0,t.jsx)(E.Z,{width:"xl",name:"uri",label:"\u8BB8\u53EF\u8DEF\u5F84"}),(0,t.jsx)(E.Z,{width:"xl",name:"excludeUris",label:"\u6392\u9664\u8DEF\u5F84"}),(0,t.jsx)(U.Z,{width:"sm",name:"method",label:"\u8BF7\u6C42\u65B9\u5F0F",valueEnum:{GET:"GET",POST:"POST",DELETE:"DELETE",ALL:"ALL"},fieldProps:{mode:"multiple"}}),(0,t.jsx)(W.Z,{width:"md",name:"description",label:"\u63CF\u8FF0"})]}))},z=function(){var x=(0,C.useRef)(),p=(0,C.useState)(!1),G=(0,I.Z)(p,2),Y=G[0],w=G[1],F=(0,C.useState)(!1),N=(0,I.Z)(F,2),J=N[0],r=N[1],l=(0,C.useState)({}),R=(0,I.Z)(l,2),Q=R[0],u=R[1],X=function(){x.current.reload()},q=[{title:"\u6743\u9650\u4EE3\u7801",dataIndex:"permissionCodes",ellipsis:!0},{title:"\u65B9\u6CD5",dataIndex:"method"},{title:"\u8BB8\u53EF\u8DEF\u5F84",dataIndex:"uri",ellipsis:!0,tip:"\u5730\u5740\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u6392\u9664\u8DEF\u5F84",dataIndex:"excludeUris",ellipsis:!0,tip:"\u5730\u5740\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",search:!1},{title:"\u63CF\u8FF0",dataIndex:"description",tip:"\u63CF\u8FF0\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29",search:!1},{title:"\u72B6\u6001",dataIndex:"enable",search:!1,render:function(D,s){return(0,t.jsx)(S.Z,{checkedChildren:"\u542F\u7528",unCheckedChildren:"\u7981\u7528",defaultChecked:s.enable,loading:Y,onChange:(0,P.Z)((0,i.Z)().mark(function $(){var v;return(0,i.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return w(!0),h.next=3,m.Z.post("/sms/system/syInterceptionRule",{id:s.id,enable:!s.enable});case 3:v=h.sent,v.status!="success"&&f.default.error(v.msg),w(!1),X();case 7:case"end":return h.stop()}},$)}))},s.id)}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",fixed:"right",render:function(D,s,$,v){return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.Z,{type:"primary",size:"small",icon:(0,t.jsx)(M.Z,{}),style:{marginRight:"10px",marginBottom:"8px"},onClick:function(){r(!0),u((0,o.Z)({type:"eidt"},s))},children:"\u7F16\u8F91"},"view"),(0,t.jsx)(Z.Z,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",onConfirm:function(){m.Z.delete("/sms/system/syInterceptionRule",{id:s.id}).then(function(h){h.status=="success"&&(f.default.success("\u5220\u9664\u6210\u529F"),X())})},okText:"\u5220\u9664",cancelText:"\u53D6\u6D88",children:(0,t.jsx)(c.Z,{type:"primary",size:"small",danger:!0,icon:(0,t.jsx)(n.Z,{}),children:"\u5220\u9664"},"delete")},s.id)]})}}];return(0,t.jsxs)(b.ZP,{children:[(0,t.jsx)(A.ZP,{columns:q,actionRef:x,cardBordered:!0,request:(0,P.Z)((0,i.Z)().mark(function g(){var D,s,$,v,d=arguments;return(0,i.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return D=d.length>0&&d[0]!==void 0?d[0]:{},s=d.length>1?d[1]:void 0,$=d.length>2?d[2]:void 0,j.next=5,m.Z.get("/sms/system/syInterceptionRule",D);case 5:return v=j.sent,j.abrupt("return",{data:v.data.content,success:v.success,total:v.data.totalElements});case 7:case"end":return j.stop()}},g)})),rowKey:"id",search:{labelWidth:"auto",collapsed:!1},pagination:{pageSize:10},dateFormatter:"string",headerTitle:"\u8D4B\u6743\u89C4\u5219",toolBarRender:function(){return[(0,t.jsx)(c.Z,{type:"primary",icon:(0,t.jsx)(L.Z,{}),onClick:function(){m.Z.post("/sms/system/syInterceptionRule/reload").then(function(s){s.status=="success"&&f.default.success("\u64CD\u4F5C\u6210\u529F")})},children:"\u91CD\u8F7D\u8D4B\u6743\u89C4\u5219"}),(0,t.jsx)(c.Z,{type:"primary",icon:(0,t.jsx)(B.Z,{}),onClick:function(){u({type:"add"}),r(!0)},children:"\u65B0\u589E\u8D4B\u6743\u89C4\u5219"})]}}),(0,t.jsx)(K,{modalVisible:J,setModalVisible:function(){return r(!1)},callbackRef:function(){return X()},renderData:Q})]})}}}]);
