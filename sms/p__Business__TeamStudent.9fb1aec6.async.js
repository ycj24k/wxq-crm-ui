(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1357,4713],{76407:function(Ne,ae,t){"use strict";t.d(ae,{Z:function(){return ue}});var se=t(28991),X=t(67294),H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M678.3 655.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 00-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 518 759.6 444.7 759.6 362c0-137-110.8-248-247.5-248S264.7 225 264.7 362c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 00-80.4 119.5A373.6 373.6 0 00137 901.8a8 8 0 008 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 641.2 432.2 610 512.2 610c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 008.1.3zM512.2 534c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 01340.5 362c0-45.9 17.9-89.1 50.3-121.6S466.3 190 512.2 190s88.9 17.9 121.4 50.4A171.2 171.2 0 01683.9 362c0 45.9-17.9 89.1-50.3 121.6C601.1 516.1 558 534 512.2 534zM880 772H640c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h240c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"user-delete",theme:"outlined"},U=H,ne=t(27029),oe=function(le,q){return X.createElement(ne.Z,(0,se.Z)((0,se.Z)({},le),{},{ref:q,icon:U}))},de=X.forwardRef(oe),ue=de},8214:function(Ne,ae,t){"use strict";var se=t(28991),X=t(81253),H=t(85893),U=t(67294),ne=t(53048),oe=["fieldProps","request","params","proFieldProps"],de=function(Y,le){var q=Y.fieldProps,Se=Y.request,j=Y.params,ee=Y.proFieldProps,l=(0,X.Z)(Y,oe);return(0,H.jsx)(ne.Z,(0,se.Z)({valueType:"cascader",fieldProps:q,ref:le,request:Se,params:j,filedConfig:{customLightMode:!0},proFieldProps:ee},l))};ae.Z=U.forwardRef(de)},34540:function(Ne,ae,t){"use strict";var se=t(28991),X=t(81253),H=t(85893),U=t(51617),ne=t(67294),oe=t(66758),de=t(53048),ue=["fieldProps","proFieldProps"],Y="dateRange",le=ne.forwardRef(function(q,Se){var j=q.fieldProps,ee=q.proFieldProps,l=(0,X.Z)(q,ue),Oe=(0,ne.useContext)(oe.Z);return(0,H.jsx)(de.Z,(0,se.Z)({ref:Se,fieldProps:(0,se.Z)({getPopupContainer:Oe.getPopupContainer},j),valueType:Y,proFieldProps:ee,filedConfig:{valueType:Y,lightFilterLabelFormatter:function(Ve){return(0,U.Z)(Ve,(j==null?void 0:j.format)||"YYYY-MM-DD")}}},l))});ae.Z=le},22452:function(Ne,ae,t){"use strict";var se=t(28991),X=t(81253),H=t(85893),U=t(67294),ne=t(66758),oe=t(53048),de=["fieldProps","proFieldProps"],ue="dateTime",Y=U.forwardRef(function(le,q){var Se=le.fieldProps,j=le.proFieldProps,ee=(0,X.Z)(le,de),l=(0,U.useContext)(ne.Z);return(0,H.jsx)(oe.Z,(0,se.Z)({ref:q,fieldProps:(0,se.Z)({getPopupContainer:l.getPopupContainer},Se),valueType:ue,proFieldProps:j,filedConfig:{valueType:ue,customLightMode:!0}},ee))});ae.Z=Y},86615:function(Ne,ae,t){"use strict";var se=t(88983),X=t(55742),H=t(28991),U=t(81253),ne=t(85893),oe=t(96202),de=t(67294),ue=t(71436),Y=t(53048),le=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],q=de.forwardRef(function(l,Oe){var Be=l.fieldProps,Ve=l.options,P=l.radioType,o=l.layout,T=l.proFieldProps,ut=l.valueEnum,A=(0,U.Z)(l,le);return(0,ne.jsx)(Y.Z,(0,H.Z)((0,H.Z)({valueType:P==="button"?"radioButton":"radio",ref:Oe,valueEnum:(0,oe.h)(ut,void 0)},A),{},{fieldProps:(0,H.Z)({options:Ve,layout:o},Be),proFieldProps:T,filedConfig:{customLightMode:!0}}))}),Se=de.forwardRef(function(l,Oe){var Be=l.fieldProps,Ve=l.children;return(0,ne.jsx)(X.ZP,(0,H.Z)((0,H.Z)({},Be),{},{ref:Oe,children:Ve}))}),j=(0,ue.G)(Se,{valuePropName:"checked",ignoreWidth:!0}),ee=j;ee.Group=q,ee.Button=X.ZP.Button,ee.displayName="ProFormComponent",ae.Z=ee},88924:function(Ne,ae,t){"use strict";t.r(ae),t.d(ae,{default:function(){return zt}});var se=t(20228),X=t(11382),H=t(71194),U=t(50146),ne=t(49111),oe=t(19650),de=t(66456),ue=t(15885),Y=t(32059),le=t(62350),q=t(24565),Se=t(48736),j=t(27049),ee=t(86582),l=t(11849),Oe=t(30887),Be=t(18515),Ve=t(71153),P=t(60331),o=t(39428),T=t(3182),ut=t(34792),A=t(48086),m=t(2824),u=t(67294),Ct=t(30381),lt=t.n(Ct),K=t(63863),v=t(37490),Dt=t(79046),Et=t(22),dr=t(57338),Ft=t(273),cr=t(12968),it=t(20352),fr=t(57663),Je=t(71577),mr=t(98858),p=t(4914),St=t(68503),yt=t(41574),e=t(85893),It=function(b){var De=b.modalVisible,R=b.setModalVisible,i=b.renderData,Z=b.setAuditVisible,Ie=b.setRenderData,ce=(0,u.useState)(null),fe=(0,m.Z)(ce,2),N=fe[0],$=fe[1],J=(0,u.useState)(),L=(0,m.Z)(J,2),_=L[0],me=L[1],Ee=(0,u.useState)(!1),E=(0,m.Z)(Ee,2),O=E[0],g=E[1],ve=(0,u.useState)(!1),ie=(0,m.Z)(ve,2),Pe=ie[0],Ae=ie[1];(0,u.useEffect)(function(){var d=[],G=[];i.signUp.length>0&&i.signUp.forEach(function(F){F.valueType==0?d.push(F):G.push(F)}),$([d,G])},[]);var Te=function(){var d=(0,T.Z)((0,o.Z)().mark(function G(F,pe){var Fe;return(0,o.Z)().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return Fe=pe.slice(pe.indexOf(".")),ge.next=3,(0,St.Z)("/sms/business/bizOrderField/download",F,pe).then(function(Re){console.log("ress",Re),me(Re),Fe==".png"||Fe==".jpg"||Fe==".jpeg"?g(!0):Ae(!0)});case 3:case"end":return ge.stop()}},G)}));return function(F,pe){return d.apply(this,arguments)}}(),be="\u5B66\u5458";return(0,e.jsxs)(Ft.Z,{onClose:function(){R()},width:1200,visible:De,destroyOnClose:!0,children:[i&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(p.Z,{title:be+"\u57FA\u672C\u4FE1\u606F",bordered:!0,size:"small",children:[(0,e.jsx)(p.Z.Item,{label:be=="\u4F01\u4E1A"?"\u4F01\u4E1A\u540D\u79F0":be+"\u59D3\u540D",children:i.name}),(0,e.jsx)(p.Z.Item,{label:"\u7C7B\u578B",children:v.Z.getName("studentType",i.type)}),i.parentName?(0,e.jsx)(p.Z.Item,{label:"\u6240\u5C5E\u4F01\u4E1A",children:i.parentName}):(0,e.jsx)(p.Z.Item,{label:"\u4F01\u4E1A\u8D1F\u8D23\u4EBA",children:i.chargePersonName}),(0,e.jsx)(p.Z.Item,{label:"\u6027\u522B",children:i.sex==null?"\u672A\u77E5":i.sex?"\u5973":"\u7537"}),(0,e.jsx)(p.Z.Item,{label:"\u8054\u7CFB\u7535\u8BDD",children:i.mobile}),(0,e.jsx)(p.Z.Item,{label:"\u8EAB\u4EFD\u8BC1",children:i.idCard}),(0,e.jsx)(p.Z.Item,{label:"\u5FAE\u4FE1",children:i.weChat}),(0,e.jsx)(p.Z.Item,{label:"\u662F\u5426\u6B63\u5F0F\u5B66\u5458",contentStyle:{color:i.isFormal?"rgb(0,172,132)":"red"},children:i.isFormal?"\u6B63\u5F0F"+be:"\u6F5C\u5728"+be}),(0,e.jsx)(p.Z.Item,{label:"\u5BA2\u6237\u6765\u6E90",children:v.Z.getName("dict_source",i.source)}),(0,e.jsx)(p.Z.Item,{label:"\u6D41\u8F6C\u6B21\u6570",children:i.receiveNum}),(0,e.jsx)(p.Z.Item,{label:"\u8D44\u6E90\u7C7B\u578B",children:v.Z.getName("circulationType",i.resourceType)}),(0,e.jsx)(p.Z.Item,{label:"\u7528\u6237\u72B6\u6001",contentStyle:{color:i.enable===!1?"red":"rgb(0,172,132)"},children:i.enable===!1?"\u7981\u7528":"\u4F7F\u7528\u4E2D"}),(0,e.jsx)(p.Z.Item,{label:"\u54A8\u8BE2\u65F6\u95F4",children:i.createTime}),(0,e.jsx)(p.Z.Item,{label:"\u8054\u7CFB\u5730\u5740",span:2,children:i.address}),(0,e.jsx)(p.Z.Item,{label:"\u5907\u6CE8",children:i.description})]}),(0,e.jsx)(j.Z,{}),(0,e.jsxs)(p.Z,{title:"\u62A5\u540D\u4FE1\u606F",bordered:!0,size:"small",children:[(0,e.jsx)(p.Z.Item,{label:"\u62A5\u8003\u73ED\u578B",children:v.Z.getName("dict_class_type",i.record.classType)}),(0,e.jsx)(p.Z.Item,{label:"\u73ED\u578B\u5E74\u9650",children:v.Z.getName("dict_class_year",i.record.classYear)}),(0,e.jsx)(p.Z.Item,{label:"\u8003\u8BD5\u7C7B\u578B",children:v.Z.getName("dict_exam_type",i.record.examType)}),(0,e.jsx)(p.Z.Item,{label:"\u62A5\u540D\u9879\u76EE",children:v.Z.getCascaderName("dict_reg_job",i.record.project)})]}),(0,e.jsx)(j.Z,{}),(0,e.jsxs)(p.Z,{title:"\u7F34\u8D39\u4FE1\u606F",bordered:!0,size:"small",children:[(0,e.jsx)(p.Z.Item,{label:"\u8BA2\u5355\u91D1\u989D",children:i.record.receivable}),(0,e.jsx)(p.Z.Item,{label:"\u7D2F\u8BA1\u5B9E\u6536",children:i.record.charge}),(0,e.jsx)(p.Z.Item,{label:"\u7D2F\u8BA1\u4F18\u60E0",children:i.record.averageDiscount}),(0,e.jsx)(p.Z.Item,{label:"\u6B20\u8D39",children:(0,e.jsx)("span",{style:{color:"red"},children:i.record.arrears})})]}),(0,e.jsx)(j.Z,{}),(0,e.jsx)(p.Z,{title:"\u62A5\u540D\u8D44\u6599\u4FE1\u606F",bordered:!0,size:"small",children:N&&N[0].map(function(d,G){var F;return(0,e.jsx)(p.Z.Item,{label:d.name,children:(d==null||(F=d.value)===null||F===void 0?void 0:F.indexOf("."))>0?(0,e.jsx)("a",{onClick:function(){Te(d.orderFieldId,d.value)},children:d.value}):d.value},"signup-0-".concat(d.name,"-").concat(G))})}),(0,e.jsx)(j.Z,{}),(0,e.jsx)(p.Z,{title:"\u8003\u8BD5\u8D44\u6599\u4FE1\u606F",bordered:!0,size:"small",children:N&&N[1].length&&N[1].map(function(d,G){var F;return(0,e.jsx)(p.Z.Item,{label:d.name,children:(d==null||(F=d.value)===null||F===void 0?void 0:F.indexOf("."))>0?(0,e.jsx)("a",{onClick:function(){Te(d.orderFieldId,d.value)},children:d.value}):d.value},"signup-1-".concat(d.name,"-").concat(G))})})]}),(0,e.jsxs)("div",{style:{textAlign:"right",margin:"30px"},children:[(0,e.jsx)(Je.Z,{danger:!0,type:"primary",onClick:function(){Ie((0,l.Z)((0,l.Z)({},i.record),{},{confirm:!1})),Z(!0)},children:"\u5BA1\u6838\u4E0D\u901A\u8FC7"}),(0,e.jsx)(Je.Z,{type:"primary",style:{marginLeft:"30px"},onClick:function(){Ie((0,l.Z)((0,l.Z)({},i.record),{},{confirm:!0})),Z(!0)},children:"\u5BA1\u6838\u901A\u8FC7"})]}),(0,e.jsx)("div",{style:{display:"none"},children:(0,e.jsx)(it.Z,{width:200,style:{display:"none"},preview:{visible:O,src:_,onVisibleChange:function(G){g(G)}}})}),Pe&&(0,e.jsx)(yt.Z,{previewImage:_,previewVisible:Pe,setPreviewVisible:function(){Ae(!1)}})]})},vr=t(43185),_e=t(43027),We=t(952),Ce=t(5966),ot=t(80876),Ue=t(64317),Xe=t(37476),Pt=t(35562),At=t(86615),qe=t(45510),Tt=function(b){var De=b.modalVisible,R=b.setModalVisible,i=b.callbackRef,Z=b.datas,Ie=b.url,ce=b.setSubimtDatas,fe=(0,u.useState)(""),N=(0,m.Z)(fe,2),$=N[0],J=N[1],L=(0,u.useRef)();(0,u.useEffect)(function(){var E;J(Z.job),L==null||(E=L.current)===null||E===void 0||E.setFieldsValue(Z)},[]);var _=function(O){ce(JSON.stringify(O)),R()},me=function(O,g){return g.some(function(ve){return ve.label.toLowerCase().indexOf(O.toLowerCase())>-1})};function Ee(E,O){J(E),console.log(E,O)}return(0,e.jsxs)(Xe.Y,{title:"\u5065\u5EB7\u627F\u82E5\u4E66\u8D44\u6599",visible:De,formRef:L,width:660,autoFocusFirstInput:!0,modalProps:{onCancel:function(){return R()},destroyOnClose:!0},onFinish:function(){var E=(0,T.Z)((0,o.Z)().mark(function O(g){return(0,o.Z)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return g.job=v.Z.getCascaderAllName("dict_reg_job",g.job),g.project=v.Z.getCascaderName("dict_reg_job",g.project),g.degree=v.Z.getName("dict_education",g.degree),g.sex=g.sex?"\u5973":"\u7537",ie.next=6,_(g);case 6:case"end":return ie.stop()}},O)}));return function(O){return E.apply(this,arguments)}}(),children:[(0,e.jsx)(At.Z.Group,{name:"type",label:"\u57F9\u8BAD\u65B9\u5F0F",options:[{label:"\u521D\u8BAD",value:"1"},{label:"\u590D\u8BAD",value:"2"}]}),(0,e.jsx)(Ce.Z,{label:"\u59D3\u540D",name:"name"},"name1"),(0,e.jsx)(Ce.Z,{label:"\u624B\u673A\u53F7\u7801",name:"mobile"},"mobile1"),(0,e.jsx)(Ce.Z,{label:"\u8EAB\u4EFD\u8BC1",name:"idCard"},"idCard1"),(0,e.jsx)(Ue.Z,{label:"\u6027\u522B",name:"sex",width:"xs",valueEnum:{false:"\u7537",true:"\u5973"}}),(0,e.jsx)(Ue.Z,{label:"\u5B66\u5386",name:"degree",width:"xs",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B66\u5386"}],request:(0,T.Z)((0,o.Z)().mark(function E(){return(0,o.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",v.Z.getList("dict_education"));case 1:case"end":return g.stop()}},E)}))}),(0,e.jsx)(Ue.Z,{width:"md",name:"job",placeholder:"\u9009\u62E9\u62A5\u8003\u5C97\u4F4D",label:"\u62A5\u8003\u5C97\u4F4D",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u62A5\u8003\u5C97\u4F4D"}],fieldProps:{options:v.Z.getList("dict_reg_job"),showSearch:{filter:me},onChange:Ee,onSearch:function(O){return console.log(O)}}}),(0,e.jsx)(Ue.Z,{width:"md",name:"project",placeholder:"\u9009\u62E9\u62A5\u8003\u5C97\u4F4D",label:"\u62A5\u8003\u5C97\u4F4D",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u62A5\u8003\u5C97\u4F4D"}],fieldProps:{options:v.Z.getList("dict_reg_job",$),showSearch:{filter:me}}}),(0,e.jsx)(Ce.Z,{label:"\u5DE5\u4F5C\u5355\u4F4D\u6216\u4F4F\u5740",name:"address"},"address1"),(0,e.jsxs)(We.ZP.Group,{title:"\u5DE5\u4F5C\u7ECF\u5386",children:[(0,e.jsx)(qe.Z,{name:"jobTime",fieldProps:{showTime:{format:"HH:mm:ss"},format:"YYYY-MM-DD"},width:"sm",label:"\u5DE5\u4F5C\u65F6\u95F4\u6BB5"}),(0,e.jsx)(Ce.Z,{label:"\u5728\u4F55\u5730\u4F55\u5355\u4F4D",name:"jobAdress"},"jobAdress1"),(0,e.jsx)(Ce.Z,{label:"\u6240\u4ECE\u4E8B\u5DE5\u79CD",name:"jobType"},"jobType1")]})]})},Rt=function(b){var De=b.modalVisible,R=b.setModalVisible,i=b.callbackRef,Z=b.renderData,Ie=b.url,ce=(0,u.useState)(!1),fe=(0,m.Z)(ce,2),N=fe[0],$=fe[1],J=(0,u.useState)(!1),L=(0,m.Z)(J,2),_=L[0],me=L[1],Ee=(0,u.useState)(!1),E=(0,m.Z)(Ee,2),O=E[0],g=E[1],ve=(0,u.useState)(!1),ie=(0,m.Z)(ve,2),Pe=ie[0],Ae=ie[1],Te=(0,u.useState)({}),be=(0,m.Z)(Te,2),d=be[0],G=be[1],F=(0,u.useState)({}),pe=(0,m.Z)(F,2),Fe=pe[0],Ye=pe[1],ge=(0,u.useState)(),Re=(0,m.Z)(ge,2),Ke=Re[0],Le=Re[1],he=(0,u.useRef)(),et=sessionStorage.getItem("tokenName"),$e=sessionStorage.getItem("tokenValue"),ze={};ze[et]=$e,(0,u.useMemo)(function(){var S;console.log("subimtDatas",d),he==null||(S=he.current)===null||S===void 0||S.setFieldValue(Pe,d)},[d]),(0,u.useEffect)(function(){var S=[];S=Z.signup.map(function(s){return Ge(s)}),$(S),setTimeout(function(){var s,C={},y="";Z.signup.forEach(function(){var f=(0,T.Z)((0,o.Z)().mark(function z(h){return(0,o.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(h.name=="\u5B66\u5458\u59D3\u540D"&&(C[h.fieldId]=Z.studentName),h.value){x.next=3;break}return x.abrupt("return");case 3:h.value.indexOf(".")>0?C[h.fieldId]=[{uid:h.orderFieldId,name:h.name,response:{data:h.value}}]:C[h.fieldId]=h.value;case 4:case"end":return x.stop()}},z)}));return function(z){return f.apply(this,arguments)}}()),he==null||(s=he.current)===null||s===void 0||s.setFieldsValue((0,l.Z)({},C))},100)},[]);var ke=function(){var S=(0,T.Z)((0,o.Z)().mark(function s(C,y){var f;return(0,o.Z)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,Pt.Z)("/sms/business/bizOrderField/download",C,y);case 2:return f=h.sent,h.abrupt("return",f.imgUrl[0]);case 4:case"end":return h.stop()}},s)}));return function(C,y){return S.apply(this,arguments)}}(),tt=function(s){K.Z.get("/sms/business/bizStudentUser",{id:Z.studentUserId}).then(function(C){var y=C.data.content[0],f={name:y.name,mobile:y.mobile,idCard:y.idCard,sex:y.sex+"",degree:y.education+"",job:v.Z.getCascaderValue("dict_reg_job",Z.project)[0],project:Z.project};Ye(f),g(!0),Ae(s)})},Ge=function(s){var C=s.format?new Function("return"+s.format)():{},y=C.size,f=y===void 0?null:y,z=C.required,h=z===void 0?!1:z;switch(s.type){case 0:return(0,e.jsx)(Ce.Z,{name:s.fieldId,label:(0,e.jsxs)("text",{children:[s.name," ",C.typeName=="ChengruoData"?(0,e.jsx)("a",{onClick:function(){return tt(s.fieldId)},children:"\u63D0\u4EA4\u8D44\u6599"}):""]}),width:560,disabled:C.typeName=="ChengruoData",rules:[{required:h,pattern:new RegExp(/^\S*$/),message:"\u4E0D\u80FD\u5305\u542B\u7A7A\u683C/\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u7528\u6237\u540D"}]},s.fieldId);case 1:return(0,e.jsx)(Ce.Z,{name:s.fieldId,label:s.name,width:560,rules:[{required:h,pattern:new RegExp(v.Z.getRegex("idCard")),message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u8EAB\u4EFD\u8BC1\u53F7"}]},s.fieldId);case 2:return(0,e.jsx)(Ce.Z,{name:s.fieldId,label:s.name,width:560,rules:[{required:h,pattern:new RegExp(v.Z.getRegex("mobile")),message:"\u8BF7\u8F93\u5165\u6B63\u786E\u7684\u624B\u673A\u53F7"}]},s.fieldId);case 3:return(0,e.jsx)(ot.Z,{width:560,name:s.fieldId,label:s.name,action:"/sms/business/bizOrderField/upload",rules:[{required:h}],fieldProps:{multiple:!1,headers:(0,l.Z)({},ze),listType:"picture",defaultFileList:[],beforeUpload:function(x){if(f&&x.size>f*1e3)return A.default.error("\u4E0A\u4F20\u6587\u4EF6\u4E0D\u80FD\u5927\u4E8E".concat(f,"kb")),_e.Z.LIST_IGNORE;if(x.type!="image/png"&&x.type!="image/jpeg")return A.default.error("\u53EA\u80FD\u4E0A\u4F20png\u3001jpg\u683C\u5F0F"),_e.Z.LIST_IGNORE},onPreview:function(){var W=(0,T.Z)((0,o.Z)().mark(function B(Ze){var ye;return(0,o.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,ke(Ze.uid,Ze.response.data);case 2:ye=te.sent,Le(ye),me(!0);case 5:case"end":return te.stop()}},B)}));function x(B){return W.apply(this,arguments)}return x}(),onChange:function(x){var B=x.file.status;B==="done"?A.default.success("".concat(x.file.name," \u4E0A\u4F20\u6210\u529F.")):B==="error"&&A.default.error("".concat(x.file.name," \u4E0A\u4F20\u5931\u8D25."))}}},s.fieldId);case 4:return(0,e.jsx)(ot.Z,{width:560,name:s.fieldId,label:s.name,action:"/sms/business/bizOrderField/upload",rules:[{required:h}],fieldProps:{multiple:!1,headers:(0,l.Z)({},ze),listType:"picture",defaultFileList:[],beforeUpload:function(x){if(f&&x.size>f*1e3)return A.default.error("\u4E0A\u4F20\u6587\u4EF6\u4E0D\u80FD\u5927\u4E8E".concat(f,"kb")),_e.Z.LIST_IGNORE},onPreview:function(){var W=(0,T.Z)((0,o.Z)().mark(function B(Ze){var ye;return(0,o.Z)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,ke(Ze.uid,Ze.response.data);case 2:ye=te.sent,Le(ye),me(!0);case 5:case"end":return te.stop()}},B)}));function x(B){return W.apply(this,arguments)}return x}(),onChange:function(x){var B=x.file.status;B==="done"?A.default.success("".concat(x.file.name," \u4E0A\u4F20\u6210\u529F.")):B==="error"&&A.default.error("".concat(x.file.name," \u4E0A\u4F20\u5931\u8D25."))}}},s.fieldId);case 5:return(0,e.jsx)(Ue.Z,{width:560,name:s.fieldId,placeholder:s.name,label:s.name,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u62A5\u8003\u5C97\u4F4D"}],fieldProps:{options:v.Z.getList("dict_reg_job",v.Z.getCascaderAllName("dict_reg_job",Z.project,"value"),!1)}})}},Qe=function(s,C){var y=[];Object.keys(s).forEach(function(f,z){Z.signup.forEach(function(h){h.fieldId==f&&(typeof s[f]=="object"?y.push({fieldId:f,value:s[f][0].response.data,orderId:Z.id,type:Z.valueType}):y.push({fieldId:f,value:s[f],orderId:Z.id,type:Z.valueType}),h.orderFieldId&&(y[z].id=h.orderFieldId))})}),K.Z.postAll("/sms/business/bizOrderField/saveArray",{array:y}).then(function(f){f.status=="success"&&(C=="audit"?K.Z.post("/sms/business/bizOrder",{id:Z.id,isComplete:!0}).then(function(z){z.status=="success"&&(A.default.success("\u64CD\u4F5C\u6210\u529F"),R(),i())}):(A.default.success("\u64CD\u4F5C\u6210\u529F"),R(),i()))})};return(0,e.jsxs)(Xe.Y,{title:"\u63D0\u4EA4\u8D44\u6599",formRef:he,visible:De,width:660,autoFocusFirstInput:!0,modalProps:{onCancel:function(){return R()},destroyOnClose:!0,maskClosable:!1,okText:"\u6682\u5B58"},submitter:{render:function(s,C){return[].concat((0,ee.Z)(C),[(0,e.jsx)(Je.Z,{htmlType:"button",type:"primary",hidden:Z.type==1,onClick:(0,T.Z)((0,o.Z)().mark(function y(){var f,z;return(0,o.Z)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:(f=he.current)===null||f===void 0||(z=f.validateFieldsReturnFormatValue)===null||z===void 0||z.call(f).then(function(){var x=(0,T.Z)((0,o.Z)().mark(function B(Ze){return(0,o.Z)().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return console.log("\u6821\u9A8C\u8868\u5355\u5E76\u8FD4\u56DE\u683C\u5F0F\u5316\u540E\u7684\u6240\u6709\u6570\u636E\uFF1A",Ze),xe.next=3,Qe(Ze,"audit");case 3:case"end":return xe.stop()}},B)}));return function(B){return x.apply(this,arguments)}}());case 1:case"end":return W.stop()}},y)})),children:"\u63D0\u4EA4\u5BA1\u6838"},"edit")])}},onFinish:function(){var S=(0,T.Z)((0,o.Z)().mark(function s(C){return(0,o.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Qe(C,"edit");case 2:case"end":return f.stop()}},s)}));return function(s){return S.apply(this,arguments)}}(),children:[(0,e.jsx)(We.ZP.Group,{children:N}),(0,e.jsx)("div",{style:{display:"none"},children:(0,e.jsx)(it.Z,{width:200,style:{display:"none"},preview:{visible:_,src:Ke,onVisibleChange:function(s){me(s)}}})}),O&&(0,e.jsx)(Tt,{setModalVisible:function(){return g(!1)},modalVisible:O,renderData:Z,callbackRef:function(){return i()},setSubimtDatas:function(s){return G(s)},datas:Fe})]})},Mt=t(90672),Ot=function(b){var De=b.modalVisible,R=b.setModalVisible,i=b.callbackRef,Z=b.renderData,Ie=b.callback;console.log("renderData",Z);var ce=(0,u.useRef)(),fe=function($){return $.confirm=Z.confirm,$.entityId=Z.id,new Promise(function(J){K.Z.post("/sms/business/bizAudit/audit/"+9,$).then(function(L){L.status=="success"&&(A.default.success("\u64CD\u4F5C\u6210\u529F"),R(),i(),J(!0))}).catch(function(L){J(!0)})})};return(0,e.jsx)(Xe.Y,{title:"\u5BA1\u6838\u610F\u89C1",formRef:ce,autoFocusFirstInput:!0,modalProps:{destroyOnClose:!0,onCancel:function(){R()},maskClosable:!1},onFinish:function(){var N=(0,T.Z)((0,o.Z)().mark(function $(J){return(0,o.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,fe(J);case 2:case"end":return _.stop()}},$)}));return function($){return N.apply(this,arguments)}}(),visible:De,children:(0,e.jsx)(We.ZP.Group,{children:(0,e.jsx)(Mt.Z,{label:"\u5BA1\u6838\u610F\u89C1",name:"remark",width:"lg",rules:[{required:!Z.confirm,message:"\u8BF7\u8F93\u5165\u672A\u901A\u8FC7\u539F\u56E0"}]})})})},Bt=t(12741),Vt=t(62650),kt=t(6765),wt=t(79636),Nt=t(73183),Ut=t(60643),dt=t(54493),Lt=t(71906),zt=function(b){var De={\u8BA2\u5355\u7F16\u53F7:"num",\u59D3\u540D:"studentName",\u6240\u5C5E\u56E2\u7EC4:"studentParentName",\u8EAB\u4EFD\u8BC1:"idCard",\u6240\u5C5E\u73ED\u7EA7:"className",\u62A5\u8003\u5C97\u4F4D:"project",\u62A5\u8003\u73ED\u578B:"classType",\u73ED\u578B\u5E74\u9650:"classYear",\u8003\u8BD5\u7C7B\u578B:"examType",\u8BA2\u5355\u91D1\u989D:"receivable",\u7D2F\u8BA1\u5B9E\u6536:"charge",\u7D2F\u8BA1\u4F18\u60E0:"averageDiscount",\u6B20\u8D39:"arrears",\u5907\u6CE8:"description",\u62A5\u540D\u65F6\u95F4:"createTime",\u8003\u8BD5\u8D44\u6599:"isComplete2",\u62A5\u540D\u8D44\u6599:"isComplete",\u4E0B\u8BC1\u65E5\u671F:"certStartDate",\u8BC1\u4E66\u5230\u671F\u65E5\u671F:"certEndDate",\u5BA1\u6838:"isSubmit",\u7F34\u8D39:"status"},R=b.classId,i=(0,u.useState)(!1),Z=(0,m.Z)(i,2),Ie=Z[0],ce=Z[1],fe=(0,u.useState)(!1),N=(0,m.Z)(fe,2),$=N[0],J=N[1],L=(0,u.useState)(!1),_=(0,m.Z)(L,2),me=_[0],Ee=_[1],E=(0,u.useState)(!1),O=(0,m.Z)(E,2),g=O[0],ve=O[1],ie=(0,u.useState)(!1),Pe=(0,m.Z)(ie,2),Ae=Pe[0],Te=Pe[1],be=(0,u.useState)(!1),d=(0,m.Z)(be,2),G=d[0],F=d[1],pe=(0,u.useState)(!1),Fe=(0,m.Z)(pe,2),Ye=Fe[0],ge=Fe[1],Re=(0,u.useState)(!1),Ke=(0,m.Z)(Re,2),Le=Ke[0],he=Ke[1],et=(0,u.useState)(!1),$e=(0,m.Z)(et,2),ze=$e[0],ke=$e[1],tt=(0,u.useState)(!1),Ge=(0,m.Z)(tt,2),Qe=Ge[0],S=Ge[1],s=(0,u.useState)(),C=(0,m.Z)(s,2),y=C[0],f=C[1],z=(0,u.useState)(!1),h=(0,m.Z)(z,2),W=h[0],x=h[1],B=(0,u.useState)(!1),Ze=(0,m.Z)(B,2),ye=Ze[0],xe=Ze[1],te=(0,u.useState)([]),ct=(0,m.Z)(te,2),pr=ct[0],Wt=ct[1],Yt=(0,u.useState)([]),ft=(0,m.Z)(Yt,2),Me=ft[0],Kt=ft[1],$t=(0,u.useState)(null),mt=(0,m.Z)($t,2),V=mt[0],re=mt[1],Gt=(0,u.useState)(null),vt=(0,m.Z)(Gt,2),Qt=vt[0],Ht=vt[1],Jt=(0,u.useState)(""),pt=(0,m.Z)(Jt,2),_t=pt[0],Xt=pt[1],qt=(0,u.useState)(""),ht=(0,m.Z)(qt,2),rt=ht[0],hr=ht[1],er=(0,u.useState)(),Zt=(0,m.Z)(er,2),Zr=Zt[0],tr=Zt[1],xr=(0,u.useRef)(),je={"studentType-in":"1,2",enable:!0};R&&(je.classId=R);var rr=(0,u.useState)(je),xt=(0,m.Z)(rr,2),He=xt[0],we=xt[1],ar="/sms/business/bizOrder/registration",sr="/sms/business/bizStudentUser",bt=(0,u.useRef)(),k=function(){bt.current.reload(),ce(!1)};(0,u.useEffect)(function(){!R||(we(je),k())},[b]),(0,u.useEffect)(function(){console.log("examinationId",rt)},[rt]);var at=function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,M=[],w=r||rt;w.length>0&&(w.forEach(function(c){M.push({id:c,isConfirmExam:n})}),K.Z.postAll("/sms/business/bizOrder/editOrders",M).then(function(c){c.status=="success"&&(A.default.success("\u64CD\u4F5C\u6210\u529F"),k())}))},nr=function(){var a=(0,T.Z)((0,o.Z)().mark(function n(r){var M,w,c,D;return(0,o.Z)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,K.Z.get("/sms/business/bizField/orderField",{orderId:r.id,valueType:0,_isGetAll:!0,_orderBy:"fieldStandardId",_direction:"asc"});case 2:M=Q.sent,M.data.content.length===0?A.default.error("\u6682\u65E0\u62A5\u540D\u8D44\u6599\u6570\u636E"):(S(!0),w=sessionStorage.getItem("tokenName"),c=sessionStorage.getItem("tokenValue"),D="/sms/business/bizOrder/buildSubmitQrcode?id="+r.id+"&"+w+"="+c,f(D));case 4:case"end":return Q.stop()}},n)}));return function(r){return a.apply(this,arguments)}}(),ur=function(n){x(!0),re({typeEdit:"1",record:n.id})},br=(0,e.jsx)(Be.Z,{items:[{key:"confirm",label:(0,e.jsx)(P.Z,{color:"#87d068",onClick:function(){return at(!0)},children:"\u53C2\u52A0"})},{key:"confirm",label:(0,e.jsx)(P.Z,{color:"#FF0000",onClick:function(){return at(!1)},children:"\u4E0D\u53C2\u52A0"})}]}),lr=[{title:"\u5B66\u5458",dataIndex:"studentName",sorter:!0,width:100,fixed:"left",render:function(n,r){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("a",{onClick:(0,T.Z)((0,o.Z)().mark(function M(){return(0,o.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:ce(!0),K.Z.get(sr,{id:r.studentUserId}).then(function(D){K.Z.get("/sms/business/bizField/orderField",{orderId:r.id}).then(function(){var I=(0,T.Z)((0,o.Z)().mark(function Q(st){var jt;return(0,o.Z)().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:jt=st.data.content.reverse(),Ht((0,l.Z)((0,l.Z)({},D.data.content[0]),{},{signUp:jt,record:r})),J(!0),ce(!1);case 4:case"end":return nt.stop()}},Q)}));return function(Q){return I.apply(this,arguments)}}())});case 2:case"end":return c.stop()}},M)})),children:r.studentName})})}},{title:"\u73ED\u7EA7",dataIndex:"className",sorter:!0,width:100,hideInTable:R,render:function(n,r){return(0,e.jsx)("a",{onClick:function(){re(r),F(!0)},children:r.className?r.className:"\u9009\u62E9\u73ED\u7EA7"})}},{title:"\u62A5\u8003\u73ED\u578B",dataIndex:"classType",sorter:!0,width:100,valueEnum:v.Z.getSearch("dict_class_type"),render:function(n,r){return(0,e.jsx)(e.Fragment,{children:v.Z.getName("dict_class_type",r.classType)})}},{title:"\u73ED\u578B\u5E74\u9650",sorter:!0,dataIndex:"classYear",width:100,valueEnum:v.Z.getSearch("dict_class_year"),render:function(n,r){return(0,e.jsx)(e.Fragment,{children:v.Z.getName("dict_class_year",r.classYear)})}},{title:"\u8003\u8BD5\u7C7B\u578B",sorter:!0,dataIndex:"examType",width:100,valueEnum:v.Z.getSearch("dict_exam_type"),render:function(n,r){return(0,e.jsx)(e.Fragment,{children:v.Z.getName("dict_exam_type",r.examType)})}},{width:140,title:"\u9879\u76EE\u603B\u79F0",dataIndex:"parentProjects",key:"parentProjects",sorter:!0,valueType:"cascader",fieldProps:{options:v.Z.getList("dict_reg_job"),showSearch:{filter:dt.Z}},render:function(n,r){return(0,e.jsx)("span",{children:v.Z.getCascaderAllName("dict_reg_job",r.project)},"parentProjects")}},{title:"\u62A5\u8003\u5C97\u4F4D",dataIndex:"project",key:"project",sorter:!0,width:120,valueType:"cascader",fieldProps:{options:v.Z.getCascader("dict_reg_job"),showSearch:{filter:dt.Z}},render:function(n,r){return(0,e.jsx)("span",{children:r.project&&(0,ee.Z)(new Set(r.project.split(","))).map(function(M,w){return(0,e.jsxs)("a",{onClick:function(){re({parentProject:v.Z.getCascaderAllName("dict_reg_job",r.project,"value"),receivable:r.receivable,examType:r.examType,classYear:r.classYear,classType:r.classType}),Xt(r.id),xe(!0)},children:[v.Z.getCascaderName("dict_reg_job",M)," ",(0,e.jsx)("br",{})]},"project-link-".concat(M,"-").concat(w))})},"project")}},{title:"\u670D\u52A1\u72B6\u6001",dataIndex:"serviceStatus",sorter:!0,filters:!0,width:120,filterMultiple:!1,valueType:"select",valueEnum:{0:{text:(0,e.jsx)(P.Z,{color:"#FF0000",children:"\u672A\u670D\u52A1"}),status:"Error"},1:{text:(0,e.jsx)(P.Z,{color:"#f50",children:"\u670D\u52A1\u4E2D"}),status:"Success"},2:{text:(0,e.jsx)(P.Z,{color:"#87d068",children:"\u5DF2\u5B8C\u7ED3"}),status:"Success"}},render:function(n,r){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.Z,{color:r.serviceStatus==0?"#FF0000":r.serviceStatus==1?"#f50":"#87d068",children:r.serviceStatus==0?"\u672A\u670D\u52A1":r.serviceStatus==1?"\u670D\u52A1\u4E2D":">\u5DF2\u5B8C\u7ED3"})})}},{title:"\u8003\u8BD5\u8D44\u6599",dataIndex:"isComplete2",sorter:!0,filters:!0,width:120,hideInTable:!R,filterMultiple:!1,valueType:"select",valueEnum:{false:{text:(0,e.jsx)(P.Z,{color:"#f50",children:"\u672A\u63D0\u4EA4"}),status:"Error"},true:{text:(0,e.jsx)(P.Z,{color:"#87d068",children:"\u5DF2\u63D0\u4EA4"}),status:"Success"}},render:function(n,r){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.Z,{color:r.isComplete2===!1?"#f50":"#87d068",children:r.isComplete2===!1?"\u672A\u63D0\u4EA4":"\u5DF2\u63D0\u4EA4"})})}},{title:"\u62A5\u540D\u8D44\u6599",dataIndex:"isComplete",sorter:!0,width:120,filters:!0,filterMultiple:!1,valueType:"select",valueEnum:{false:{text:(0,e.jsx)(P.Z,{color:"#f50",children:"\u672A\u63D0\u4EA4"}),status:"Error"},true:{text:(0,e.jsx)(P.Z,{color:"#87d068",children:"\u5DF2\u63D0\u4EA4"}),status:"Success"}},render:function(n,r){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.Z,{color:r.isComplete==!1?"#f50":"#87d068",children:r.isComplete==!1?"\u672A\u63D0\u4EA4":"\u5DF2\u63D0\u4EA4"})})}},{title:"\u5BA1\u6838",dataIndex:"isSubmit",sorter:!0,width:80,filters:!0,hideInTable:He.isServed,filterMultiple:!1,valueType:"select",valueEnum:{false:{text:(0,e.jsx)(P.Z,{color:"#FF0000",children:(0,e.jsx)("span",{style:{textDecoration:"underline"},children:"\u672A\u901A\u8FC7"})}),status:"Error"},true:{text:(0,e.jsx)(P.Z,{color:"#87d068",children:"\u5DF2\u901A\u8FC7"}),status:"Success"}},render:function(n,r){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.Z,{color:r.isSubmit===!1?"#FF0000":r.confirm===null?"#f50":"#87d068",children:r.isSubmit===!1?(0,e.jsx)("span",{className:"isSubmit",style:{textDecoration:"underline"},children:"\u672A\u901A\u8FC7"}):r.confirm===null?"\u672A\u5BA1\u6838":"\u5DF2\u901A\u8FC7"})})}},{title:"\u7F34\u8D39",dataIndex:"status",sorter:!0,width:80,filters:!0,filterMultiple:!1,valueType:"select",valueEnum:{"0":{text:(0,e.jsx)(P.Z,{color:"#FF0000",children:v.Z.getName("orderStatus","0")}),status:"Processing"},"1":{text:(0,e.jsx)(P.Z,{color:"#f50",children:v.Z.getName("orderStatus","1")}),status:"Error"},"2":{text:(0,e.jsx)(P.Z,{color:"#87d068",children:v.Z.getName("orderStatus","2")}),status:"Success"}},render:function(n,r){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.Z,{color:r.status==0?"#FF0000":r.status==1?"#f50":"#87d068",children:v.Z.getName("orderStatus",r.status)})})}},{title:"\u62DB\u751F\u8001\u5E08",dataIndex:"userName",sorter:!0,width:100},{title:"\u5BA1\u6838\u5EFA\u8BAE",dataIndex:"remark",width:120,search:!1,ellipsis:!0,tip:"\u5BA1\u6838\u5EFA\u8BAE\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u5907\u6CE8",width:120,dataIndex:"description",search:!1,ellipsis:!0,tip:"\u5907\u6CE8\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u62A5\u540D\u65F6\u95F4",width:100,key:"createTime",sorter:!0,dataIndex:"createTime",valueType:"dateRange",render:function(n,r){return(0,e.jsx)("span",{children:r.createTime},"createTime-".concat(r.id))}},{title:"\u4E0B\u8BC1\u65E5\u671F",width:100,key:"certStartDate",sorter:!0,dataIndex:"certStartDate",valueType:"dateRange",render:function(n,r){return(0,e.jsx)("span",{children:r.certStartDate},"certStartDate")}},{title:"\u8BC1\u4E66\u5230\u671F\u65E5\u671F",width:100,key:"certEndDate",sorter:!0,dataIndex:"certEndDate",valueType:"dateRange",render:function(n,r){return(0,e.jsx)("span",{children:r.certEndDate},"certEndDate")}},{title:"\u5BFC\u51FA\u6B21\u6570",dataIndex:"exportNum",width:100,sorter:!0,render:function(n,r){return(0,e.jsx)("span",{children:r.exportNum?r.exportNum:0},"exportNum")}},{title:"\u5BA1\u6838\u65F6\u95F4",key:"auditTime",width:100,sorter:!0,order:9,dataIndex:"auditTime",valueType:"dateTimeRange",render:function(n,r){return(0,e.jsx)("span",{children:r.auditTime?r.auditTime:"\u672A\u5BA1\u6838"},"auditTime")}},{title:"\u5B8C\u7ED3\u65F6\u95F4",key:"servedTime",width:100,sorter:!0,hideInTable:!He.isServed,dataIndex:"servedTime",valueType:"dateRange",render:function(n,r){return(0,e.jsx)("span",{children:r.servedTime},"servedTime")}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:170,fixed:"right",render:function(n,r,M,w){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{hidden:R,children:[(0,e.jsxs)("a",{hidden:je.studentType!=0,onClick:function(){K.Z.get("/sms/business/bizField/orderField",{orderId:r.id,valueType:0,_isGetAll:!0,_orderBy:"fieldStandardId",_direction:"asc"}).then(function(D){var I=D.data.content;if(I.length<=0){A.default.error("\u5B66\u5458\u62A5\u8003\u9879\u76EE\u5C1A\u672A\u914D\u7F6E\u62A5\u540D\u8D44\u6599\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u6DFB\u52A0\u3002",5);return}re((0,l.Z)((0,l.Z)({},r),{},{signup:I,valueType:0})),Ee(!0)})},children:[r.isSubmit===!1?"\u4FEE\u6539\u8D44\u6599":"\u63D0\u4EA4\u8D44\u6599",(0,e.jsx)(j.Z,{type:"vertical"})]},"signUp"),(0,e.jsxs)("a",{hidden:je.studentType==0,onClick:function(){gt("/sms/business/bizOrderField/export/fileByParentId?parentId="+r.id+"&type=0")},children:["\u5BFC\u51FA\u4F01\u4E1A\u5B66\u5458\u8D44\u6599",(0,e.jsx)(j.Z,{type:"vertical"})]},"signUpqiye"),(0,e.jsxs)("a",{hidden:r.isSubmit!==!1,onClick:function(){K.Z.post("/sms/business/bizOrder",{id:r.id,isSubmit:!0}).then(function(D){D.status=="success"&&(A.default.success("\u63D0\u4EA4\u6210\u529F"),k())})},children:["\u91CD\u65B0\u63D0\u4EA4",(0,e.jsx)(j.Z,{type:"vertical"})]},"signUps"),(0,e.jsx)(q.Z,{title:"\u8D44\u6599\u5BA1\u6838",okText:"\u901A\u8FC7",cancelText:"\u672A\u901A\u8FC7",onConfirm:function(D){D==null||D.stopPropagation(),re((0,l.Z)((0,l.Z)({},r),{},{confirm:!0})),ve(!0)},onCancel:function(){re((0,l.Z)((0,l.Z)({},r),{},{confirm:!1})),ve(!0)},children:(0,e.jsxs)("a",{hidden:r.isSubmit===!1||r.confirm,style:{marginRight:"10px",marginBottom:"8px"},children:["\u5BA1\u6838",(0,e.jsx)(j.Z,{type:"vertical"})]},"audit")}),(0,e.jsx)("a",{onClick:function(){re(r),ge(!0)},children:"\u670D\u52A1\u8BB0\u5F55"}),(0,e.jsx)(j.Z,{type:"vertical"}),(0,e.jsx)("a",{onClick:function(){re(r),ke(!0)},children:"\u8BC1\u4E66"}),(0,e.jsx)(j.Z,{type:"vertical"}),(0,e.jsx)("a",{onClick:function(){nr(r)},children:"\u4E8C\u7EF4\u7801"}),(0,e.jsx)(j.Z,{type:"vertical"}),(0,e.jsx)("a",{onClick:function(){ur(r)},children:"\u5F00\u901A\u9898\u5E93"})]}),(0,e.jsxs)("div",{hidden:!R,children:[(0,e.jsxs)("a",{onClick:function(){K.Z.get("/sms/business/bizField/orderField",{orderId:r.id,valueType:1}).then(function(D){var I=D.data.content;if(I.length<=0){A.default.error("\u5B66\u5458\u62A5\u8003\u9879\u76EE\u5C1A\u672A\u914D\u7F6E\u8003\u8BD5\u8D44\u6599\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u6DFB\u52A0\u3002",5);return}re((0,l.Z)((0,l.Z)({},r),{},{signup:I.reverse(),valueType:1})),Ee(!0)})},children:["\u8003\u8BD5\u8D44\u6599",(0,e.jsx)(j.Z,{type:"vertical"})]},"signUp"),(0,e.jsxs)("a",{style:{color:"red"},onClick:function(){K.Z.post("/sms/business/bizOrder",{classId:"-1",id:r.id}).then(function(D){D.status=="success"&&(A.default.success("\u63D0\u4EA4\u6210\u529F"),k())})},children:["\u79FB\u9664\u73ED\u7EA7",(0,e.jsx)(j.Z,{type:"vertical"})]},"signUp")]})]})}}],gr=function(n,r){console.log("e",n),console.log("record",r),K.Z.post("/sms/business/bizOrder",{id:r.id,classId:n}).then(function(M){M.status=="success"&&(A.default.success("\u63D0\u4EA4\u6210\u529F"),k())})},gt=function(n){var r=sessionStorage.getItem("tokenName"),M=sessionStorage.getItem("tokenValue"),w={};w[r]=M,fetch(n,{method:"POST",headers:(0,l.Z)({},w)}).then(function(c){c.blob().then(function(D){var I=window.URL.createObjectURL(D),Q=document.createElement("a");document.body.appendChild(Q);var st="\u9644\u4EF6";Q.href=I,Q.download=st,Q.target="_blank",Q.click(),Q.remove(),k()})})},ir=(0,Y.Z)({},"createTime,status","desc,desc"),or={menu:{type:"tab",items:[{key:"All",label:(0,e.jsx)("span",{children:"\u5168\u90E8"})},{key:"0",label:(0,e.jsx)("span",{children:"\u672A\u670D\u52A1"})},{key:"1",label:(0,e.jsx)("span",{children:"\u670D\u52A1\u4E2D"})},{key:"2",label:(0,e.jsx)("span",{children:"\u5DF2\u5B8C\u7ED3"})}],onChange:function(n){switch(n){case"All":we(je);break;case"0":we((0,l.Z)((0,l.Z)({},je),{},{serviceStatus:0}));break;case"1":we((0,l.Z)((0,l.Z)({},je),{},{serviceStatus:1}));break;case"2":we((0,l.Z)((0,l.Z)({},je),{},{serviceStatus:2}));break}k()}}};return(0,e.jsx)(Lt.ZP,{onTabChange:function(n){tr(n);var r=He;r.studentType=n,we(r),k()},children:(0,e.jsxs)(X.Z,{spinning:Ie,children:[(0,e.jsx)(Et.Z,{columns:lr,className:"SignUpStudent",scroll:{x:1500},actionRef:bt,cardBordered:!0,request:{url:ar,params:He,sortList:ir},search:{defaultCollapsed:!0,defaultColsNumber:10},rowKey:"id",toolbar:or,rowSelection:{selections:[ue.Z.SELECTION_ALL,ue.Z.SELECTION_INVERT],onChange:function(n,r){Wt(r),Kt(n)}},tableAlertOptionRender:function(n){var r=n.selectedRowKeys,M=n.selectedRows,w=n.onCleanSelected;return(0,e.jsxs)(oe.Z,{size:24,children:[(0,e.jsx)("span",{children:(0,e.jsx)("a",{style:{marginInlineStart:8},onClick:w,children:"\u53D6\u6D88\u9009\u62E9"})}),(0,e.jsx)("a",{onClick:function(){(0,Dt.Z)(M,De,"\u5B66\u5458\u4FE1\u606F","student")},children:"\u5BFC\u51FA\u5B66\u5458\u4FE1\u606F"}),(0,e.jsx)("a",{onClick:function(){re(M[0]),F(!0)},hidden:R,children:"\u6279\u91CF\u9009\u62E9\u73ED\u7EA7"}),(0,e.jsx)("a",{onClick:function(){console.log("selectedIds",Me),K.Z.post("/sms/business/bizOrder/served",{ids:Me.join(","),isServed:!0}).then(function(D){D.status=="success"&&(A.default.success("\u63D0\u4EA4\u6210\u529F"),k())})},children:"\u6279\u91CF\u5B8C\u7ED3"}),(0,e.jsx)("a",{onClick:(0,T.Z)((0,o.Z)().mark(function c(){return(0,o.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:at(!0,Me);case 1:case"end":return I.stop()}},c)})),children:"\u6279\u91CF\u786E\u8BA4\u53C2\u52A0\u8003\u8BD5"}),(0,e.jsx)("a",{onClick:(0,T.Z)((0,o.Z)().mark(function c(){return(0,o.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:Te(!0),re({messageType:"student",id:Me.join(",")});case 2:case"end":return I.stop()}},c)})),children:"\u6279\u91CF\u53D1\u9001\u77ED\u4FE1"}),(0,e.jsx)("a",{onClick:(0,T.Z)((0,o.Z)().mark(function c(){return(0,o.Z)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:he(!0),re({messageType:"student",id:Me.join(",")});case 2:case"end":return I.stop()}},c)})),children:"\u6279\u91CF\u53D1\u9001\u5FAE\u4FE1\u8BA2\u9605\u6D88\u606F"}),(0,e.jsx)("a",{hidden:je.studentType!=0,onClick:function(){gt("/sms/business/bizOrderField/export/fileById?idList="+Me.join(",")+"&type=0")},children:"\u5BFC\u51FA\u62A5\u540D\u8D44\u6599"})]})}}),(0,e.jsx)(U.Z,{open:Ye,width:1200,onOk:function(){return ge(!1)},onCancel:function(){return ge(!1)},title:"\u670D\u52A1\u8BB0\u5F55",children:V&&(0,e.jsx)(Vt.Z,{orderId:V.id})}),(0,e.jsx)(U.Z,{open:ye,width:1200,onOk:function(){return xe(!1)},onCancel:function(){return xe(!1)},title:"\u6536\u8D39\u6807\u51C6",children:(0,e.jsx)(kt.default,{student:!0,params:V,callbackRefP:function(){return k()},orderId:_t,setJobFalg:function(){return xe(!1)}})}),(0,e.jsx)(U.Z,{open:G,width:1200,onOk:function(){return F(!1)},onCancel:function(){return F(!1)},footer:null,children:(0,e.jsx)(Bt.default,{selectedIds:Me,renderDatas:V,callbackRefs:function(){return k()},setClassFalg:function(){return F(!1)}})}),$&&(0,e.jsx)(It,{setModalVisible:function(){return J(!1)},modalVisible:$,renderData:Qt,callbackRef:function(){return k()},setAuditVisible:function(n){return ve(n)},setRenderData:function(n){return re(n)}}),me&&(0,e.jsx)(Rt,{setModalVisible:function(){return Ee(!1)},modalVisible:me,renderData:V,callbackRef:function(){return k()}}),Ae&&(0,e.jsx)(wt.Z,{modalVisible:Ae,setModalVisible:function(){return Te(!1)},callbackRef:function(){return k()},renderData:V}),g&&(0,e.jsx)(Ot,{setModalVisible:function(){return ve(!1)},modalVisible:g,callbackRef:function(){return k()},renderData:V}),Le&&(0,e.jsx)(Nt.Z,{modalVisible:Le,setModalVisible:function(){return he(!1)},callbackRef:function(){return k()},renderData:V}),(0,e.jsx)(U.Z,{title:"\u63D0\u4EA4\u8D44\u6599\u4E8C\u7EF4\u7801",open:Qe,width:500,onCancel:function(){return S(!1)},footer:null,destroyOnClose:!0,children:(0,e.jsx)("img",{style:{width:"400px",height:"400px"},src:y})}),W&&(0,e.jsx)(Ut.Z,{setModalVisible:function(){return x(!1)},modalVisible:W,renderData:V,callbackRef:function(){return k()}}),(0,e.jsx)(U.Z,{title:"\u7F16\u8F91\u8BC1\u4E66",open:ze,onCancel:function(){return ke(!1)},footer:null,destroyOnClose:!0,children:(0,e.jsxs)(We.ZP,{onFinish:function(){var a=(0,T.Z)((0,o.Z)().mark(function n(r){return(0,o.Z)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:K.Z.post("/sms/business/bizOrder",(0,l.Z)((0,l.Z)({},r),{},{id:V.id})).then(function(c){c.status=="success"&&(A.default.success("\u63D0\u4EA4\u6210\u529F"),ke(!1),k())});case 1:case"end":return w.stop()}},n)}));return function(n){return a.apply(this,arguments)}}(),children:[(0,e.jsx)(qe.Z,{name:"certStartDate",initialValue:(V==null?void 0:V.certStartDate)&&lt()(V.certStartDate).format("YYYY-MM-DD"),fieldProps:{format:"YYYY-MM-DD"},label:"\u4E0B\u8BC1\u65E5\u671F",rules:[{required:!0}]}),(0,e.jsx)(qe.Z,{name:"certEndDate",initialValue:(V==null?void 0:V.certEndDate)&&lt()(V.certEndDate).format("YYYY-MM-DD"),fieldProps:{format:"YYYY-MM-DD"},label:"\u8BC1\u4E66\u5230\u671F\u65E5\u671F",rules:[{required:!0}]})]})})]})})}}}]);
