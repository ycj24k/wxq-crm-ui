(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6625],{12002:function(b,p,e){"use strict";e.r(p);var $=e(71194),Z=e(50146),S=e(77883),I=e(49747),V=e(47673),v=e(4107),j=e(11849),G=e(57663),A=e(71577),z=e(62350),T=e(24565),r=e(39428),H=e(34792),O=e(48086),P=e(3182),J=e(9715),l=e(55843),D=e(2824),M=e(67294),K=e(71906),W=e(66801),o=e(63863),_=e(85893);p.default=function(){var f=(0,M.useRef)(),F=(0,M.useState)(!1),C=(0,D.Z)(F,2),L=C[0],E=C[1],U=(0,M.useState)(null),B=(0,D.Z)(U,2),h=B[0],R=B[1],x=l.Z.useForm(),y=(0,D.Z)(x,1),m=y[0],g=[{title:"\u7B49\u7EA7\u540D\u79F0",dataIndex:"name"},{title:"\u7B49\u7EA7\u7F16\u7801",dataIndex:"code"},{title:"\u4F18\u5148\u7EA7",dataIndex:"priority",sorter:!0},{title:"\u63CF\u8FF0",dataIndex:"description",ellipsis:!0},{title:"\u64CD\u4F5C",valueType:"option",render:function(n,t){return[(0,_.jsx)("a",{onClick:function(){R(t),m.setFieldsValue(t),E(!0)},children:"\u7F16\u8F91"},"edit"),(0,_.jsx)(T.Z,{title:"\u786E\u8BA4\u5220\u9664\u8BE5\u7B49\u7EA7\uFF1F",onConfirm:(0,P.Z)((0,r.Z)().mark(function a(){var s;return(0,r.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.Z.delete("/sms/sales/level",{id:t.id});case 2:O.default.success("\u5220\u9664\u6210\u529F"),(s=f.current)===null||s===void 0||s.reload();case 4:case"end":return i.stop()}},a)})),children:(0,_.jsx)("a",{children:"\u5220\u9664"})},"del")]}}];return(0,_.jsxs)(K.ZP,{children:[(0,_.jsx)(W.ZP,{rowKey:"id",columns:g,actionRef:f,search:{labelWidth:"auto"},toolBarRender:function(){return[(0,_.jsx)(A.Z,{type:"primary",onClick:function(){R(null),m.resetFields(),E(!0)},children:"\u65B0\u589E"},"new")]},request:function(){var u=(0,P.Z)((0,r.Z)().mark(function n(t){var a,s,c;return(0,r.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,o.Z.get("/sms/sales/level",t);case 2:return c=d.sent,d.abrupt("return",{data:((a=c.data)===null||a===void 0?void 0:a.content)||[],success:!0,total:((s=c.data)===null||s===void 0?void 0:s.totalElements)||0});case 4:case"end":return d.stop()}},n)}));return function(n){return u.apply(this,arguments)}}()}),(0,_.jsx)(Z.Z,{title:h?"\u7F16\u8F91\u9500\u552E\u7B49\u7EA7":"\u65B0\u589E\u9500\u552E\u7B49\u7EA7",open:L,destroyOnClose:!0,onCancel:function(){return E(!1)},onOk:(0,P.Z)((0,r.Z)().mark(function u(){var n,t;return(0,r.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,m.validateFields();case 2:if(t=s.sent,!h){s.next=9;break}return s.next=6,o.Z.post("/sms/sales/level/update",(0,j.Z)({id:h.id},t));case 6:O.default.success("\u66F4\u65B0\u6210\u529F"),s.next=12;break;case 9:return s.next=11,o.Z.post("/sms/sales/level",t);case 11:O.default.success("\u65B0\u589E\u6210\u529F");case 12:E(!1),(n=f.current)===null||n===void 0||n.reload();case 14:case"end":return s.stop()}},u)})),children:(0,_.jsxs)(l.Z,{form:m,layout:"vertical",children:[(0,_.jsx)(l.Z.Item,{label:"\u7B49\u7EA7\u540D\u79F0",name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B49\u7EA7\u540D\u79F0"}],children:(0,_.jsx)(v.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,_.jsx)(l.Z.Item,{label:"\u7B49\u7EA7\u7F16\u7801",name:"code",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u7B49\u7EA7\u7F16\u7801"}],children:(0,_.jsx)(v.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,_.jsx)(l.Z.Item,{label:"\u4F18\u5148\u7EA7",name:"priority",children:(0,_.jsx)(I.Z,{min:0,precision:0,style:{width:"100%"}})}),(0,_.jsx)(l.Z.Item,{label:"\u63CF\u8FF0",name:"description",children:(0,_.jsx)(v.Z.TextArea,{rows:3})})]})})]})}}}]);
