(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7421],{8214:function(he,N,e){"use strict";var m=e(28991),w=e(81253),C=e(85893),R=e(67294),A=e(53048),T=["fieldProps","request","params","proFieldProps"],_=function(r,L){var y=r.fieldProps,j=r.request,V=r.params,O=r.proFieldProps,s=(0,w.Z)(r,T);return(0,C.jsx)(A.Z,(0,m.Z)({valueType:"cascader",fieldProps:y,ref:L,request:j,params:V,filedConfig:{customLightMode:!0},proFieldProps:O},s))};N.Z=R.forwardRef(_)},64317:function(he,N,e){"use strict";var m=e(28991),w=e(81253),C=e(85893),R=e(96202),A=e(67294),T=e(66758),_=e(53048),E=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],r=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],L=A.forwardRef(function(s,h){var B=s.fieldProps,o=s.children,v=s.params,te=s.proFieldProps,q=s.mode,S=s.valueEnum,Q=s.request,k=s.showSearch,G=s.options,M=(0,w.Z)(s,E),J=(0,A.useContext)(T.Z);return(0,C.jsx)(_.Z,(0,m.Z)((0,m.Z)({valueEnum:(0,R.h)(S),request:Q,params:v,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({options:G,mode:q,showSearch:k,getPopupContainer:J.getPopupContainer},B),ref:h,proFieldProps:te},M),{},{children:o}))}),y=A.forwardRef(function(s,h){var B=s.fieldProps,o=s.children,v=s.params,te=s.proFieldProps,q=s.mode,S=s.valueEnum,Q=s.request,k=s.options,G=(0,w.Z)(s,r),M=(0,m.Z)({options:k,mode:q||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},B),J=(0,A.useContext)(T.Z);return(0,C.jsx)(_.Z,(0,m.Z)((0,m.Z)({valueEnum:(0,R.h)(S),request:Q,params:v,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,m.Z)({getPopupContainer:J.getPopupContainer},M),ref:h,proFieldProps:te},G),{},{children:o}))}),j=L,V=y,O=j;O.SearchSelect=V,O.displayName="ProFormComponent",N.Z=O},19054:function(he,N,e){"use strict";var m=e(28991),w=e(81253),C=e(85893),R=e(67294),A=e(53048),T=["fieldProps","request","params","proFieldProps"],_=function(L,y){var j=L.fieldProps,V=L.request,O=L.params,s=L.proFieldProps,h=(0,w.Z)(L,T);return(0,C.jsx)(A.Z,(0,m.Z)({valueType:"treeSelect",fieldProps:j,ref:y,request:V,params:O,filedConfig:{customLightMode:!0},proFieldProps:s},h))},E=R.forwardRef(_);N.Z=E},22:function(he,N,e){"use strict";var m=e(39428),w=e(11849),C=e(3182),R=e(2824),A=e(66801),T=e(63863),_=e(67294),E=e(85893);N.Z=function(r){var L=r.columns,y=r.actionRef,j=r.formRef,V=r.cardBordered,O=V===void 0?!0:V,s=r.scroll,h=s===void 0?!1:s,B=r.request,o=r.beforeSearchSubmit,v=r.toolbar,te=v===void 0?void 0:v,q=r.pagesizes,S=q===void 0?10:q,Q=r.rowKey,k=Q===void 0?"id":Q,G=r.toolBarRender,M=G===void 0?[]:G,J=r.dateFormatter,be=J===void 0?"string":J,oe=r.rowSelection,le=oe===void 0?!1:oe,Pe=r.expandable,ge=Pe===void 0?void 0:Pe,Ze=r.tableAlertOptionRender,Se=Ze===void 0?void 0:Ze,Me=r.onRow,de=r.params,Ce=de===void 0?"":de,ae=r.dataSource,Re=ae===void 0?void 0:ae,_e=r.tableStyle,H=_e===void 0?void 0:_e,se=r.footer,je=se===void 0?void 0:se,ce=r.onReset,X=ce===void 0?void 0:ce,ne=r.onSubmit,pe=ne===void 0?void 0:ne,fe=r.onFn,ee=fe===void 0?void 0:fe,me=r.getTotalElements,U=me===void 0?void 0:me,ve=r.getData,ue=ve===void 0?void 0:ve,Ee=r.loding,re=Ee===void 0?void 0:Ee,b=r.search,a=b===void 0?void 0:b,u=r.searchData,i=u===void 0?{}:u,p=r.headerTitle,F=r.editable,D=F===void 0?void 0:F,g=r.className,Z=g===void 0?"tables":g,d=r.rowClassName,l=d===void 0?void 0:d,f=!1;B&&(f=B.sortList);var W={_orderBy:"",_direction:""},n=(0,_.useState)(S),t=(0,R.Z)(n,2),ye=t[0],z=t[1],$=(0,_.useState)({}),I=(0,R.Z)($,2),c=I[0],ie=I[1];return(0,E.jsx)(A.ZP,{columns:L,className:Z,actionRef:y,formRef:j,cardBordered:O,scroll:h,headerTitle:p,tableStyle:H,dataSource:Re,rowClassName:l,request:function(){var x=(0,C.Z)((0,m.Z)().mark(function Ie(Y,Te,Be){var Ae,K,Oe;return(0,m.Z)().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return Object.keys(Y).forEach(function(P){(Y[P]=="null"||Y[P]==null)&&(Y["".concat(P,"-isNull")]=!0,delete Y[P])}),Object.keys(Te).length>0?Object.keys(Te).forEach(function(P){var Le;W._orderBy=P,((Le=Te[P])===null||Le===void 0?void 0:Le.indexOf("desc"))==0?W._direction="desc":W._direction="asc"}):f?Object.keys(B.sortList).forEach(function(P){W._orderBy=P,W._direction=B.sortList[P]}):W={_orderBy:"",_direction:""},Ae=Y,Object.keys(Ae).forEach(function(P){Ae[P]===""&&delete Ae[P]}),K=(0,w.Z)((0,w.Z)((0,w.Z)((0,w.Z)({},Be),B.params),Ae),i),Object.keys(K).forEach(function(P){(K[P]==""||K[P]==[""]||K[P]=="-isNull")&&K[P]!==0&&K[P]!==!1&&(K["".concat(P)+"-isNull"]=!0,delete K[P]),K[P]===null&&delete K[P],K[P]=="All"&&delete K[P]}),W._orderBy!==""&&Object.assign(K,W),ie(K),De.next=10,T.Z.get(B.url,(0,w.Z)({},K));case 10:return Oe=De.sent,ee&&ee(Oe.data.content),ue&&ue(K),re&&re(!1),U&&U(Oe.data.totalElements),De.abrupt("return",{data:Oe.data.content,success:Oe.success,total:Oe.data.totalElements});case 16:case"end":return De.stop()}},Ie)}));return function(Ie,Y,Te){return x.apply(this,arguments)}}(),rowKey:k,pagination:{pageSize:ye,showSizeChanger:!0,onChange:function(Ie,Y){z(Y)}},toolBarRender:function(){return M},rowSelection:le,params:Ce,expandable:ge,dateFormatter:be,tableAlertOptionRender:Se,toolbar:te,onRow:Me,beforeSearchSubmit:o,onReset:X,onSubmit:pe,search:a,editable:D,footer:je,columnsState:{persistenceKey:Z,persistenceType:"localStorage"}})}},98645:function(he,N,e){"use strict";e.r(N);var m=e(57663),w=e(71577),C=e(62350),R=e(24565),A=e(34792),T=e(48086),_=e(11849),E=e(39428),r=e(3182),L=e(86582),y=e(2824),j=e(67294),V=e(51042),O=e(63863),s=e(37490),h=e(22),B=e(54493),o=e(60643),v=e(85893);N.default=function(te){var q=te.type,S=(0,j.useRef)(),Q=(0,j.useState)(!1),k=(0,y.Z)(Q,2),G=k[0],M=k[1],J=(0,j.useState)(null),be=(0,y.Z)(J,2),oe=be[0],le=be[1],Pe=(0,j.useState)([]),ge=(0,y.Z)(Pe,2),Ze=ge[0],Se=ge[1],Me=(0,j.useState)([]),de=(0,y.Z)(Me,2),Ce=de[0],ae=de[1],Re=(0,j.useState)([]),_e=(0,y.Z)(Re,2),H=_e[0],se=_e[1],je=(0,j.useState)([]),ce=(0,y.Z)(je,2),X=ce[0],ne=ce[1],pe=(0,j.useState)("01"),fe=(0,y.Z)(pe,2),ee=fe[0],me=fe[1],U=(0,j.useState)([]),ve=(0,y.Z)(U,2),ue=ve[0],Ee=ve[1],re="/sms/business/bizQuestionAccredit",b=(0,j.useRef)();(0,j.useEffect)(function(){F()},[q]),(0,j.useEffect)(function(){Ee([].concat((0,L.Z)(ue.filter(function(Z){return Z.dataIndex!="productId"})),[{title:"\u9898\u5E93/\u8BFE\u7A0B",dataIndex:"productId",key:"productId",align:"center",valueType:"cascader",fieldProps:{showSearch:!0,filterTreeNode:function(d,l){var f;return((f=l.label)===null||f===void 0?void 0:f.toLowerCase().indexOf(d.toLowerCase()))>=0},onChange:function(d){console.log(d,"value")}},request:function(){var Z=(0,r.Z)((0,E.Z)().mark(function l(){var f,W;return(0,E.Z)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,ee!=="02"){t.next=16;break}if(t.prev=2,!(H&&H.length>0)){t.next=7;break}return t.abrupt("return",H);case 7:return t.next=9,i();case 9:return f=t.sent,t.abrupt("return",f||[]);case 11:t.next=16;break;case 13:return t.prev=13,t.t0=t.catch(2),t.abrupt("return",[]);case 16:if(ee!=="03"){t.next=31;break}if(t.prev=17,!(X&&X.length>0)){t.next=22;break}return t.abrupt("return",X);case 22:return t.next=24,p();case 24:return W=t.sent,t.abrupt("return",W||[]);case 26:t.next=31;break;case 28:return t.prev=28,t.t1=t.catch(17),t.abrupt("return",[]);case 31:return t.abrupt("return",[]);case 34:return t.prev=34,t.t2=t.catch(0),t.abrupt("return",[]);case 37:case"end":return t.stop()}},l,null,[[0,34],[2,13],[17,28]])}));function d(){return Z.apply(this,arguments)}return d}(),dependencies:["type"],render:function(d,l){return l.type=="03"?s.Z.getNameById(X,l.productId):l.type=="02"?s.Z.findAncestorsName(l.productId,H):"\u65E0"}}]))},[ee]),(0,j.useEffect)(function(){(function(){var Z=(0,r.Z)((0,E.Z)().mark(function l(){var f,W,n,t;return(0,E.Z)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,a();case 2:return f=z.sent,z.next=5,u();case 5:return W=z.sent,z.next=8,i();case 8:return n=z.sent,z.next=11,p();case 11:t=z.sent,Ee([{title:"\u5C0F\u7A0B\u5E8F\u540D\u79F0",dataIndex:"agentId",align:"center",key:"agentId",valueType:"select",request:function(){var $=(0,r.Z)((0,E.Z)().mark(function c(){return(0,E.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",f);case 1:case"end":return x.stop()}},c)}));function I(){return $.apply(this,arguments)}return I}()},{title:"\u6388\u6743\u5929\u6570",dataIndex:"days",key:"days",render:function(I,c){return(0,v.jsx)("span",{children:""+c.days+"\u5929"})}},{title:"\u7C7B\u578B",dataIndex:"type",key:"type",valueType:"select",valueEnum:{"02":"\u9898\u5E93","03":"\u8BFE\u7A0B"},fieldProps:{onChange:function(I){var c;me(I),(c=b.current)===null||c===void 0||c.setFieldValue("productId",void 0)}},render:function(I,c){if(c.type=="02")return(0,v.jsx)("span",{children:"\u9898\u5E93"});if(c.type=="03")return(0,v.jsx)("span",{children:"\u8BFE\u7A0B"})}},{title:"\u9898\u5E93/\u8BFE\u7A0B",dataIndex:"productId",key:"productId",align:"center",valueType:"cascader",fieldProps:{showSearch:!0,filterTreeNode:function(I,c){var ie;return((ie=c.label)===null||ie===void 0?void 0:ie.toLowerCase().indexOf(I.toLowerCase()))>=0},onChange:function(I){console.log(I,"value")}},request:function(){var $=(0,r.Z)((0,E.Z)().mark(function c(){return(0,E.Z)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",n);case 1:case"end":return x.stop()}},c)}));function I(){return $.apply(this,arguments)}return I}(),dependencies:["type"],render:function(I,c){return c.type=="03"?s.Z.getNameById(t,c.productId):c.type=="02"?s.Z.findAncestorsName(c.productId,n):"\u65E0"}},{title:"\u9879\u76EE\u603B\u79F0",dataIndex:"parentProjects",key:"parentProjects",sorter:!0,valueType:"select",fieldProps:{options:s.Z.getList("dict_reg_job"),mode:"tags"},width:180,render:function(I,c){return(0,v.jsx)("span",{children:s.Z.getCascaderAllName("dict_reg_job",c.project)},"parentProjects")}},{title:"\u54A8\u8BE2\u5C97\u4F4D",dataIndex:"project-in",sorter:!0,key:"project-in",valueType:"select",fieldProps:{options:s.Z.getCascader("dict_reg_job"),showSearch:{filter:B.Z},mode:"tags"},render:function(I,c){return(0,v.jsx)("span",{children:s.Z.getCascaderName("dict_reg_job",c.project)})}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createTime",dataIndex:"createTime",valueType:"dateRange",sorter:!0,render:function(I,c){return(0,v.jsx)("span",{children:c.createTime})}},{title:"\u64CD\u4F5C",valueType:"option",width:260,key:"options",fixed:"right",render:function(I,c,ie,x){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("a",{type:"primary",style:{marginRight:"15px",marginBottom:"8px"},onClick:function(){le((0,_.Z)((0,_.Z)({},c),{},{typeEdit:"1"})),M(!0)},children:"\u7F16\u8F91"},"looks"),(0,v.jsx)(R.Z,{title:"\u662F\u5426\u786E\u5B9A\u5220\u9664\uFF1F",style:{marginRight:"15px",marginBottom:"8px"},onConfirm:function(){O.Z.delete("/sms/business/bizQuestionAccredit",{id:c.id}).then(function(Y){Y.status=="success"&&(T.default.success("\u5220\u9664\u6210\u529F"),F())})},okText:"\u5220\u9664",cancelText:"\u53D6\u6D88",children:(0,v.jsx)("a",{style:{color:"red"},children:"\u5220\u9664"},"deletes")},"deletePop")]})}}]);case 13:case"end":return z.stop()}},l)}));function d(){return Z.apply(this,arguments)}return d})()()},[]);var a=function(){var Z=(0,r.Z)((0,E.Z)().mark(function d(){var l,f;return(0,E.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.Z.get("/sms/business/bizQuestionAccredit/getAgentList");case 2:if(l=n.sent,!(l&&l.data)){n.next=7;break}return f=l.data.map(function(t){return(0,_.Z)((0,_.Z)({},t),{},{label:t.name,value:t.id})}),Se(f),n.abrupt("return",f);case 7:return n.abrupt("return",[]);case 8:case"end":return n.stop()}},d)}));return function(){return Z.apply(this,arguments)}}(),u=function(){var Z=(0,r.Z)((0,E.Z)().mark(function d(){var l,f;return(0,E.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.Z.get("/sms/business/bizQuestionAccredit/getCourseSubjectList/0/0");case 2:if(l=n.sent,console.log(l,"\u79D1\u76EE------>\u79D1\u76EE"),!(l&&l.data)){n.next=8;break}return f=l.data.map(function(t){return(0,_.Z)((0,_.Z)({},t),{},{label:t.subjectName,value:t.id})}),ae(f),n.abrupt("return",f);case 8:return n.abrupt("return",[]);case 9:case"end":return n.stop()}},d)}));return function(){return Z.apply(this,arguments)}}(),i=function(){var Z=(0,r.Z)((0,E.Z)().mark(function d(){var l,f;return(0,E.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.Z.get("/sms/business/bizQuestionAccredit/getSubjectTreeList/0");case 2:if(l=n.sent,!(l&&l.data)){n.next=7;break}return f=s.Z.addLabelToChildren(l.data),se(f),n.abrupt("return",f);case 7:return n.abrupt("return",[]);case 8:case"end":return n.stop()}},d)}));return function(){return Z.apply(this,arguments)}}(),p=function(){var Z=(0,r.Z)((0,E.Z)().mark(function d(){var l,f;return(0,E.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.Z.get("/sms/business/bizQuestionAccredit/getCourseList/0");case 2:if(l=n.sent,!(l&&l.data)){n.next=7;break}return f=l.data.map(function(t){return(0,_.Z)((0,_.Z)({},t),{},{label:t.title,value:t.id})}),ne(f),n.abrupt("return",f);case 7:return n.abrupt("return",[]);case 8:case"end":return n.stop()}},d)}));return function(){return Z.apply(this,arguments)}}(),F=function(){var d,l;S==null||(d=S.current)===null||d===void 0||d.reload(),S==null||(l=S.current)===null||l===void 0||l.clearSelected()},D=function(d){return d.provider!=d.userId?"highlight-row":""},g=`
    .force-refresh {
      animation: refresh 0.1s;
    }
    @keyframes refresh {
      0% { opacity: 0.99; }
      100% { opacity: 1; }
    }
  `;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("style",{children:g}),(0,v.jsx)(h.Z,{columns:ue,className:"student",actionRef:S,formRef:b,cardBordered:!0,scroll:{x:1500},search:{labelWidth:120,defaultCollapsed:!1},rowClassName:D,toolbar,request:{url:re},toolBarRender:[(0,v.jsx)(w.Z,{icon:(0,v.jsx)(V.Z,{}),type:"primary",onClick:function(){M(!0),le({typeEdit:"0"})},children:"\u65B0\u5EFA"},"add-question")]}),G&&(0,v.jsx)(o.Z,{setModalVisible:function(){return M(!1)},modalVisible:G,Course:X,Questionlist:H,Subjectlist:Ce,renderData:oe,callbackRef:function(){return F()}})]})}},60643:function(he,N,e){"use strict";var m=e(39428),w=e(34792),C=e(48086),R=e(3182),A=e(11849),T=e(2824),_=e(67294),E=e(37476),r=e(952),L=e(64317),y=e(19054),j=e(5966),V=e(8214),O=e(37490),s=e(63863),h=e(85893);N.Z=function(B){var o=B.renderData,v=B.Subjectlist,te=(0,_.useState)(""),q=(0,T.Z)(te,2),S=q[0],Q=q[1],k=(0,_.useState)(""),G=(0,T.Z)(k,2),M=G[0],J=G[1],be=(0,_.useState)([]),oe=(0,T.Z)(be,2),le=oe[0],Pe=oe[1],ge=(0,_.useState)([]),Ze=(0,T.Z)(ge,2),Se=Ze[0],Me=Ze[1],de=(0,_.useState)(""),Ce=(0,T.Z)(de,2),ae=Ce[0],Re=Ce[1],_e=(0,_.useState)([]),H=(0,T.Z)(_e,2),se=H[0],je=H[1];(0,_.useEffect)(function(){if(o.typeEdit=="1"&&o.type=="03")Q("03"),X(o.agentId),ne(o.agentId,o.productId),setTimeout(function(){var a;U==null||(a=U.current)===null||a===void 0||a.setFieldsValue((0,A.Z)((0,A.Z)({},o),{},{subjectId:O.Z.getNameBySubjectName(v,o.subjectId),project:O.Z.getCascaderValue("dict_reg_job",o.project)}))},100);else if(o.typeEdit=="1"&&o.type=="02"){Q("02"),J(o.agentId);var b=function(){var a=(0,R.Z)((0,m.Z)().mark(function u(){var i,p,F;return(0,m.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.prev=0,g.next=3,pe(o.agentId);case 3:p=g.sent,F=O.Z.findFullPath(p,o.productId),U==null||(i=U.current)===null||i===void 0||i.setFieldsValue((0,A.Z)((0,A.Z)({},o),{},{productId:{value:o.productId,label:F?F.join(" / "):o.productId},project:O.Z.getCascaderValue("dict_reg_job",o.project)})),je(p),g.next=12;break;case 9:g.prev=9,g.t0=g.catch(0),C.default.error("\u52A0\u8F7D\u9898\u5E93\u6570\u636E\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 12:case"end":return g.stop()}},u,null,[[0,9]])}));return function(){return a.apply(this,arguments)}}();b()}else o.typeEdit=="0"&&setTimeout(function(){var a;U==null||(a=U.current)===null||a===void 0||a.setFieldsValue({})},100)},[]),(0,_.useEffect)(function(){M&&S=="03"&&X(M),M&&S=="02"&&pe(M),M&&ae&&ne(M,ae)},[S,ae,M]);var ce=function(a,u){return u.some(function(i){return i.label.toLowerCase().indexOf(a.toLowerCase())>-1})},X=function(a){s.Z.get("/sms/business/bizQuestionAccredit/getCourseList/".concat(a)).then(function(u){var i=u.data.map(function(p){return{label:p.title,value:p.id}});Pe(i)})},ne=function(a,u){s.Z.get("/sms/business/bizQuestionAccredit/getCourseSubjectList/".concat(a,"/").concat(u)).then(function(i){var p=i.data.map(function(F){return{label:F.title,value:F.id}});Me(p)})},pe=function(){var b=(0,R.Z)((0,m.Z)().mark(function a(u){var i,p;return(0,m.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.prev=0,D.next=3,s.Z.get("/sms/business/bizQuestionAccredit/getSubjectTreeList/".concat(u));case 3:return i=D.sent,p=O.Z.addLabelToChildren(i.data),je(p),D.abrupt("return",p);case 9:return D.prev=9,D.t0=D.catch(0),D.abrupt("return",[]);case 12:case"end":return D.stop()}},a,null,[[0,9]])}));return function(u){return b.apply(this,arguments)}}(),fe=B.modalVisible,ee=B.setModalVisible,me=B.callbackRef,U=(0,_.useRef)(),ve=(0,_.useState)(!1),ue=(0,T.Z)(ve,2),Ee=ue[0],re=ue[1];return(0,h.jsxs)(E.Y,{title:o.typeEdit=="1"?"\u7F16\u8F91":"\u65B0\u589E",formRef:U,visible:fe,width:500,autoFocusFirstInput:!0,modalProps:{onCancel:function(){return ee()},destroyOnClose:!0},onFinish:function(){var b=(0,R.Z)((0,m.Z)().mark(function a(u){var i,p;return(0,m.Z)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(o.typeEdit=="1"&&o.id&&(u.id=o.id),u.type=="02"&&(i=u.productId.value),u.type=="03"&&(i=u.productId),p=(0,A.Z)((0,A.Z)({},u),{},{productId:i,project:u.project[1]}),!Ee){D.next=8;break}return D.abrupt("return");case 8:re(!0);case 9:C.default.loading("\u52A0\u8F7D\u4E2D",0),o!=null&&o.record?(console.log("\u6709record"),s.Z.postAll("/sms/business/bizOrder/questionAccredit/".concat(o.record),p).then(function(g){return re(!1),g.status=="success"?(C.default.destroy(),C.default.success("\u64CD\u4F5C\u6210\u529F"),ee(),me(),!0):(C.default.error(g.msg),!1)}).catch(function(g){return re(!1),C.default.error("\u64CD\u4F5C\u5931\u8D25"),!1})):s.Z.post("/sms/business/bizQuestionAccredit",p).then(function(g){return re(!1),g.status=="success"?(C.default.destroy(),C.default.success("\u64CD\u4F5C\u6210\u529F"),ee(),me(),!0):(C.default.error(g.msg),!1)}).catch(function(g){return re(!1),C.default.error(g),!1});case 11:case"end":return D.stop()}},a)}));return function(a){return b.apply(this,arguments)}}(),children:[(0,h.jsx)(r.ZP.Group,{children:(0,h.jsx)(L.Z,{label:"\u5C0F\u7A0B\u5E8F",name:"agentId",width:"md",request:(0,R.Z)((0,m.Z)().mark(function b(){var a;return(0,m.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,s.Z.get("/sms/business/bizQuestionAccredit/getAgentList");case 3:if(a=i.sent,localStorage.setItem("agentId",JSON.stringify(a.data)),!(a&&a.data)){i.next=7;break}return i.abrupt("return",a.data.map(function(p){return{label:p.name,value:p.id}}));case 7:return i.abrupt("return",[]);case 10:return i.prev=10,i.t0=i.catch(0),C.default.error("\u83B7\u53D6\u5C0F\u7A0B\u5E8F\u5217\u8868\u5931\u8D25:".concat(i.t0)),i.abrupt("return",[]);case 14:case"end":return i.stop()}},b,null,[[0,10]])})),fieldProps:{showSearch:!0,filterOption:function(a,u){return u.label.toLowerCase().indexOf(a.toLowerCase())>=0},onChange:function(a){J(a)}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5C0F\u7A0B\u5E8F"}]})}),(0,h.jsx)(r.ZP.Group,{children:(0,h.jsx)(L.Z,{label:"\u7C7B\u578B",name:"type",width:"md",options:[{label:"\u9898\u5E93",value:"02"},{label:"\u8BFE\u7A0B",value:"03"}],fieldProps:{onChange:Q},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u7C7B\u578B"}]})}),S=="02"&&(0,h.jsx)(r.ZP.Group,{children:(0,h.jsx)(y.Z,{label:"\u9898\u5E93",name:"productId",placeholder:"\u8BF7\u9009\u62E9\u9898\u5E93",allowClear:!0,width:330,secondary:!0,request:(0,R.Z)((0,m.Z)().mark(function b(){return(0,m.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(se.length===0&&M)){u.next=4;break}return u.next=3,pe(M);case 3:return u.abrupt("return",u.sent);case 4:return u.abrupt("return",se);case 5:case"end":return u.stop()}},b)})),fieldProps:{placeholder:"\u8BF7\u9009\u62E9\u9898\u5E93",labelInValue:!0,treeDefaultExpandAll:!1,showSearch:!0,treeNodeFilterProp:"label",onChange:function(a,u){if(a&&a.value){var i=O.Z.findNodePath(se,a.value);if(i&&i.length>0){var p,F=i.join("/");(p=U.current)===null||p===void 0||p.setFieldsValue({productId:{value:a.value,label:F}})}}}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9898\u5E93"}]})}),S=="03"?(0,h.jsx)(r.ZP.Group,{children:(0,h.jsx)(L.Z,{label:"\u8BFE\u7A0B",name:"productId",width:"md",options:le,fieldProps:{showSearch:!0,filterOption:function(a,u){return u.label.toLowerCase().indexOf(a.toLowerCase())>=0},placeholder:"\u8BF7\u9009\u62E9\u9898\u5E93/\u8BFE\u7A0B",loading:le.length===0&&!!M,onChange:function(a){Re(a),o.typeEdit=="1"&&o.type=="03"&&ne(o.agentId,a)}},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u9898\u5E93/\u8BFE\u7A0B"}]})}):null,S=="03"?(0,h.jsx)(r.ZP.Group,{children:(0,h.jsx)(L.Z,{label:"\u79D1\u76EE",name:"subjectId",width:"md",options:Se,fieldProps:{showSearch:!0,filterOption:function(a,u){return u.label.toLowerCase().indexOf(a.toLowerCase())>=0},placeholder:"\u79D1\u76EE"},rules:[{required:S==="03",message:"\u8BF7\u9009\u62E9\u79D1\u76EE"}]})}):null,(0,h.jsx)(r.ZP.Group,{children:(0,h.jsx)(j.Z,{label:"\u6388\u6743\u5929\u6570",name:"days",width:"md",rules:[{required:!0,message:"\u8BF7\u586B\u5199\u6388\u6743\u5929\u6570"}]})}),(0,h.jsx)(r.ZP.Group,{children:(0,h.jsx)(V.Z,{width:"md",name:"project",placeholder:"\u9009\u62E9\u62A5\u8003\u5C97\u4F4D",label:"\u62A5\u8003\u5C97\u4F4D",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u62A5\u8003\u5C97\u4F4D"}],fieldProps:{options:O.Z.getCascader("dict_reg_job"),showSearch:{filter:ce}}})})]})}},54493:function(he,N){"use strict";var e=function(w,C){return C.some(function(R){return R.label.toLowerCase().indexOf(w.toLowerCase())>-1})};N.Z=e}}]);
