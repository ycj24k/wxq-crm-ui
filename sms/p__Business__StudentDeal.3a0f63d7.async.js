(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9239],{67989:function(H,m,r){"use strict";r.r(m);var X=r(57663),C=r(71577),Y=r(71153),M=r(60331),u=r(11849),i=r(2824),O=r(7903),s=r(37490),f=r(40110),S=r(90631),v=r(54493),d=r(67294),Z=r(22),E=r(21010),b=r(79046),y=r(63863),t=r(85893);m.default=function(){var l=(0,d.useRef)(),A=(0,d.useState)(!1),j=(0,i.Z)(A,2),P=j[0],_=j[1],U=(0,d.useState)(null),x=(0,i.Z)(U,2),L=x[0],h=x[1],c=(0,d.useRef)(),B=(0,d.useState)({}),T=(0,i.Z)(B,2),q=T[0],p=T[1],N=(0,d.useState)([]),g=(0,i.Z)(N,2),ee=g[0],W=g[1],K=(0,d.useState)([]),I=(0,i.Z)(K,2),te=I[0],k=I[1],Q=(0,d.useState)(!1),D=(0,i.Z)(Q,2),F=D[0],R=D[1],V="/sms/business/bizStudentUser/studentDeal",w="/sms/business/bizStudentUser/export/studentDeal",$={createTime:"desc"},z={\u7EBF\u7D22\u5F55\u5165\u65F6\u95F4:"createTime",\u5B66\u5458\u59D3\u540D:"name",\u624B\u673A\u53F7:"mobile",\u5FAE\u4FE1:"weChat",QQ:"QQ",\u9879\u76EE\u603B\u79F0:"project",\u54A8\u8BE2\u5C97\u4F4D:"projects",\u54A8\u8BE2\u65F6\u95F4:"consultationTime",\u5BA2\u6237\u6765\u6E90:"studentSource",\u73B0\u6240\u5C5E\u8001\u5E08:"userName",\u5F55\u5165\u65F6\u6240\u5C5E\u8001\u5E08:"firstUserName",\u4FE1\u606F\u63D0\u4F9B\u4EBA:"providerName",\u6210\u4EA4\u65E5\u671F:"dealTime",\u6210\u4EA4\u9879\u76EE:"dealProject",\u6210\u4EA4\u5C97\u4F4D:"dealProjects",\u6210\u4EA4\u91D1\u989D:"dealAmount",\u6210\u4EA4\u8001\u5E08:"dealUserName"};(0,d.useEffect)(function(){var n;(n=c.current)===null||n===void 0||n.setFieldsValue(E.m8.location.query),p(E.m8.location.query)},[]);var J=function(){var a,e;l==null||(a=l.current)===null||a===void 0||a.reload(),l==null||(e=l.current)===null||e===void 0||e.clearSelected()},G=[{title:"\u624B\u673A\u53F7",dataIndex:"mobile",key:"mobile",hideInTable:!0},{title:"\u5FAE\u4FE1",dataIndex:"weChat",key:"weChat",hideInTable:!0},{width:110,title:"\u73B0\u6240\u5C5E\u8001\u5E08",dataIndex:"userName"},{title:"\u5F55\u5165\u65F6\u6240\u5C5E\u8001\u5E08",dataIndex:"firstUserName"},{title:"\u4FE1\u606F\u63D0\u4F9B\u4EBA",dataIndex:"providerName"},{title:"QQ",dataIndex:"QQ",key:"QQ",hideInTable:!0},{title:"\u7EBF\u7D22\u5F55\u5165\u65F6\u95F4",key:"createTime",dataIndex:"createTime",valueType:"dateRange",sorter:!0,render:function(a,e){return(0,t.jsx)("span",{children:e.createTime},"createTime-".concat(e.id))}},{title:"\u5B66\u5458\u59D3\u540D",dataIndex:"name",align:"center",key:"name",render:function(a,e){return(0,t.jsx)("div",{children:(0,t.jsxs)("a",{onClick:function(){h((0,u.Z)((0,u.Z)({},e),{},{admin:!1})),_(!0)},children:[e.name,(0,t.jsx)(f.Z,{})]})})}},{title:"\u9879\u76EE\u603B\u79F0",dataIndex:"parentProjects",key:"parentProjects",valueType:"select",fieldProps:{options:s.Z.getList("dict_reg_job"),mode:"tags"},width:110,render:function(a,e){return(0,t.jsx)("span",{children:s.Z.getCascaderAllName("dict_reg_job",e.project)},"parentProjects")}},{title:"\u54A8\u8BE2\u5C97\u4F4D",width:180,dataIndex:"project-in",key:"project-in",valueType:"select",fieldProps:{options:s.Z.getCascader("dict_reg_job"),showSearch:{filter:v.Z},mode:"tags"},render:function(a,e){return(0,t.jsx)("span",{children:s.Z.getCascaderName("dict_reg_job",e.project)})}},{title:"\u54A8\u8BE2\u65F6\u95F4",key:"consultationTime",dataIndex:"consultationTime",valueType:"dateRange",sorter:!0,render:function(a,e){return(0,t.jsx)("span",{children:e.consultationTime})}},{width:100,title:"\u5BA2\u6237\u6765\u6E90",dataIndex:"studentSource",valueType:"select",key:"studentSource",filters:!0,filterMultiple:!1,valueEnum:s.Z.getSearch("dict_source"),render:function(a,e){return(0,t.jsx)("span",{children:s.Z.getName("dict_source",e.studentSource)})}},{title:"\u6210\u4EA4\u65E5\u671F",key:"dealTime",dataIndex:"dealTime",valueType:"dateRange",sorter:!0,hideInTable:!0,render:function(a,e){return(0,t.jsx)("span",{children:e.dealTime?e.dealTime:(0,t.jsx)(M.Z,{color:"error",children:"\u672A\u6210\u4EA4"})})}},{title:"\u6210\u4EA4\u72B6\u6001",dataIndex:"isDeal",width:80,valueType:"select",key:"isDeal",valueEnum:{false:"\u672A\u6210\u4EA4",true:"\u5DF2\u6210\u4EA4"},render:function(a,e){return e.isDeal?(0,t.jsx)("div",{children:(0,t.jsxs)("a",{onClick:function(){h((0,u.Z)((0,u.Z)({},e),{},{admin:!1,key:"2"})),_(!0)},children:[a,(0,t.jsx)(f.Z,{})]})}):(0,t.jsx)("div",{children:a})}},{width:100,title:"\u6210\u4EA4\u9879\u76EE",dataIndex:"dealParentProjects",key:"dealParentProjects",valueType:"select",fieldProps:{options:s.Z.getList("dict_reg_job"),mode:"tags"},render:function(a,e){return(0,t.jsx)("span",{children:e.dealProject?s.Z.getCascaderAllName("dict_reg_job",e.dealProject):"-"},"dealParentProjects")}},{width:100,title:"\u6210\u4EA4\u5C97\u4F4D",dataIndex:"dealProject-in",key:"dealProject-in",valueType:"select",fieldProps:{options:s.Z.getCascader("dict_reg_job"),showSearch:{filter:v.Z},mode:"tags"},render:function(a,e){return(0,t.jsx)("span",{children:e.dealProject?s.Z.getCascaderName("dict_reg_job",e.dealProject):"-"})}},{title:"\u6210\u4EA4\u91D1\u989D",dataIndex:"dealAmount"},{title:"\u6210\u4EA4\u8001\u5E08",dataIndex:"dealUserName"}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.Z,{columns:G,className:"student",actionRef:l,formRef:c,cardBordered:!0,scroll:{x:1500},search:{labelWidth:120,defaultCollapsed:!0,defaultColsNumber:10},rowClassName:"",onReset:function(){p({})},toolbar,request:{url:V,sortList:$},rowSelection:{onChange:function(a,e){W(a),k(e)}},toolBarRender:[(0,t.jsx)(C.Z,{type:"primary",icon:(0,t.jsx)(S.Z,{}),loading:F,onClick:function(){var a;R(!0);var e=(a=c.current)===null||a===void 0?void 0:a.getFieldsValue();Object.keys(e).forEach(function(o){e[o]||delete e[o]}),e=JSON.parse(JSON.stringify(e)),e._isGetAll=!0,y.Z.get(w,(0,u.Z)({},e)).then(function(o){(0,b.Z)(o.data.content,z,"\u63D0\u4F9B\u4EBA\u5B66\u5458"),R(!1)})},children:"\u6839\u636E\u641C\u7D22\u6761\u4EF6\u5BFC\u51FA\u6240\u6709\u5B66\u5458"})]}),P&&(0,t.jsx)(O.Z,{setModalVisible:function(){return _(!1)},modalVisible:P,renderData:L,admin:!1,callbackRef:function(){return J()}})]})}}}]);
