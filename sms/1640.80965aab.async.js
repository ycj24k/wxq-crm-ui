(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[1640],{21874:function(Ee,z,s){"use strict";var ve=s(13062),t=s(71230),b=s(11849),m=s(39428),_=s(3182),E=s(2824),H=s(952),Q=s(5966),e=s(19054),F=s(63434),o=s(67294),D=s(85893),r=null;z.Z=(0,o.forwardRef)(function(l,T){var U=l.userLabel,w=l.userNames,N=l.userPlaceholder,A=l.setUserNameId,S=l.width,g=S===void 0?"md":S,L=l.setDepartId,y=L===void 0?function(){}:L,R=l.setFalgUser,C=R===void 0?function(){}:R,j=l.flag,I=j===void 0?!1:j,i=l.enable,h=i===void 0?!0:i,f=l.filter,c=f===void 0?function(n){return n}:f,Z=l.userName,K=l.formRefs,p=l.userNameChange,W=p===void 0?!1:p,v=l.newMedia,M=v===void 0?!1:v,ae=l.recruit,x=ae===void 0?!0:ae,ue=l.disabled,De=ue===void 0?!1:ue,be=(0,o.useState)(JSON.parse(localStorage.getItem("Department"))),se=(0,E.Z)(be,2),le=se[0],Oe=se[1],Ie=(0,o.useState)(""),ne=(0,E.Z)(Ie,2),Ze=ne[0],X=ne[1],ge=(0,o.useState)(void 0),ie=(0,E.Z)(ge,2),de=ie[0],k=ie[1],Ce=(0,o.useState)(!1),_e=(0,E.Z)(Ce,2),P=_e[0],je=_e[1],Me=(0,o.useState)(""),oe=(0,E.Z)(Me,2),Pe=oe[0],ce=oe[1],Be=(0,o.useState)(""),me=(0,E.Z)(Be,2),Fe=me[0],he=me[1];(0,o.useEffect)(function(){},[]),(0,o.useImperativeHandle)(T,function(){return{setDepartment:function(){var n=(0,_.Z)((0,m.Z)().mark(function a(B){return(0,m.Z)().wrap(function($){for(;;)switch($.prev=$.next){case 0:B.id=="-1",k(B.name),X(B.departmentId);case 3:case"end":return $.stop()}},a)}));function u(a){return n.apply(this,arguments)}return u}()}});var fe=function(){var n=(0,_.Z)((0,m.Z)().mark(function u(){var a,B,V;return(0,m.Z)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return a=function q(ee){var O=[];return ee.forEach(function(d,pe){var re=[];d.children&&(re=q(d.children));var J="",te=!1,G={};d.departmentName?(J=d.departmentName,G.id=d.id,te=!0):(d.enable||!h)&&(J=d.name,G.userId=d.userId,te=!0),te&&(re.length>0?O.push((0,b.Z)((0,b.Z)({},G),{},{title:J,parentId:d.parentId,children:re})):O.push((0,b.Z)((0,b.Z)({},G),{},{title:J,parentId:d.parentId})))}),O},B=function q(ee,O){ee.forEach(function(d,pe){d.value=O+"-"+pe,d.children&&q(d.children,d.value)})},V=a(le),B(V,0),Y.abrupt("return",V.reverse());case 5:case"end":return Y.stop()}},u)}));return function(){return n.apply(this,arguments)}}(),Ae=function(u){if(console.log(u),!u.userId){ce("error"),C(!0);return}C(!1),ce(""),A({name:u.title,id:u.userId,departmentId:u.parentId}),k(u.value),!!x&&(X(u.value.slice(0,u.value.length-2)),y(u.parentId))},Se=function(u){if(!u.id){he("error"),C(!0);return}C(!1),X(u.value),y(u.id),!!x&&(he(""),k(""))},xe=function(u){A({name:u,id:-1})};return(0,D.jsx)(t.Z,{children:le.length>0&&(0,D.jsxs)(H.ZP.Group,{children:[(0,D.jsx)(Q.Z,{name:w,label:U,placeholder:N,width:g,hidden:!P,fieldProps:{onChange:function(u){xe(u.target.value)},defaultValue:de,disabled:De},rules:[{required:P}]}),(0,D.jsx)(e.Z,{name:w,label:U,placeholder:N,allowClear:!0,width:g,secondary:!0,hidden:P,request:(0,_.Z)((0,m.Z)().mark(function n(){return(0,m.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=c,a.next=3,fe();case 3:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 5:case"end":return a.stop()}},n)})),required:!0,fieldProps:{disabled:!1,status:Pe,onSelect:function(u,a){Ae(a)},value:[de],treeDefaultExpandAll:!0,filterTreeNode:!0,showSearch:!0,dropdownMatchSelectWidth:!1,labelInValue:!0,treeNodeFilterProp:"title",fieldNames:{label:"title"}}}),(0,D.jsx)(e.Z,{name:"departmentId",hidden:I,label:"\u90E8\u95E8",placeholder:"\u8BF7\u9009\u62E9\u90E8\u95E8",allowClear:!0,width:g,secondary:!0,request:(0,_.Z)((0,m.Z)().mark(function n(){return(0,m.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=c,a.next=3,fe();case 3:return a.t1=a.sent,a.abrupt("return",(0,a.t0)(a.t1));case 5:case"end":return a.stop()}},n)})),rules:[{required:P||!x}],fieldProps:{disabled:!P&&x,status:Fe,onSelect:function(u,a){Se(a)},value:[Ze],treeDefaultExpandAll:!0,filterTreeNode:!0,showSearch:!0,dropdownMatchSelectWidth:!1,labelInValue:!0,treeNodeFilterProp:"title",fieldNames:{label:"title"}}}),(0,D.jsx)(F.Z,{hidden:I||!x,label:"\u662F\u5426\u662F\u79BB\u804C\u8001\u5E08\uFF08\u4E0D\u5728\u7CFB\u7EDF\u91CC\u7684\u8001\u5E08\uFF09",fieldProps:{onChange:function(u){je(u.target.checked)},defaultChecked:P}})]})})})},92786:function(Ee,z,s){"use strict";var ve=s(98858),t=s(4914),b=s(2824),m=s(71975),_=s(37490),E=s(67294),H=s(61261),Q=s(28975),e=s(85893);z.Z=function(F){var o=F.modalVisible,D=F.setModalVisible,r=F.renderData,l=(0,E.useState)(),T=(0,b.Z)(l,2),U=T[0],w=T[1],N=(0,E.useState)(!1),A=(0,b.Z)(N,2),S=A[0],g=A[1],L={0:"probation",1:"formal",2:"partTimeJob",3:"resignation"},y=(0,e.jsxs)("div",{children:["\u7528\u6237:",r.level!=null?_.Z.getName("ProfessionalTitle",r.level):"\u4E13\u5458"," - ",r.name," ",(0,e.jsxs)("span",{className:"statusTitle ".concat(L[r.status]),children:[_.Z.getName("onJobStatus",r.status),"\u5458\u5DE5"]})]}),R=function(i){var h=i.substring(6,10),f=i.substring(10,12),c=i.substring(12,14),Z=new Date,K=Z.getFullYear(),p=Z.getMonth()+1,W=Z.getDate(),v=K-parseInt(h);return(p<parseInt(f)||p==parseInt(f)&&W<parseInt(c))&&v--,v},C=function(i){var h=new Date,f=i.getFullYear(),c=i.getMonth()+1,Z=i.getDate(),K=h.getFullYear(),p=h.getMonth()+1,W=h.getDate(),v=K-f,M=p-c;return(p<c||p==c&&W<Z)&&(v--,M=12-(c-p)),M<0&&(v--,M=12+M),v+"\u5E74"+M+"\u6708"},j=function(i){var h=(0,e.jsx)("span",{});return i&&(h=i.split(",").map(function(f,c){return(0,e.jsx)("div",{className:"notice-files",children:(0,e.jsx)("a",{onClick:function(){(0,H.Z)(r.id,f,"/sms/system/sysUser/download",w,g)},children:f})},c)})),h};return(0,e.jsxs)(m.a,{visible:o,width:1400,drawerProps:{destroyOnClose:!0,onClose:function(){D()}},children:[(0,e.jsxs)(t.Z,{title:y,bordered:!0,size:"middle",column:6,children:[(0,e.jsx)(t.Z.Item,{label:"\u8D26\u53F7",span:2,children:r.userName}),(0,e.jsx)(t.Z.Item,{label:"\u6027\u522B",children:r.sex?"\u5973":"\u7537"}),(0,e.jsx)(t.Z.Item,{label:"\u6C11\u65CF",children:_.Z.getName("dict_nation",r.ethnic)}),(0,e.jsx)(t.Z.Item,{label:"\u5E74\u9F84",children:R(r.idCard)}),(0,e.jsx)(t.Z.Item,{label:"\u5DE5\u9F84",children:C(new Date(r.entryTime))}),(0,e.jsx)(t.Z.Item,{label:"\u5DF2\u5A5A\u672A\u5A5A",children:r.marriageInfo}),(0,e.jsx)(t.Z.Item,{label:"\u653F\u6CBB\u9762\u8C8C",children:_.Z.getName("PoliticalLandscape",r.formalAppearance)}),(0,e.jsx)(t.Z.Item,{label:"\u7C4D\u8D2F",span:2,children:r.nativePlace}),(0,e.jsx)(t.Z.Item,{label:"\u751F\u65E5\u65E5\u671F",span:2,children:r.birthday&&r.birthday}),(0,e.jsx)(t.Z.Item,{label:"\u5DE5\u4F5C\u7535\u8BDD",span:2,children:r.mobile}),(0,e.jsx)(t.Z.Item,{label:"\u79C1\u4EBA\u7535\u8BDD",span:2,children:r.privateMobile}),(0,e.jsx)(t.Z.Item,{label:"\u90AE\u7BB1",span:2,children:r.email}),(0,e.jsx)(t.Z.Item,{label:"\u5FAE\u4FE1",span:2,children:r.weChat}),(0,e.jsx)(t.Z.Item,{label:"\u8EAB\u4EFD\u8BC1",span:4,children:r.idCard}),(0,e.jsx)(t.Z.Item,{label:"\u5165\u804C\u65F6\u95F4",span:2,children:r.entryTime}),(0,e.jsx)(t.Z.Item,{label:"\u8F6C\u6B63\u65F6\u95F4",span:2,children:r.formalTime}),(0,e.jsx)(t.Z.Item,{label:"\u79BB\u804C\u65F6\u95F4",span:2,children:r.turnoverTime}),(0,e.jsx)(t.Z.Item,{label:"\u529E\u516C\u5730\u70B9",span:2,children:_.Z.getName("officeLocation",r.officeAddress)}),(0,e.jsx)(t.Z.Item,{label:"\u7BA1\u7406\u5C97",span:2,children:r.isMiddle?"\u662F":"\u5426"}),(0,e.jsx)(t.Z.Item,{label:"\u63A8\u8350\u4EBA",span:2,children:_.Z.getDepartmentUserName(r.presenter)}),(0,e.jsx)(t.Z.Item,{label:"\u90E8\u95E8",span:3,children:r.topDepartmentName.slice(0,r.topDepartmentName.length-1).join("-")}),(0,e.jsx)(t.Z.Item,{label:"\u6700\u540E\u767B\u5F55\u65F6\u95F4",span:2,children:r.lastLoginTime}),(0,e.jsx)(t.Z.Item,{label:"\u72B6\u6001",contentStyle:{color:r.enable?"rgb(0,172,132)":"red"},children:r.enable?"\u4F7F\u7528\u4E2D":"\u7981\u7528"}),(0,e.jsx)(t.Z.Item,{label:"\u6BD5\u4E1A\u9662\u6821",span:2,children:r.graduationSchool}),(0,e.jsx)(t.Z.Item,{label:"\u4E13\u4E1A",span:2,children:r.profession}),(0,e.jsx)(t.Z.Item,{label:"\u5B66\u5386",span:2,children:_.Z.getName("dict_education",r.degree)}),(0,e.jsx)(t.Z.Item,{label:"\u6BD5\u4E1A\u65F6\u95F4",span:6,children:r.graduationTime}),(0,e.jsx)(t.Z.Item,{label:"\u73B0\u4F4F\u5730\u5740",span:6,children:r.residentialAddress}),(0,e.jsx)(t.Z.Item,{label:"\u8EAB\u4EFD\u8BC1\u5730\u5740",span:6,children:r.idCardAddress}),(0,e.jsx)(t.Z.Item,{label:"\u6237\u7C4D\u6240\u5728\u5730",span:6,children:r.householdRegistrationAddress}),(0,e.jsx)(t.Z.Item,{label:"\u5BB6\u5C5E\u8054\u7CFB\u65B9\u5F0F",span:6,children:r.familyInfo}),(0,e.jsx)(t.Z.Item,{label:"\u63CF\u8FF0",span:6,children:r.description}),(0,e.jsx)(t.Z.Item,{label:"\u8EAB\u4EFD\u8BC1\u7167\u7247",span:6,children:j(r.idCardPhoto)}),(0,e.jsx)(t.Z.Item,{label:"\u6BD5\u4E1A\u8BC1\u7167\u7247",span:6,children:j(r.graduationPhoto)}),(0,e.jsx)(t.Z.Item,{label:"\u6280\u80FD\u7B49\u7EA7\u8BC1\u4E66",span:6,children:j(r.gradePhoto)})]}),S&&(0,e.jsx)(Q.Z,{imgSrc:U,isModalVisibles:S,setisModalVisibles:function(i){return g(i)}})]})}}}]);
