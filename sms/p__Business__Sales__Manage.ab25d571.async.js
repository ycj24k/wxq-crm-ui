(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3689],{39136:function(g,B,e){"use strict";e.r(B);var b=e(71194),I=e(50146),$=e(47673),o=e(4107),j=e(11849),S=e(57663),R=e(71577),V=e(62350),A=e(24565),u=e(39428),G=e(34792),D=e(48086),P=e(3182),z=e(9715),l=e(55843),O=e(2824),M=e(67294),T=e(71906),F=e(66801),E=e(63863),s=e(85893);B.default=function(){var f=(0,M.useRef)(),K=(0,M.useState)(!1),p=(0,O.Z)(K,2),W=p[0],m=p[1],L=(0,M.useState)(null),C=(0,O.Z)(L,2),h=C[0],Z=C[1],U=l.Z.useForm(),x=(0,O.Z)(U,1),c=x[0],y=[{title:"\u59D3\u540D",dataIndex:"name"},{title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"phone"},{title:"\u6240\u5C5E\u56E2\u961F",dataIndex:"team"},{title:"\u9500\u552E\u7B49\u7EA7",dataIndex:"level"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",valueType:"dateTime"},{title:"\u64CD\u4F5C",valueType:"option",render:function(a,t){return[(0,s.jsx)("a",{onClick:function(){Z(t),c.setFieldsValue(t),m(!0)},children:"\u7F16\u8F91"},"edit"),(0,s.jsx)(A.Z,{title:"\u786E\u8BA4\u5220\u9664\u8BE5\u9500\u552E\uFF1F",onConfirm:(0,P.Z)((0,u.Z)().mark(function n(){var _;return(0,u.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,E.Z.delete("/sms/sales",{id:t.id});case 2:D.default.success("\u5220\u9664\u6210\u529F"),(_=f.current)===null||_===void 0||_.reload();case 4:case"end":return i.stop()}},n)})),children:(0,s.jsx)("a",{children:"\u5220\u9664"})},"del")]}}];return(0,s.jsxs)(T.ZP,{children:[(0,s.jsx)(F.ZP,{rowKey:"id",columns:y,actionRef:f,search:{labelWidth:"auto"},toolBarRender:function(){return[(0,s.jsx)(R.Z,{type:"primary",onClick:function(){Z(null),c.resetFields(),m(!0)},children:"\u65B0\u589E"},"new")]},request:function(){var r=(0,P.Z)((0,u.Z)().mark(function a(t){var n,_,v;return(0,u.Z)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,E.Z.get("/sms/sales",t);case 2:return v=d.sent,d.abrupt("return",{data:((n=v.data)===null||n===void 0?void 0:n.content)||[],success:!0,total:((_=v.data)===null||_===void 0?void 0:_.totalElements)||0});case 4:case"end":return d.stop()}},a)}));return function(a){return r.apply(this,arguments)}}()}),(0,s.jsx)(I.Z,{title:h?"\u7F16\u8F91\u9500\u552E":"\u65B0\u589E\u9500\u552E",open:W,destroyOnClose:!0,onCancel:function(){return m(!1)},onOk:(0,P.Z)((0,u.Z)().mark(function r(){var a,t;return(0,u.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,c.validateFields();case 2:if(t=_.sent,!h){_.next=9;break}return _.next=6,E.Z.post("/sms/sales/update",(0,j.Z)({id:h.id},t));case 6:D.default.success("\u66F4\u65B0\u6210\u529F"),_.next=12;break;case 9:return _.next=11,E.Z.post("/sms/sales",t);case 11:D.default.success("\u65B0\u589E\u6210\u529F");case 12:m(!1),(a=f.current)===null||a===void 0||a.reload();case 14:case"end":return _.stop()}},r)})),children:(0,s.jsxs)(l.Z,{form:c,layout:"vertical",children:[(0,s.jsx)(l.Z.Item,{label:"\u59D3\u540D",name:"name",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D"}],children:(0,s.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(l.Z.Item,{label:"\u8054\u7CFB\u7535\u8BDD",name:"phone",children:(0,s.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(l.Z.Item,{label:"\u6240\u5C5E\u56E2\u961F",name:"team",children:(0,s.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165"})}),(0,s.jsx)(l.Z.Item,{label:"\u7B49\u7EA7\u7F16\u7801/\u540D\u79F0",name:"level",children:(0,s.jsx)(o.Z,{placeholder:"\u5982\uFF1AA\u3001B\u3001VIP \u7B49"})})]})})]})}}}]);
