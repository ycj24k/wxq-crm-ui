(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4160],{22:function(Se,L,d){"use strict";var S=d(39428),i=d(11849),v=d(3182),A=d(2824),R=d(66801),h=d(63863),C=d(67294),E=d(85893);L.Z=function(n){var ne=n.columns,Z=n.actionRef,se=n.formRef,U=n.cardBordered,y=U===void 0?!0:U,z=n.scroll,Q=z===void 0?!1:z,T=n.request,ue=n.beforeSearchSubmit,q=n.toolbar,F=q===void 0?void 0:q,ie=n.pagesizes,le=ie===void 0?10:ie,G=n.rowKey,H=G===void 0?"id":G,I=n.toolBarRender,de=I===void 0?[]:I,J=n.dateFormatter,V=J===void 0?"string":J,D=n.rowSelection,oe=D===void 0?!1:D,X=n.expandable,Y=X===void 0?void 0:X,P=n.tableAlertOptionRender,_e=P===void 0?void 0:P,ce=n.onRow,N=n.params,x=N===void 0?"":N,K=n.dataSource,fe=K===void 0?void 0:K,ee=n.tableStyle,pe=ee===void 0?void 0:ee,re=n.footer,k=re===void 0?void 0:re,$=n.onReset,me=$===void 0?void 0:$,te=n.onSubmit,be=te===void 0?void 0:te,_=n.onFn,s=_===void 0?void 0:_,t=n.getTotalElements,u=t===void 0?void 0:t,g=n.getData,r=g===void 0?void 0:g,e=n.loding,ve=e===void 0?void 0:e,m=n.search,b=m===void 0?void 0:m,c=n.searchData,o=c===void 0?{}:c,j=n.headerTitle,p=n.editable,Ze=p===void 0?void 0:p,a=n.className,je=a===void 0?"tables":a,ye=n.rowClassName,Oe=ye===void 0?void 0:ye,we=!1;T&&(we=T.sortList);var O={_orderBy:"",_direction:""},Ce=(0,C.useState)(le),Re=(0,A.Z)(Ce,2),Te=Re[0],Ie=Re[1],De=(0,C.useState)({}),Pe=(0,A.Z)(De,2),$e=Pe[0],Le=Pe[1];return(0,E.jsx)(R.ZP,{columns:ne,className:je,actionRef:Z,formRef:se,cardBordered:y,scroll:Q,headerTitle:j,tableStyle:pe,dataSource:fe,rowClassName:Oe,request:function(){var he=(0,v.Z)((0,S.Z)().mark(function ge(w,ae,Ae){var W,f,B;return(0,S.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return Object.keys(w).forEach(function(l){(w[l]=="null"||w[l]==null)&&(w["".concat(l,"-isNull")]=!0,delete w[l])}),Object.keys(ae).length>0?Object.keys(ae).forEach(function(l){var Ee;O._orderBy=l,((Ee=ae[l])===null||Ee===void 0?void 0:Ee.indexOf("desc"))==0?O._direction="desc":O._direction="asc"}):we?Object.keys(T.sortList).forEach(function(l){O._orderBy=l,O._direction=T.sortList[l]}):O={_orderBy:"",_direction:""},W=w,Object.keys(W).forEach(function(l){W[l]===""&&delete W[l]}),f=(0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},Ae),T.params),W),o),Object.keys(f).forEach(function(l){(f[l]==""||f[l]==[""]||f[l]=="-isNull")&&f[l]!==0&&f[l]!==!1&&(f["".concat(l)+"-isNull"]=!0,delete f[l]),f[l]===null&&delete f[l],f[l]=="All"&&delete f[l]}),O._orderBy!==""&&Object.assign(f,O),Le(f),M.next=10,h.Z.get(T.url,(0,i.Z)({},f));case 10:return B=M.sent,s&&s(B.data.content),r&&r(f),ve&&ve(!1),u&&u(B.data.totalElements),M.abrupt("return",{data:B.data.content,success:B.success,total:B.data.totalElements});case 16:case"end":return M.stop()}},ge)}));return function(ge,w,ae){return he.apply(this,arguments)}}(),rowKey:H,pagination:{pageSize:Te,showSizeChanger:!0,onChange:function(ge,w){Ie(w)}},toolBarRender:function(){return de},rowSelection:oe,params:x,expandable:Y,dateFormatter:V,tableAlertOptionRender:_e,toolbar:F,onRow:ce,beforeSearchSubmit:ue,onReset:me,onSubmit:be,search:b,editable:Ze,footer:k,columnsState:{persistenceKey:je,persistenceType:"localStorage"}})}},19868:function(Se,L,d){"use strict";d.r(L);var S=d(11849),i=d(39428),v=d(3182),A=d(86582),R=d(2824),h=d(67294),C=d(63863),E=d(37490),n=d(22),ne=d(54493),Z=d(85893);L.default=function(se){var U=se.type,y=(0,h.useRef)(),z=(0,h.useState)([]),Q=(0,R.Z)(z,2),T=Q[0],ue=Q[1],q=(0,h.useState)([]),F=(0,R.Z)(q,2),ie=F[0],le=F[1],G=(0,h.useState)([]),H=(0,R.Z)(G,2),I=H[0],de=H[1],J=(0,h.useState)([]),V=(0,R.Z)(J,2),D=V[0],oe=V[1],X=(0,h.useState)("01"),Y=(0,R.Z)(X,2),P=Y[0],_e=Y[1],ce=(0,h.useState)([]),N=(0,R.Z)(ce,2),x=N[0],K=N[1],fe="/sms/business/bizQuestionAccreditLog",ee=(0,h.useRef)();(0,h.useEffect)(function(){me()},[U]),(0,h.useEffect)(function(){K([].concat((0,A.Z)(x.filter(function(_){return _.dataIndex!="productId"})),[{title:"\u9898\u5E93/\u8BFE\u7A0B",dataIndex:"productId",key:"productId",align:"center",valueType:"cascader",fieldProps:{showSearch:!0,filterTreeNode:function(s,t){var u;return((u=t.label)===null||u===void 0?void 0:u.toLowerCase().indexOf(s.toLowerCase()))>=0}},request:function(){var _=(0,v.Z)((0,i.Z)().mark(function t(){var u,g;return(0,i.Z)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,P!=="01"){e.next=16;break}if(e.prev=2,!(I&&I.length>0)){e.next=7;break}return e.abrupt("return",I);case 7:return e.next=9,k();case 9:return u=e.sent,e.abrupt("return",u||[]);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",[]);case 16:if(P!=="02"){e.next=31;break}if(e.prev=17,!(D&&D.length>0)){e.next=22;break}return e.abrupt("return",D);case 22:return e.next=24,$();case 24:return g=e.sent,e.abrupt("return",g||[]);case 26:e.next=31;break;case 28:return e.prev=28,e.t1=e.catch(17),e.abrupt("return",[]);case 31:return e.abrupt("return",[]);case 34:return e.prev=34,e.t2=e.catch(0),e.abrupt("return",[]);case 37:case"end":return e.stop()}},t,null,[[0,34],[2,13],[17,28]])}));function s(){return _.apply(this,arguments)}return s}(),dependencies:["type"],render:function(s,t){return t.type=="02"?E.Z.getNameById(D,t.productId):t.type=="01"?E.Z.findAncestorsName(t.productId,I):"\u65E0"}}]))},[P]),(0,h.useEffect)(function(){(function(){var _=(0,v.Z)((0,i.Z)().mark(function t(){var u,g,r,e;return(0,i.Z)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,pe();case 2:return u=m.sent,m.next=5,re();case 5:return g=m.sent,m.next=8,k();case 8:return r=m.sent,m.next=11,$();case 11:e=m.sent,K([{title:"\u5C0F\u7A0B\u5E8F\u540D\u79F0",dataIndex:"agentId",align:"center",key:"agentId",valueType:"select",request:function(){var b=(0,v.Z)((0,i.Z)().mark(function o(){return(0,i.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",u);case 1:case"end":return p.stop()}},o)}));function c(){return b.apply(this,arguments)}return c}()},{title:"\u6388\u6743\u5929\u6570",dataIndex:"days",key:"days",render:function(c,o){return(0,Z.jsx)("span",{children:""+o.days+"\u5929"})}},{title:"\u7C7B\u578B",dataIndex:"type",key:"type",valueType:"select",valueEnum:{"02":"\u9898\u5E93","03":"\u8BFE\u7A0B"},fieldProps:{onChange:function(c){_e(c)}}},{title:"\u9898\u5E93/\u8BFE\u7A0B",dataIndex:"productId",key:"productId",align:"center",valueType:"cascader",fieldProps:{showSearch:!0,filterTreeNode:function(c,o){var j;return((j=o.label)===null||j===void 0?void 0:j.toLowerCase().indexOf(c.toLowerCase()))>=0}},request:function(){var b=(0,v.Z)((0,i.Z)().mark(function o(){var j,p;return(0,i.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,P!=="01"){a.next=16;break}if(a.prev=2,!(r&&r.length>0)){a.next=7;break}return a.abrupt("return",r);case 7:return a.next=9,k();case 9:return j=a.sent,a.abrupt("return",j||[]);case 11:a.next=16;break;case 13:return a.prev=13,a.t0=a.catch(2),a.abrupt("return",[]);case 16:if(P!=="02"){a.next=31;break}if(a.prev=17,!(e&&e.length>0)){a.next=22;break}return a.abrupt("return",e);case 22:return a.next=24,$();case 24:return p=a.sent,a.abrupt("return",p||[]);case 26:a.next=31;break;case 28:return a.prev=28,a.t1=a.catch(17),a.abrupt("return",[]);case 31:return a.abrupt("return",[]);case 34:return a.prev=34,a.t2=a.catch(0),a.abrupt("return",[]);case 37:case"end":return a.stop()}},o,null,[[0,34],[2,13],[17,28]])}));function c(){return b.apply(this,arguments)}return c}(),dependencies:["type"],render:function(c,o){return o.type=="02"?E.Z.getNameById(e,o.productId):o.type=="01"?E.Z.findAncestorsName(o.productId,r):"\u65E0"}},{title:"\u79D1\u76EE",dataIndex:"subjectId",key:"subjectId",sorter:!0,valueType:"select",request:function(){var b=(0,v.Z)((0,i.Z)().mark(function o(){return(0,i.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",g);case 1:case"end":return p.stop()}},o)}));function c(){return b.apply(this,arguments)}return c}()},{title:"\u9879\u76EE\u603B\u79F0",dataIndex:"parentProjects",key:"parentProjects",sorter:!0,valueType:"select",fieldProps:{options:E.Z.getList("dict_reg_job"),mode:"tags"},width:180,render:function(c,o){return(0,Z.jsx)("span",{children:E.Z.getCascaderAllName("dict_reg_job",o.project)},"parentProjects")}},{title:"\u54A8\u8BE2\u5C97\u4F4D",dataIndex:"project-in",sorter:!0,key:"project-in",valueType:"select",fieldProps:{options:E.Z.getCascader("dict_reg_job"),showSearch:{filter:ne.Z},mode:"tags"},render:function(c,o){return(0,Z.jsx)("span",{children:E.Z.getCascaderName("dict_reg_job",o.project)})}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createTime",dataIndex:"createTime",valueType:"dateRange",sorter:!0,render:function(c,o){return(0,Z.jsx)("span",{children:o.createTime})}},{title:"\u8054\u7CFB\u7535\u8BDD",key:"mobile",dataIndex:"mobile",sorter:!0},{title:"\u8BA2\u5355\u7F16\u53F7",key:"orderNum",dataIndex:"orderNum",sorter:!0}]);case 13:case"end":return m.stop()}},t)}));function s(){return _.apply(this,arguments)}return s})()()},[]);var pe=function(){var _=(0,v.Z)((0,i.Z)().mark(function s(){var t,u;return(0,i.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C.Z.get("/sms/business/bizQuestionAccredit/getAgentList");case 2:if(t=r.sent,!(t&&t.data)){r.next=7;break}return u=t.data.map(function(e){return(0,S.Z)((0,S.Z)({},e),{},{label:e.name,value:e.id})}),ue(u),r.abrupt("return",u);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),re=function(){var _=(0,v.Z)((0,i.Z)().mark(function s(){var t,u;return(0,i.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C.Z.get("/sms/business/bizQuestionAccredit/getCourseSubjectList/0/0");case 2:if(t=r.sent,!(t&&t.data)){r.next=7;break}return u=t.data.map(function(e){return(0,S.Z)((0,S.Z)({},e),{},{label:e.subjectName,value:e.id})}),le(u),r.abrupt("return",u);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),k=function(){var _=(0,v.Z)((0,i.Z)().mark(function s(){var t,u;return(0,i.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C.Z.get("/sms/business/bizQuestionAccredit/getSubjectTreeList/0");case 2:if(t=r.sent,!(t&&t.data)){r.next=7;break}return u=E.Z.addLabelToChildren(t.data),de(u),r.abrupt("return",u);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),$=function(){var _=(0,v.Z)((0,i.Z)().mark(function s(){var t,u;return(0,i.Z)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,C.Z.get("/sms/business/bizQuestionAccredit/getCourseList/0");case 2:if(t=r.sent,!(t&&t.data)){r.next=7;break}return u=t.data.map(function(e){return(0,S.Z)((0,S.Z)({},e),{},{label:e.title,value:e.id})}),oe(u),r.abrupt("return",u);case 7:return r.abrupt("return",[]);case 8:case"end":return r.stop()}},s)}));return function(){return _.apply(this,arguments)}}(),me=function(){var s,t;y==null||(s=y.current)===null||s===void 0||s.reload(),y==null||(t=y.current)===null||t===void 0||t.clearSelected()},te=function(s){return s.provider!=s.userId?"highlight-row":""},be=`
    .force-refresh {
      animation: refresh 0.1s;
    }
    @keyframes refresh {
      0% { opacity: 0.99; }
      100% { opacity: 1; }
    }
  `;return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)("style",{children:be}),(0,Z.jsx)(n.Z,{columns:x,className:"student",actionRef:y,formRef:ee,cardBordered:!0,scroll:{x:1500},search:{labelWidth:120,defaultCollapsed:!1},rowClassName:te,toolbar,request:{url:fe}})]})}},54493:function(Se,L){"use strict";var d=function(i,v){return v.some(function(A){return A.label.toLowerCase().indexOf(i.toLowerCase())>-1})};L.Z=d}}]);
