(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5351],{93123:function(ve,b,l){"use strict";l.r(b);var xe=l(71194),J=l(50146),Be=l(88983),F=l(55742),fe=l(14965),N=l(88137),je=l(47673),o=l(4107),pe=l(34792),M=l(48086),B=l(11849),f=l(39428),X=l(86582),k=l(93224),L=l(3182),De=l(49111),q=l(19650),Ie=l(57663),v=l(71577),Ce=l(71153),ee=l(60331),Pe=l(9715),u=l(55843),h=l(2824),Te=l(43358),_=l(34041),m=l(67294),te=l(71906),le=l(66801),ae=l(30381),j=l.n(ae),O=l(63863),e=l(85893),ue=["createTimeRange"],s=_.Z.Option;b.default=function(){var p=(0,m.useRef)(),se=(0,m.useState)(!1),W=(0,h.Z)(se,2),re=W[0],K=W[1],ne=u.Z.useForm(),ie=(0,h.Z)(ne,1),D=ie[0],de=(0,m.useState)(!1),U=(0,h.Z)(de,2),oe=U[0],I=U[1],_e=(0,m.useState)(null),w=(0,h.Z)(_e,2),Z=w[0],S=w[1],me=(0,m.useState)(!1),$=(0,h.Z)(me,2),ce=$[0],Q=$[1],G=(0,m.useRef)(),Ee=(0,m.useMemo)(function(){return[{id:1,name:"\u5F20\u4E09",type:0,education:1,mobile:"13800001111",idCard:"110101199001011234",weChat:"wx_zhangsan",qq:"123456789",sex:!1,project:"\u673A\u7535\u7C7B\u5DE5\u79CD",source:1,consultationTime:"2025-08-27 10:33:48",level:1,provider:1,owner:1,address:"\u5317\u4EAC\u5E02\u671D\u9633\u533A",description:"\u9AD8\u610F\u5411\u5BA2\u6237",userId:1,createTime:"2025-08-27 10:33:48",isDel:0,isFormal:!1,isInBlacklist:!1,isInWhitelist:!1,isLive:!1,isLocked:!1,isPeer:!1,levelWeight:5},{id:2,name:"\u674E\u56DB",type:0,education:2,mobile:"13900002222",idCard:"110101199002021234",weChat:"wx_lisi",qq:"987654321",sex:!0,project:"\u5E94\u6025\u7279\u79CD\u4F5C\u4E1A",source:2,consultationTime:"2025-08-26 11:34:14",level:0,provider:2,owner:2,address:"\u4E0A\u6D77\u5E02\u6D66\u4E1C\u65B0\u533A",description:"\u666E\u901A\u5BA2\u6237",userId:2,createTime:"2025-08-26 11:34:14",isDel:0,isFormal:!1,isInBlacklist:!1,isInWhitelist:!1,isLive:!1,isLocked:!1,isPeer:!1,levelWeight:3}]},[]),he=[{title:"\u5B66\u5458\u59D3\u540D",dataIndex:"name",hideInTable:!0,fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u5B66\u5458\u59D3\u540D"}},{title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"mobile",hideInTable:!0,fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD"}},{title:"\u5FAE\u4FE1",dataIndex:"weChat",hideInTable:!0,fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1"}},{title:"QQ",dataIndex:"qq",hideInTable:!0,fieldProps:{placeholder:"\u8BF7\u8F93\u5165QQ"}},{title:"\u8EAB\u4EFD\u8BC1\u53F7",dataIndex:"idCard",hideInTable:!0,fieldProps:{placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1\u53F7"}},{title:"\u5B66\u5458\u7C7B\u578B",dataIndex:"type",hideInTable:!0,valueType:"select",valueEnum:{0:{text:"\u4E2A\u4EBA"},1:{text:"\u4F01\u4E1A"}}},{title:"\u5BA2\u6237\u6765\u6E90",dataIndex:"source",hideInTable:!0,valueType:"select",valueEnum:{1:{text:"\u5934\u6761\u4FE1\u606F\u6D41"},2:{text:"\u5546\u52A1\u6D3D\u8C08"},3:{text:"\u5FAE\u535A\u4FE1\u606F\u6D41"}}},{title:"\u610F\u5411\u7B49\u7EA7",dataIndex:"level",hideInTable:!0,valueType:"select",valueEnum:{0:{text:"\u666E\u901A"},1:{text:"\u9AD8\u610F\u5411"}}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTimeRange",valueType:"dateTimeRange",hideInTable:!0},{title:"\u5B66\u5458\u59D3\u540D",dataIndex:"name",ellipsis:!0,render:function(r,t){return(0,e.jsx)("a",{children:t.name})},width:100,fixed:"left"},{title:"\u5B66\u5458\u7C7B\u578B",dataIndex:"type",width:80,render:function(r,t){return t.type===0?"\u4E2A\u4EBA":"\u4F01\u4E1A"}},{title:"\u8054\u7CFB\u7535\u8BDD",dataIndex:"mobile",width:120},{title:"\u5FAE\u4FE1",dataIndex:"weChat",width:100},{title:"QQ",dataIndex:"qq",width:100},{title:"\u6027\u522B",dataIndex:"sex",width:60,render:function(r,t){return t.sex?"\u5973":"\u7537"}},{title:"\u62A5\u8003\u5C97\u4F4D",dataIndex:"project",width:120,ellipsis:!0},{title:"\u5BA2\u6237\u6765\u6E90",dataIndex:"source",width:100,render:function(r,t){var n={1:"\u5934\u6761\u4FE1\u606F\u6D41",2:"\u5546\u52A1\u6D3D\u8C08",3:"\u5FAE\u535A\u4FE1\u606F\u6D41"};return n[t.source]||"\u672A\u77E5"}},{title:"\u54A8\u8BE2\u65F6\u95F4",dataIndex:"consultationTime",valueType:"dateTime",width:150},{title:"\u610F\u5411\u7B49\u7EA7",dataIndex:"level",width:80,render:function(r,t){return(0,e.jsx)(ee.Z,{color:t.level===1?"red":"default",children:t.level===1?"\u9AD8\u610F\u5411":"\u666E\u901A"})}},{title:"\u4FE1\u606F\u63D0\u4F9B\u4EBA",dataIndex:"provider",width:100},{title:"\u4FE1\u606F\u6240\u6709\u4EBA",dataIndex:"owner",width:100},{title:"\u5730\u5740",dataIndex:"address",width:120,ellipsis:!0},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",width:150},{title:"\u64CD\u4F5C",valueType:"option",width:80,fixed:"right",render:function(r,t){return[(0,e.jsx)("a",{onClick:function(){S(t),D.setFieldsValue({name:t.name,type:t.type,education:t.education,mobile:t.mobile,idCard:t.idCard,weChat:t.weChat,qq:t.qq,sex:t.sex,project:t.project,source:t.source,consultationTime:j()(t.consultationTime),level:t.level,provider:t.provider,owner:t.owner,address:t.address,description:t.description}),I(!0)},children:"\u7F16\u8F91"},"edit")]}}];return(0,e.jsxs)(te.ZP,{children:[(0,e.jsx)(le.ZP,{rowKey:"id",columns:he,actionRef:p,loading:re,formRef:G,search:{labelWidth:"auto",defaultCollapsed:!0},scroll:{x:1200,y:"calc(100vh - 280px)"},pagination:{defaultPageSize:20,showSizeChanger:!0,showQuickJumper:!0,showTotal:function(r,t){return"\u7B2C ".concat(t[0],"-").concat(t[1]," \u6761/\u603B\u5171 ").concat(r," \u6761")}},toolBarRender:function(){return[(0,e.jsxs)(q.Z,{children:[(0,e.jsx)(v.Z,{onClick:function(){var t,n;(t=G.current)===null||t===void 0||t.resetFields(),(n=p.current)===null||n===void 0||n.reload()},children:"\u91CD\u7F6E"}),(0,e.jsx)(v.Z,{type:"primary",onClick:function(){var t;return(t=p.current)===null||t===void 0?void 0:t.reload()},children:"\u67E5\u8BE2"}),(0,e.jsx)(v.Z,{type:"primary",onClick:function(){S(null),D.resetFields(),I(!0)},children:"\u65B0\u5EFA"}),(0,e.jsx)(v.Z,{children:"\u6279\u91CF\u5BFC\u5165"}),(0,e.jsx)(v.Z,{children:"\u5BFC\u51FA"})]},"toolbar")]},request:function(){var d=(0,L.Z)((0,f.Z)().mark(function r(t){var n,c,C,a,g,P,T,E,A,Y,z,H,V;return(0,f.Z)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return K(!0),i.prev=1,i.next=4,O.Z.getNewMediaStudents(t);case 4:return a=i.sent,i.abrupt("return",{data:((n=a.data)===null||n===void 0?void 0:n.content)||a.data||[],success:a.status==="success",total:((c=a.data)===null||c===void 0?void 0:c.totalElements)||((C=a.data)===null||C===void 0?void 0:C.length)||0});case 8:return i.prev=8,i.t0=i.catch(1),console.error("\u83B7\u53D6\u5B66\u5458\u5217\u8868\u5931\u8D25:",i.t0),g=t,P=g.createTimeRange,T=(0,k.Z)(g,ue),E=(0,X.Z)(Ee),Object.keys(T).forEach(function(x){T[x]&&(E=E.filter(function(y){var R;return String((R=y[x])!==null&&R!==void 0?R:"").includes(String(T[x]))}))}),P&&P.length===2&&(A=(0,h.Z)(P,2),Y=A[0],z=A[1],H=j()(Y),V=j()(z),E=E.filter(function(x){var y=j()(x.createTime);return y.isBetween(H,V,void 0,"[]")})),i.abrupt("return",{data:E,success:!0,total:E.length});case 16:return i.prev=16,K(!1),i.finish(16);case 19:case"end":return i.stop()}},r,null,[[1,8,16,19]])}));return function(r){return d.apply(this,arguments)}}()}),(0,e.jsx)(J.Z,{title:Z?"\u7F16\u8F91\u5B66\u5458":"\u65B0\u5EFA",open:oe,onCancel:function(){return I(!1)},width:900,confirmLoading:ce,onOk:(0,L.Z)((0,f.Z)().mark(function d(){var r,t,n,c;return(0,f.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,Q(!0),a.next=4,D.validateFields();case 4:if(n=a.sent,c=(0,B.Z)((0,B.Z)({},n),{},{consultationTime:(r=n.consultationTime)===null||r===void 0?void 0:r.format("YYYY-MM-DD HH:mm:ss"),createTime:new Date().toISOString(),isDel:0,isFormal:!1,isInBlacklist:!1,isInWhitelist:!1,isLive:!1,isLocked:!1,isPeer:!1,levelWeight:n.level===1?5:3}),!Z){a.next=12;break}return a.next=9,O.Z.addStudentsToGroup([(0,B.Z)((0,B.Z)({},c),{},{id:Z.id})]);case 9:M.default.success("\u7F16\u8F91\u6210\u529F"),a.next=15;break;case 12:return a.next=14,O.Z.addStudentsToGroup([c]);case 14:M.default.success("\u65B0\u589E\u6210\u529F");case 15:I(!1),(t=p.current)===null||t===void 0||t.reload(),a.next=23;break;case 19:a.prev=19,a.t0=a.catch(0),console.error("\u4FDD\u5B58\u5931\u8D25:",a.t0),M.default.error("\u4FDD\u5B58\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5");case 23:return a.prev=23,Q(!1),a.finish(23);case 26:case"end":return a.stop()}},d,null,[[0,19,23,26]])})),children:(0,e.jsx)(u.Z,{form:D,layout:"vertical",children:(0,e.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:8},children:[(0,e.jsx)(u.Z.Item,{label:"\u5B66\u5458\u7C7B\u578B",name:"type",style:{marginBottom:10},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5B66\u5458\u7C7B\u578B"}],children:(0,e.jsxs)(_.Z,{placeholder:"\u8BF7\u9009\u62E9",children:[(0,e.jsx)(s,{value:0,children:"\u4E2A\u4EBA"}),(0,e.jsx)(s,{value:1,children:"\u4F01\u4E1A"})]})}),(0,e.jsx)(u.Z.Item,{label:"\u5B66\u5458\u59D3\u540D",name:"name",style:{marginBottom:10},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u59D3\u540D"}],children:(0,e.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165\u59D3\u540D"})}),(0,e.jsx)("div",{}),(0,e.jsx)(u.Z.Item,{label:"\u8054\u7CFB\u7535\u8BDD",name:"mobile",style:{marginBottom:10},rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD"}],children:(0,e.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD"})}),(0,e.jsx)(u.Z.Item,{label:"\u8EAB\u4EFD\u8BC1\u53F7",name:"idCard",style:{marginBottom:10},children:(0,e.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165\u8EAB\u4EFD\u8BC1"})}),(0,e.jsx)("div",{}),(0,e.jsx)(u.Z.Item,{label:"\u5FAE\u4FE1",name:"weChat",style:{marginBottom:10},children:(0,e.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165\u5FAE\u4FE1"})}),(0,e.jsx)(u.Z.Item,{label:"QQ",name:"qq",style:{marginBottom:10},children:(0,e.jsx)(o.Z,{placeholder:"\u8BF7\u8F93\u5165QQ"})}),(0,e.jsx)(u.Z.Item,{label:"\u6027\u522B",name:"sex",style:{marginBottom:10},children:(0,e.jsxs)(_.Z,{placeholder:"\u8BF7\u9009\u62E9",children:[(0,e.jsx)(s,{value:!1,children:"\u7537"}),(0,e.jsx)(s,{value:!0,children:"\u5973"})]})}),(0,e.jsx)(u.Z.Item,{label:"\u5B66\u5386",name:"education",style:{marginBottom:10},children:(0,e.jsxs)(_.Z,{placeholder:"\u8BF7\u9009\u62E9",children:[(0,e.jsx)(s,{value:1,children:"\u9AD8\u4E2D"}),(0,e.jsx)(s,{value:2,children:"\u5927\u4E13"}),(0,e.jsx)(s,{value:3,children:"\u672C\u79D1"}),(0,e.jsx)(s,{value:4,children:"\u7855\u58EB"}),(0,e.jsx)(s,{value:5,children:"\u535A\u58EB"})]})}),(0,e.jsx)(u.Z.Item,{label:"\u5BA2\u6237\u6765\u6E90",name:"source",style:{marginBottom:10},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5BA2\u6237\u6765\u6E90"}],children:(0,e.jsxs)(_.Z,{placeholder:"\u8BF7\u9009\u62E9",children:[(0,e.jsx)(s,{value:1,children:"\u5934\u6761\u4FE1\u606F\u6D41"}),(0,e.jsx)(s,{value:2,children:"\u5546\u52A1\u6D3D\u8C08"}),(0,e.jsx)(s,{value:3,children:"\u5FAE\u535A\u4FE1\u606F\u6D41"})]})}),(0,e.jsx)(u.Z.Item,{label:"\u54A8\u8BE2\u65E5\u671F",name:"consultationTime",style:{marginBottom:10},rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u54A8\u8BE2\u65E5\u671F"}],children:(0,e.jsx)(N.Z,{showTime:!0,style:{width:"100%"}})}),(0,e.jsx)(u.Z.Item,{label:"\u610F\u5411\u7B49\u7EA7",name:"level",style:{marginBottom:10},children:(0,e.jsxs)(F.ZP.Group,{children:[(0,e.jsx)(F.ZP,{value:0,children:"\u666E\u901A"}),(0,e.jsx)(F.ZP,{value:1,children:"\u9AD8\u610F\u5411"})]})}),(0,e.jsx)(u.Z.Item,{label:"\u62A5\u8003\u5C97\u4F4D",name:"project",style:{marginBottom:10},children:(0,e.jsx)(o.Z,{placeholder:"\u54A8\u8BE2\u62A5\u8003\u5C97\u4F4D"})}),(0,e.jsx)("div",{}),(0,e.jsx)(u.Z.Item,{label:"\u4FE1\u606F\u63D0\u4F9B\u4EBA",name:"provider",style:{marginBottom:10},children:(0,e.jsxs)(_.Z,{placeholder:"\u8BF7\u9009\u62E9",children:[(0,e.jsx)(s,{value:1,children:"\u7CFB\u7EDF\u7BA1\u7406\u5458"}),(0,e.jsx)(s,{value:2,children:"\u6E20\u9053\u90E8"}),(0,e.jsx)(s,{value:3,children:"\u9500\u552E\u90E8"})]})}),(0,e.jsx)(u.Z.Item,{label:"\u4FE1\u606F\u6240\u6709\u4EBA",name:"owner",style:{marginBottom:10},children:(0,e.jsxs)(_.Z,{placeholder:"\u8BF7\u9009\u62E9",children:[(0,e.jsx)(s,{value:1,children:"\u7CFB\u7EDF\u7BA1\u7406\u5458"}),(0,e.jsx)(s,{value:2,children:"\u6E20\u9053\u90E8"}),(0,e.jsx)(s,{value:3,children:"\u9500\u552E\u90E8"})]})}),(0,e.jsx)("div",{}),(0,e.jsx)(u.Z.Item,{label:"\u5730\u5740",name:"address",style:{gridColumn:"1 / span 3",marginBottom:10},children:(0,e.jsx)(o.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u5730\u5740...",rows:2})}),(0,e.jsx)(u.Z.Item,{label:"\u5907\u6CE8",name:"description",style:{gridColumn:"1 / span 3",marginBottom:0},children:(0,e.jsx)(o.Z.TextArea,{placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8...",rows:3})})]})})})]})}}}]);
