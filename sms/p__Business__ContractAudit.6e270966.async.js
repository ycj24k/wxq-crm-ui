(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[115],{19619:function($,o,e){"use strict";e.d(o,{Z:function(){return u}});var m=e(28991),_=e(67294),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"},E=O,g=e(27029),r=function(i,v){return _.createElement(g.Z,(0,m.Z)((0,m.Z)({},i),{},{ref:v,icon:E}))},x=_.forwardRef(r),u=x},26438:function($,o,e){"use strict";e.r(o);var m=e(54029),_=e(79166),O=e(62350),E=e(24565),g=e(57663),r=e(71577),x=e(71153),u=e(60331),p=e(11849),i=e(2824),v=e(22),G=e(71906),c=e(37490),I=e(63863),l=e(67294),Q=e(40110),X=e(19619),Y=e(41574),k=e(42025),w=e(7903),q=e(26816),j=e(54493),t=e(85893);o.default=function(C){var T=C.type,ee=T===void 0?"":T,B=C.hidden,Me=C.onCancel,te=(0,l.useState)(!1),R=(0,i.Z)(te,2),Z=R[0],M=R[1],ae=(0,l.useState)(!1),y=(0,i.Z)(ae,2),ne=y[0],se=y[1],ie=(0,l.useState)({"auditType-isNull":!0}),S=(0,i.Z)(ie,2),le=S[0],h=S[1],re=(0,l.useState)(!1),b=(0,i.Z)(re,2),U=b[0],L=b[1],ue=(0,l.useState)(!1),K=(0,i.Z)(ue,2),W=K[0],V=K[1],de=(0,l.useState)(null),F=(0,i.Z)(de,2),D=F[0],f=F[1],oe=(0,l.useState)(),N=(0,i.Z)(oe,2),_e=N[0],he=N[1],ce=(0,l.useState)([0,0]),z=(0,i.Z)(ce,2),fe=z[0],me=z[1],H=(0,l.useRef)(),Ee="/sms/business/bizStudentUser",P=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;H.current.reload(),s&&J()},ve=[{title:"\u5408\u540C\u540D\u79F0",dataIndex:"name"},{title:"\u5B66\u5458\u59D3\u540D",dataIndex:"studentName",render:function(s,a){return(0,t.jsx)("a",{onClick:function(){I.Z.get(Ee,{id:a.studentUserId}).then(function(d){f((0,p.Z)({},d.data.content[0])),V(!0)})},children:a.studentName})}},{title:"\u9879\u76EE\u603B\u79F0",dataIndex:"parentProjects",key:"parentProjects",sorter:!0,valueType:"cascader",fieldProps:{options:c.Z.getList("dict_reg_job"),showSearch:{filter:j.Z}},width:150,render:function(s,a){return(0,t.jsx)("span",{children:c.Z.getCascaderAllName("dict_reg_job",a.project)},"parentProjects")}},{title:"\u5BF9\u5E94\u9879\u76EE",dataIndex:"project",key:"project",valueType:"cascader",fieldProps:{options:c.Z.getCascader("dict_reg_job"),showSearch:{filter:j.Z}},render:function(s,a){return(0,t.jsx)("span",{children:c.Z.getCascaderName("dict_reg_job",a.project)})}},{title:"\u5408\u540C\u91D1\u989D",dataIndex:"amount",search:!1},{title:"\u7B7E\u7F72\u8001\u5E08",dataIndex:"userName",search:!1},{title:"\u5907\u6CE8",dataIndex:"description",search:!1,ellipsis:!0,tip:"\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u5BA1\u6838\u72B6\u6001",dataIndex:"confirm",render:function(s,a){return(0,t.jsx)(t.Fragment,{children:a.confirm===!1?(0,t.jsx)(u.Z,{color:"#FF0000",children:"\u90E8\u95E8\u4E3B\u7BA1\u672A\u901A\u8FC7"}):a.auditType=="5"?(0,t.jsx)(u.Z,{color:"#87d068",children:"\u5DF2\u901A\u8FC7"}):(0,t.jsx)(u.Z,{color:"#f50",children:"\u672A\u5BA1\u6838"})})}},{title:"\u5BA1\u6838\u5EFA\u8BAE",dataIndex:"remark",search:!1,ellipsis:!0,tip:"\u8FC7\u957F\u4F1A\u81EA\u52A8\u6536\u7F29"},{title:"\u5BA1\u6838\u4EBA",dataIndex:"auditor",search:!1},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createTime",dataIndex:"createTime",valueType:"dateRange",sorter:!0,render:function(s,a){return(0,t.jsx)("span",{children:a.createTime})}},{title:"\u67E5\u770B",dataIndex:"options",search:!1,render:function(s,a){return[(0,t.jsx)(r.Z,{type:"primary",size:"small",hidden:ee==="contract",icon:(0,t.jsx)(Q.Z,{}),style:{marginRight:"15px"},onClick:function(){f(a),L(!0)}},"eidt")]}},{title:"\u5BA1\u6838\u64CD\u4F5C",search:!1,render:function(s,a){return[(0,t.jsx)(E.Z,{title:"\u5408\u540C\u5BA1\u6838",okText:"\u901A\u8FC7",cancelText:"\u672A\u901A\u8FC7",onConfirm:function(d){d==null||d.stopPropagation(),f({auditNum:a!=null&&a.auditType?a.auditType:4,confirm:!0,id:a.id}),M(!0)},onCancel:function(){f({auditNum:a!=null&&a.auditType?a.auditType:4,confirm:!1,id:a.id}),M(!0)},children:(0,t.jsx)(r.Z,{type:"primary",size:"small",icon:(0,t.jsx)(X.Z,{}),style:{marginRight:"10px",marginBottom:"8px"},children:"\u5BA1\u6838"})},"look-contract-audit"),(0,t.jsx)(r.Z,{type:"primary",size:"small",href:a.downloadUrl,children:"\u5408\u540C\u4E0B\u8F7D"},"upDown")]}}],J=function(){I.Z.get("/sms/contract/conContract/statistics",{array:JSON.stringify([{"auditType-isNull":!0}])}).then(function(s){me(s.data)})};(0,l.useEffect)(function(){J()},[]);var Ce=le;return(0,t.jsxs)(G.ZP,{header:{title:B?"":"\u5408\u540C\u5BA1\u6838"},children:[(0,t.jsx)(v.Z,{actionRef:H,columns:ve,className:"ContractAudit",request:{url:"/sms/contract/conContract",params:Ce},search:B?!1:{defaultCollapsed:!1},toolbar:{menu:{type:"tab",items:[{key:"4",label:(0,t.jsx)(_.Z,{count:fe[0],size:"small",offset:[5,3],children:(0,t.jsx)("span",{children:"\u2460\u4E3B\u7BA1\u5BA1\u6838"})})},{key:"5",label:(0,t.jsx)("span",{children:"\u5BA1\u6838\u5B8C\u6210"})},{key:"false",label:(0,t.jsx)("span",{children:"\u5BA1\u6838\u672A\u901A\u8FC7"})}],onChange:function(s){h(s==="false"?{confirm:!1}:s==="4"?{"auditType-isNull":!0}:{auditType:s,"confirm-isNot":!1}),P(!1)}}}}),(0,t.jsx)(Y.Z,{previewVisible:ne,setPreviewVisible:function(){return se(!1)},previewImage:_e}),Z&&(0,t.jsx)(k.Z,{setModalVisible:function(){return M(!1)},modalVisible:Z,callbackRef:function(){return P()},renderData:D}),W&&(0,t.jsx)(w.Z,{setModalVisible:function(){return V(!1)},modalVisible:W,renderData:D,callbackRef:function(){return P()}}),U&&(0,t.jsx)(q.Z,{setModalVisibles:function(){return L(!1)},ModalVisibles:U,renderData:D})]})}}}]);
